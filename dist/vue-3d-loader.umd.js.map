{"version":3,"file":"vue-3d-loader.umd.js","mappings":"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;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D,IAAI;AACJ;AACA;AACA,CAAC;;AAED;AACA;AACA,IAAI,sGAAsG;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;ACvCY;AACb,QAAQ,mBAAO,CAAC,IAAqB;AACrC,eAAe,mBAAO,CAAC,IAAwB;AAC/C,wBAAwB,mBAAO,CAAC,IAAmC;AACnE,qBAAqB,mBAAO,CAAC,IAA+B;AAC5D,4BAA4B,mBAAO,CAAC,IAAuC;AAC3E,+BAA+B,mBAAO,CAAC,IAA2C;;AAElF;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D,IAAI;AACJ;AACA;AACA,CAAC;;AAED;AACA;AACA,IAAI,mGAAmG;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA,MAAM;AACN;AACA,CAAC;;;;;;;;AC1CD,aAAa,mBAAO,CAAC,IAAqB;AAC1C,kBAAkB,mBAAO,CAAC,IAA0B;AACpD,4BAA4B,mBAAO,CAAC,IAAuC;AAC3E,kBAAkB,mBAAO,CAAC,IAA2B;AACrD,YAAY,mBAAO,CAAC,IAAoB;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;UCtDD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA,MAAM,KAAuC,EAAE,yBAQ5C;;AAEH;AACA;AACA,IAAI,qBAAuB;AAC3B;AACA;;AAEA;AACA,kDAAe,IAAI;;;ACtBnB,IAAIA,MAAM,GAAG,SAASA,MAAM,GAAE;EAAC,IAAIC,GAAG,GAAC,IAAI;IAACC,EAAE,GAACD,GAAG,CAACE,KAAK,CAACD,EAAE;EAAC,OAAOA,EAAE,CAAC,KAAK,EAAC;IAACE,GAAG,EAAC,WAAW;IAACC,WAAW,EAAC;EAAkB,CAAC,EAAC,CAACH,EAAE,CAAC,QAAQ,EAAC;IAACE,GAAG,EAAC,QAAQ;IAACC,WAAW,EAAC;EAAe,CAAC,CAAC,CAAC,CAAC;AACvL,CAAC;AACD,IAAIC,eAAe,GAAG,EAAE;;;;;;;ACFxB;AACA;AACA;AACA;AACA,GACA,KAAMC,SAAQ,CAAG,KAAK,CACtB,KAAMC,CAAAA,kBAAK,CAAG,CAAEC,IAAI,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,GAAG,CAAE,CAAE,CAAC,CAC3E,KAAMC,CAAAA,kBAAK,CAAG,CAAEH,MAAM,CAAE,CAAC,CAAEE,GAAG,CAAE,CAAC,CAAEE,SAAS,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAE,CAAC,CAClE,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,cAAa,CAAG,CAAC,CACvB,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,eAAc,CAAG,CAAC,CACxB,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,iBAAgB,CAAG,CAAC,CAC1B,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,UAAS,CAAG,CAAC,CACnB,KAAMC,SAAQ,CAAG,CAAC,CAClB,KAAMC,WAAU,CAAG,CAAC,CACpB,KAAMC,YAAW,CAAG,CAAC,CACrB,KAAMC,cAAa,CAAG,CAAC,CACvB,KAAMC,WAAU,CAAG,CAAC,CACpB,KAAMC,eAAc,CAAG,CAAC,CACxB,KAAMC,iBAAgB,CAAG,CAAC,CAC1B,KAAMC,oBAAmB,CAAG,CAAC,CAC7B,KAAMC,iBAAgB,CAAG,CAAC,CAC1B,KAAMC,eAAc,CAAG,CAAC,CACxB,KAAMC,YAAW,CAAG,GAAG,CACvB,KAAMC,iBAAgB,CAAG,GAAG,CAC5B,KAAMC,wBAAuB,CAAG,GAAG,CACnC,KAAMC,YAAW,CAAG,GAAG,CACvB,KAAMC,YAAW,CAAG,GAAG,CACvB,KAAMC,WAAU,CAAG,GAAG,CACtB,KAAMC,UAAS,CAAG,GAAG,CACrB,KAAMC,eAAc,CAAG,GAAG,CAC1B,KAAMC,uBAAsB,CAAG,GAAG,CAClC,KAAMC,eAAc,CAAG,GAAG,CAC1B,KAAMC,uBAAsB,CAAG,GAAG,CAClC,KAAMC,eAAc,CAAG,GAAG,CAC1B,KAAMC,uBAAsB,CAAG,GAAG,CAClC,KAAMC,eAAc,CAAG,GAAG,CAC1B,KAAMC,uBAAsB,CAAG,GAAG,CAClC,KAAMC,uBAAsB,CAAG,GAAG,CAClC,KAAMC,WAAU,CAAG,CAAC,CACpB,KAAMC,YAAW,CAAG,CAAC,CACrB,KAAMC,UAAS,CAAG,CAAC,CACnB,KAAMC,eAAc,CAAG,CAAC,CACxB,KAAMC,WAAU,CAAG,CAAC,CACpB,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,cAAa,CAAG,CAAC,CACvB,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,aAAY,CAAG,CAAC,CACtB,KAAMC,cAAa,CAAG,CAAC,CACvB,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,oBAAmB,CAAG,CAAC,CAC7B,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,sBAAqB,CAAG,CAAC,CAC/B,KAAMC,kBAAiB,CAAG,CAAC,CAE3B,KAAMC,UAAS,CAAG,GAAG,CACrB,KAAMC,sBAAqB,CAAG,GAAG,CACjC,KAAMC,sBAAqB,CAAG,GAAG,CACjC,KAAMC,iCAAgC,CAAG,GAAG,CAC5C,KAAMC,iCAAgC,CAAG,GAAG,CAC5C,KAAMC,wBAAuB,CAAG,GAAG,CACnC,KAAMC,eAAc,CAAG,IAAI,CAC3B,KAAMC,oBAAmB,CAAG,IAAI,CAChC,KAAMC,uBAAsB,CAAG,IAAI,CACnC,KAAMC,cAAa,CAAG,IAAI,CAC1B,KAAMC,2BAA0B,CAAG,IAAI,CACvC,KAAMC,2BAA0B,CAAG,IAAI,CACvC,KAAMC,0BAAyB,CAAG,IAAI,CACtC,KAAMC,0BAAyB,CAAG,IAAI,CACtC,KAAMC,aAAY,CAAG,IAAI,CACzB,KAAMC,0BAAyB,CAAG,IAAI,CACtC,KAAMC,0BAAyB,CAAG,IAAI,CACtC,KAAMC,yBAAwB,CAAG,IAAI,CACrC,KAAMC,yBAAwB,CAAG,IAAI,CACrC,KAAMC,iBAAgB,CAAG,IAAI,CAC7B,KAAMC,SAAQ,CAAG,IAAI,CACrB,KAAMC,UAAS,CAAG,IAAI,CACtB,KAAMC,kBAAiB,CAAG,IAAI,CAC9B,KAAMC,QAAO,CAAG,IAAI,CACpB,KAAMC,gBAAe,CAAG,IAAI,CAC5B,KAAMC,UAAS,CAAG,IAAI,CACtB,KAAMC,cAAa,CAAG,IAAI,CAC1B,KAAMC,sBAAqB,CAAG,IAAI,CAClC,KAAMC,sBAAqB,CAAG,IAAI,CAClC,KAAMC,mBAAkB,CAAG,IAAI,CAC/B,KAAMC,YAAW,CAAG,IAAI,CACxB,KAAMC,UAAS,CAAG,IAAI,CACtB,KAAMC,WAAU,CAAG,IAAI,CACvB,KAAMC,gBAAe,CAAG,IAAI,CAC5B,KAAMC,qBAAoB,CAAG,IAAI,CACjC,KAAMC,YAAW,CAAG,IAAI,CACxB,KAAMC,mBAAkB,CAAG,IAAI,CAC/B,KAAMC,UAAS,CAAG,IAAI,CACtB,KAAMC,iBAAgB,CAAG,IAAI,CAC7B,KAAMC,SAAQ,CAAG,IAAI,CACrB,KAAMC,gBAAe,CAAG,IAAI,CAC5B,KAAMC,kBAAiB,CAAG,IAAI,CAE9B,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,wBAAuB,CAAG,KAAK,CACrC,KAAMC,wBAAuB,CAAG,KAAK,CACrC,KAAMC,yBAAwB,CAAG,KAAK,CACtC,KAAMC,yBAAwB,CAAG,KAAK,CACtC,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,qBAAoB,CAAG,KAAK,CAClC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,sBAAqB,CAAG,KAAK,CACnC,KAAMC,uBAAsB,CAAG,KAAK,CACpC,KAAMC,uBAAsB,CAAG,KAAK,CACpC,KAAMC,uBAAsB,CAAG,KAAK,CACpC,KAAMC,iBAAgB,CAAG,KAAK,CAC9B,KAAMC,SAAQ,CAAG,IAAI,CACrB,KAAMC,WAAU,CAAG,IAAI,CACvB,KAAMC,aAAY,CAAG,IAAI,CACzB,KAAMC,oBAAmB,CAAG,IAAI,CAChC,KAAMC,kBAAiB,CAAG,IAAI,CAC9B,KAAMC,kBAAiB,CAAG,IAAI,CAC9B,KAAMC,oBAAmB,CAAG,IAAI,CAChC,KAAMC,gBAAe,CAAG,IAAI,CAC5B,KAAMC,iBAAgB,CAAG,IAAI,CAC7B,KAAMC,yBAAwB,CAAG,IAAI,CACrC,KAAMC,2BAA0B,CAAG,IAAI,CACvC,KAAMC,kBAAiB,CAAG,CAAC,CAC3B,KAAMC,sBAAqB,CAAG,CAAC,CAC/B,KAAMC,oBAAmB,CAAG,CAAC,CAC7B,KAAMC,eAAc,CAAG,IAAI,CAC3B,KAAMC,aAAY,CAAG,IAAI,CACzB,KAAMC,kBAAiB,CAAG,IAAI,CAC9B,KAAMC,iBAAgB,CAAG,IAAI,CAC7B,KAAMC,sBAAqB,CAAG,CAAC,CAC/B,KAAMC,qBAAoB,CAAG,CAAC,CAE9B;AACA,KAAMC,aAAY,CAAG,EAAE,CACvB,KAAMC,eAAc,CAAG,MAAM,CAC7B,KAAMC,qBAAoB,CAAG,aAAa,CAE1C,KAAMC,cAAa,CAAG,CAAC,CACvB,KAAMC,cAAa,CAAG,IAAI,CAC1B,KAAMC,iBAAgB,CAAG,IAAI,CAC7B,KAAMC,mBAAkB,CAAG,IAAI,CAC/B,KAAMC,mBAAkB,CAAG,IAAI,CAC/B,KAAMC,uBAAsB,CAAG,KAAK,CACpC,KAAMC,uBAAsB,CAAG,KAAK,CACpC,KAAMC,gBAAe,CAAG,IAAI,CAE5B,KAAMC,iBAAgB,CAAG,GAAG,CAC5B,KAAMC,gBAAe,CAAG,GAAG,CAC3B,KAAMC,iBAAgB,CAAG,GAAG,CAC5B,KAAMC,qBAAoB,CAAG,GAAG,CAChC,KAAMC,mBAAkB,CAAG,GAAG,CAC9B,KAAMC,oBAAmB,CAAG,GAAG,CAC/B,KAAMC,wBAAuB,CAAG,GAAG,CACnC,KAAMC,kBAAiB,CAAG,GAAG,CAE7B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,iBAAgB,CAAG,KAAK,CAC9B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,iBAAgB,CAAG,KAAK,CAC9B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,gBAAe,CAAG,KAAK,CAC7B,KAAMC,iBAAgB,CAAG,KAAK,CAC9B,KAAMC,gBAAe,CAAG,KAAK,CAE7B,KAAMC,MAAK,CAAG,KAAK,CACnB,KAAMC,MAAK,CAAG,QAAQ,CAEtB,KAAMC,aAAY,CAAG,IAAI,CAAE;AAE3B;AACA;AACA,GAEA,KAAMC,gBAAgB,CAErBC,gBAAgB,CAAEC,IAAI,CAAEC,QAAQ,CAAG,CAElC,GAAK,IAAI,CAACC,UAAU,GAAKC,SAAS,CAAG,IAAI,CAACD,UAAU,CAAG,CAAC,CAAC,CAEzD,KAAME,UAAS,CAAG,IAAI,CAACF,UAAU,CAEjC,GAAKE,SAAS,CAAEJ,IAAI,CAAE,GAAKG,SAAS,CAAG,CAEtCC,SAAS,CAAEJ,IAAI,CAAE,CAAG,EAAE,CAEvB,CAEA,GAAKI,SAAS,CAAEJ,IAAI,CAAE,CAACK,OAAO,CAAEJ,QAAQ,CAAE,GAAK,CAAE,CAAC,CAAG,CAEpDG,SAAS,CAAEJ,IAAI,CAAE,CAACM,IAAI,CAAEL,QAAQ,CAAE,CAEnC,CAED,CAEAM,gBAAgB,CAAEP,IAAI,CAAEC,QAAQ,CAAG,CAElC,GAAK,IAAI,CAACC,UAAU,GAAKC,SAAS,CAAG,MAAO,MAAK,CAEjD,KAAMC,UAAS,CAAG,IAAI,CAACF,UAAU,CAEjC,MAAOE,UAAS,CAAEJ,IAAI,CAAE,GAAKG,SAAS,EAAIC,SAAS,CAAEJ,IAAI,CAAE,CAACK,OAAO,CAAEJ,QAAQ,CAAE,GAAK,CAAE,CAAC,CAExF,CAEAO,mBAAmB,CAAER,IAAI,CAAEC,QAAQ,CAAG,CAErC,GAAK,IAAI,CAACC,UAAU,GAAKC,SAAS,CAAG,OAErC,KAAMC,UAAS,CAAG,IAAI,CAACF,UAAU,CACjC,KAAMO,cAAa,CAAGL,SAAS,CAAEJ,IAAI,CAAE,CAEvC,GAAKS,aAAa,GAAKN,SAAS,CAAG,CAElC,KAAMO,MAAK,CAAGD,aAAa,CAACJ,OAAO,CAAEJ,QAAQ,CAAE,CAE/C,GAAKS,KAAK,GAAK,CAAE,CAAC,CAAG,CAEpBD,aAAa,CAACE,MAAM,CAAED,KAAK,CAAE,CAAC,CAAE,CAEjC,CAED,CAED,CAEAE,aAAa,CAAEC,KAAK,CAAG,CAEtB,GAAK,IAAI,CAACX,UAAU,GAAKC,SAAS,CAAG,OAErC,KAAMC,UAAS,CAAG,IAAI,CAACF,UAAU,CACjC,KAAMO,cAAa,CAAGL,SAAS,CAAES,KAAK,CAACb,IAAI,CAAE,CAE7C,GAAKS,aAAa,GAAKN,SAAS,CAAG,CAElCU,KAAK,CAACC,MAAM,CAAG,IAAI,CAEnB;AACA,KAAMC,MAAK,CAAGN,aAAa,CAACO,KAAK,CAAE,CAAC,CAAE,CAEtC,IAAM,GAAIC,EAAC,CAAG,CAAC,CAAEC,CAAC,CAAGH,KAAK,CAACI,MAAM,CAAEF,CAAC,CAAGC,CAAC,CAAED,CAAC,EAAG,CAAG,CAEhDF,KAAK,CAAEE,CAAC,CAAE,CAACG,IAAI,CAAE,IAAI,CAAEP,KAAK,CAAE,CAE/B,CAEAA,KAAK,CAACC,MAAM,CAAG,IAAI,CAEpB,CAED,CAED,CAEA,KAAMO,KAAI,CAAG,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,I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CAwP;MACAxP;MACAw8M;QACA;UAAA75M;UAAAM;UAAA8V;QAAA;MACA;IACA;IACA62B;MACA5vC;MACAw8M;QACA,QACA;UACAx8M;UACAgR;QACA,GACA;UACAhR;UACAumB;YAAA5jB;YAAAM;YAAA8V;UAAA;UACA/H;UACAkhE;QACA,EACA;MACA;IACA;IACAmpB;MACAr7F;MACAw8M;QACA;UAAA75M;UAAAM;UAAA8V;QAAA;MACA;IACA;IACA0jM;IACAC;IACAC;IACAC;MACAC;MACAL;QACA;MACA;IACA;IACAM;MACA98M;MACAw8M;IACA;IACAO;IACArvF;MACA1tH;MACAw8M;IACA;IACA3uF;MACA7tH;MACAw8M;IACA;IACA/yI;MACAzpE;MACAw8M;IACA;IACAQ;IACAC;MACAj9M;IACA;IACAk9M;MACAl9M;MACAw8M;IACA;IACAW;MACAn9M;IACA;IACAo9M;MACAp9M;MACAw8M;QACA;MACA;IACA;IACAa;MACAr9M;MACAw8M;QACA;MACA;IACA;IACAc;IACAC;MACAv9M;MACAw8M;QACA;MACA;IACA;IACAH;MACAr8M;MACAw8M;QACA;MACA;IACA;IACAN;IACAsB;MACAx9M;MACAw8M;QACA;MACA;IACA;EACA;EACA9mM;IACA;IACA;MACA9C;QACAtL;QACAC;MACA;MACAke;MACAknB,eAAAA,SAAAA;MACAxqB,YAAAA,iBAAAA;MACA2wB,WAAAA,KAAAA;MACA2qK;MACA5qK;MACA6qK;MACAC;MACAC,WAAAA,KAAAA;MACAzwF;MACA0wF;MACA/0E;MACAg1E;MACAl9C;MACAm9C;IACA;IACAh3M;IACA;IACA;MACAi3M;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAvC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA3sM;MACAkvM;MACApnB;QACA;MACA;IACA;IACA5wK;MACAg4L;MACApnB;QACA;MACA;IACA;IACA3nL;MACA+uM;MACApnB;QACA;MACA;IACA;IACAvnJ;MACA2uK;MACApnB;QACA;MACA;IACA;IACAvkL;MACA2rM;MACApnB;QACA;QACA;MACA;IACA;IACA4lB;MACAwB;MACApnB;QACA;MACA;IACA;IACA2lB;MACA;IACA;IACAF;MACA;IACA;IACAH;MACA8B;MACApnB;QACA;MACA;IACA;IACA97F;MACAkjH;MACApnB;QACA;MACA;IACA;IACAimB;MACA;QACA;MACA;IACA;IACAG;MACA;IACA;IACAj2M;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA+1M;MACAiB;MACApnB;QACA;QACA;MACA;IACA;EACA;EACAqnB;IACAjuJ;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QAAAu9B;QAAA3jF;MAAA;MACA,8BACA,IACAs0M,gBACA,2BACA;QACA3pM;MACA,EACA;MAEA;QACA;QACA;QACA;QACA,+BACA;MACA;MAEA;QACA;MACA;MAEA;MACA;MAEA;MACA;MAEA4pM;MACA;MACA;MACAA;MACAA;MACAA;MACAnmF;MACA;MACA;QACA;QACAmmF;MACA;MACA;IACA;IACAC;MACA;QACArnK;MACA;MACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACAonK;MACAA;MACAA;MACAA;MACAA;MACAnmF;MACA;MACA;MACA;QACA;MACA;IACA;IACAqmF;MACA;QACA;UACA;UACA;YACAt3M;YACAC;UACA;UACA;QACA;MACA;IACA;IACA;IACAs3M;MACA;MACA;QACAH;MACA;QACAA;MACA;IACA;IACAv6D;MACA;MACA;MACA;IACA;IACAE;MACA;MACA;IACA;IACAy6D;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAt8M;MACAM;MACA;MACAi8M;MACAA;MACA;MACA,kDACAj0B,KACA,wBACA;MACA;IACA;IACAxsK;MACA;MACA;MACA;MACA;IACA;IACA0gM;MACA;QAAA15L;QAAAc;QAAAlX;QAAAG;MAAA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;UACA;UACA;YACAiW,oBACAc,mBACAA,mBACAA,kBACA;UACA;YACAd;UACA;QACA;UACA;UACAA;QACA;MACA;MACA;QACA;UACA;UACA;YACAA,oBACApW,mBACAA,mBACAA,kBACA;UACA;YACAoW;UACA;QACA;UACA;UACAA;QACA;MACA;MACA;QACA;UACA;UACA;YACAA;UACA;YACAA;UACA;QACA;UACA;UACAA;QACA;MACA;IACA;IACA;IACA25L;MACA,qBACAr+K;QACA;UACA;QACA;MACA,GACA+jC;IACA;IACAu6I;MACA;QAAAxsK;QAAAjgC;QAAAkqM;QAAAF;MAAA;MACA;QACA/pK;QACAA;QACAA,2BAAAA,KAAAA;QACAA;MACA;IACA;IACAs9C;MACA;QACAv9E;QACAuP;QACAsD;QACAk3L;QACAD;QACArhH;QACAohH;MACA;MACAt6L;MACAA;MACA;MACA;QACA;QACA;QACAA,oBACAk5E,kBACAA,kBACAA,iBACA;QACA;UACAl5E,oBACAs6L,kBACAA,kBACAA,iBACA;QACA;QACA,IACAphH,0BACAA,0BACAA,wBACA;UACAl5E;QACA;QACAA,kBAAAA,OAAAA;MACA;QACAA,oBACAk5E,kBACAA,kBACAA,iBACA;QACA;UACAl5E,oBACAs6L,kBACAA,kBACAA,iBACA;QACA;QAEAt6L;QACAA,cACA,4DACA;MACA;IACA;IACAm9L;MACA;MACA;MACA;QACA;QACA;QACA;QACA;UACA,cACAC;UACA,kBACAA;UACAlvI,YAAAA,YAAAA;QACA;UACA,cACAkvI;UACA,kBACAA;UACA;UACA;UACAlvI,YAAAA,UAAAA;UACA;YACAA;UACA;QACA;UACA,cACAkvI;UACA,kBACAA;UAEAlvI,YAAAA,gBAAAA;UAEA;YACAA;UACA;UAEA;YACAA;UACA;QACA;UACA,iBACAkvI,6BACAA,gBACAA;UACA,oBACAA,gCACAA,mBACAA;UACA,kBACAA;UAEAlvI,YAAAA,eAAAA;UAEA;YACAA;UACA;QACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAmvI;MACA;QACAz4M;MACA;IACA;IACA04M;MACA;MACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA3xF;MACA;MACA;MACA;MACA,2CACA,gBACA;MACA,kBACA,oCACA,gBACA,gBACA,uBACA;MACA,4BACA4xF,WACAC,WACA,kBACA,cACA;MACA;MACA,yCACAC,sBACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;YACA;YACA;UACA;UACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA,iBACA9D,UACA;QACA;QACA;QACA;QACA;QACA;UACA,eACA,wCACA,oBACA;UACA;YACA;UACA;QACA;QACA;QACA;MACA,GACAl7M;QACA;UACA;QACA;QACA;QACA;MACA,GACAA;QACA;MACA,EACA;IACA;IACAi/M;MACA;MACA;QACAvD;MACA;MACA;QACAA;MACA;MACA,aACA;MACA;MACA;MACA;MACAA;QACArkL;QACA;QACA;MACA;IACA;IACAkkL;MACA;IACA;IACA2D;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACAn9C;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACAo9C;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;QACA;UACAv9M;QACA;MACA;MACA;IACA;IACAxO;MACA;QACA;MACA;IACA;IACAgsN;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACA;UACA,IACA,yBACA,yCACA;YACA;YACA;cACA;cACA;gBACA;gBACA;cACA;cACA;YACA;UACA;YACA;UACA;QACA;MACA;MACA;MACA;QACAC;QACA;UACAhnD;UACAl3F;QACA;MACA;MACAA;IACA;IACAm+I;MACA;QACA;MACA;MACA36L;QACA;UACA,wBACAzK,SACAqlM;YACAjpL;YACAA;UACA,GACA,UACAsnD;YACA;UACA,EACA;QACA;MACA;IACA;IACA4hI;MACA;IACA;IACAC;MACA;MACA;MACA;QACAt1B;UACA;UACA;YACAs0B;UACA;YACA;YACAA;UACA;QACA;QACA;MACA;MACAt0B;IACA;IACAu1B;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;QACA;QACA;QACA;MACA;MAEA;QACA;QACA;QACA1lM;QACA;MACA;MAEA;QACA,+BACA2lM,+BACAC;QACA;UACA7/K;UACA/vB;UACA;UACA;QACA;;QACA;QACA;UACA2lC,iBACA4oK,mBACAA,mBACAA,kBACA;QACA;UACA5oK;QACA;QACA;UACAA,oBACA4oK,iBACAA,iBACAA,gBACA;QACA;QACA;UACA5oK;QACA;QACAs0I;MACA;IACA;IACA41B;MACA;QACA;UACA;UACAtB;QACA;MACA;IACA;IACAuB;MACA;MACA;QACAC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA;MACA;MACA,iBACA1uM;MACA;MACA;MACA,oBACAA;MACA;MACA,qBACAA;MACA;MACA;MACA;MACA0C;;MAEA;MACA;MACA;;MAEA;MACAA;MACA;MACAA;MAEAA;MACAisM,UACAjsM,SACAksM,iBACAA,iBACAC,yBACAC,8BACAC,aACA;MACA;MACArsM;MAEAA;MAEA;IACA;IACAssM;MACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA/B;UACA;YACA;YACA;cACA5xE;YACA;cACAA;YACA;UACA;QACA;MACA;IACA;IACA;IACA4zE;MACA;MACAt2B;QACA;QACA;UACAs0B;YACA;cACA;cACA;gBACA5xE;cACA;gBACAA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA,CAAC;;ACj/ByP,CAAC,kFAAe,mCAAG,EAAC;;ACA9Q;;;;;AEAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AC/F0F;AAC3B;AACL;AAC1D,CAAwF;;;AAGxF;AACmG;AACnG,gBAAgB,kBAAU;AAC1B,EAAE,6CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAe;;AClBqC;AACpD,MAAMj7H,UAAU,GAAG,CAAC8uM,WAAW,CAAC;;AAEhC;AACA,MAAMC,OAAO,GAAG,UAAUC,GAAG,EAAE;EAC7B;EACAhvM,UAAU,CAACquB,GAAG,CAAC4gL,SAAS,IAAI;IAC1BD,GAAG,CAACC,SAAS,CAACA,SAAS,CAACrxM,IAAI,EAAEqxM,SAAS,CAAC;EAC1C,CAAC,CAAC;AACJ,CAAC;AAED,IAAI,OAAOppF,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACmpF,GAAG,EAAE;EAC/CD,OAAO,CAAClpF,MAAM,CAACmpF,GAAG,CAAC;AACrB;AAEA,0CAAe;EACbD,OAAO;EACP,GAAG/uM;AACL,CAAC;;;ACnBuB;AACA;AACxB,8CAAe,KAAG;AACI","sources":["webpack://vue-3d-loader/webpack/universalModuleDefinition","webpack://vue-3d-loader/./node_modules/core-js/internals/a-callable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/an-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-includes.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-set-length.js","webpack://vue-3d-loader/./node_modules/core-js/internals/classof-raw.js","webpack://vue-3d-loader/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://vue-3d-loader/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/create-property-descriptor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-global-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/delete-property-or-throw.js","webpack://vue-3d-loader/./node_modules/core-js/internals/descriptors.js","webpack://vue-3d-loader/./node_modules/core-js/internals/document-all.js","webpack://vue-3d-loader/./node_modules/core-js/internals/document-create-element.js","webpack://vue-3d-loader/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://vue-3d-loader/./node_modules/core-js/internals/engine-user-agent.js","webpack://vue-3d-loader/./node_modules/core-js/internals/engine-v8-version.js","webpack://vue-3d-loader/./node_modules/core-js/internals/enum-bug-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/export.js","webpack://vue-3d-loader/./node_modules/core-js/internals/fails.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-bind-native.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-call.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-name.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-uncurry-this.js","webpack://vue-3d-loader/./node_modules/core-js/internals/get-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/get-method.js","webpack://vue-3d-loader/./node_modules/core-js/internals/global.js","webpack://vue-3d-loader/./node_modules/core-js/internals/has-own-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/hidden-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/ie8-dom-define.js","webpack://vue-3d-loader/./node_modules/core-js/internals/indexed-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/inspect-source.js","webpack://vue-3d-loader/./node_modules/core-js/internals/internal-state.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-array.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-callable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-forced.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-pure.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-symbol.js","webpack://vue-3d-loader/./node_modules/core-js/internals/length-of-array-like.js","webpack://vue-3d-loader/./node_modules/core-js/internals/make-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/math-trunc.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-define-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-keys-internal.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://vue-3d-loader/./node_modules/core-js/internals/own-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/regexp-flags.js","webpack://vue-3d-loader/./node_modules/core-js/internals/require-object-coercible.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared-key.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared-store.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared.js","webpack://vue-3d-loader/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-absolute-index.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-indexed-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-length.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-primitive.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-property-key.js","webpack://vue-3d-loader/./node_modules/core-js/internals/try-to-string.js","webpack://vue-3d-loader/./node_modules/core-js/internals/uid.js","webpack://vue-3d-loader/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://vue-3d-loader/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://vue-3d-loader/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://vue-3d-loader/./node_modules/core-js/internals/well-known-symbol.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.array.push.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.array.unshift.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.regexp.flags.js","webpack://vue-3d-loader/webpack/bootstrap","webpack://vue-3d-loader/webpack/runtime/define property getters","webpack://vue-3d-loader/webpack/runtime/global","webpack://vue-3d-loader/webpack/runtime/hasOwnProperty shorthand","webpack://vue-3d-loader/webpack/runtime/make namespace object","webpack://vue-3d-loader/webpack/runtime/publicPath","webpack://vue-3d-loader/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue","webpack://vue-3d-loader/./node_modules/three/build/three.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/libs/stats.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/libs/fflate.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/curves/NURBSUtils.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/curves/NURBSCurve.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/FBXLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/TGALoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/ColladaLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/OBJLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/DDSLoader.js","webpack://vue-3d-loader/./node_modules/three/src/loaders/LoadingManager.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/PLYLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/STLLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/MTLLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/DRACOLoader.js","webpack://vue-3d-loader/./src/3dLoader/loadModel.js","webpack://vue-3d-loader/src/3dLoader/vue3dLoader.vue","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?f263","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?fe08","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?67f2","webpack://vue-3d-loader/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?1bce","webpack://vue-3d-loader/./src/index.js","webpack://vue-3d-loader/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-3d-loader\"] = factory();\n\telse\n\t\troot[\"vue-3d-loader\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn ","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.27.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_TO_LENGTH || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"viewer-container\"},[_c('canvas',{ref:\"canvas\",staticClass:\"viewer-canvas\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @license\n * Copyright 2010-2022 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '142';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\n// Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\nconst NoColorSpace = '';\nconst SRGBColorSpace = 'srgb';\nconst LinearSRGBColorSpace = 'srgb-linear';\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\nconst _SRGBAFormat = 1035; // fallback for WebGL 1\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [ '00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '0a', '0b', '0c', '0d', '0e', '0f', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '1a', '1b', '1c', '1d', '1e', '1f', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '2a', '2b', '2c', '2d', '2e', '2f', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '3a', '3b', '3c', '3d', '3e', '3f', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '4a', '4b', '4c', '4d', '4e', '4f', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '5a', '5b', '5c', '5d', '5e', '5f', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '6a', '6b', '6c', '6d', '6e', '6f', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '7a', '7b', '7c', '7d', '7e', '7f', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '8a', '8b', '8c', '8d', '8e', '8f', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '9a', '9b', '9c', '9d', '9e', '9f', 'a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9', 'aa', 'ab', 'ac', 'ad', 'ae', 'af', 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9', 'ba', 'bb', 'bc', 'bd', 'be', 'bf', 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'ca', 'cb', 'cc', 'cd', 'ce', 'cf', 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'd9', 'da', 'db', 'dc', 'dd', 'de', 'df', 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'e9', 'ea', 'eb', 'ec', 'ed', 'ee', 'ef', 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'fa', 'fb', 'fc', 'fd', 'fe', 'ff' ];\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toLowerCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toLowerCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidean modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t} else {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s;\n\n\t// Mulberry32 generator\n\n\tlet t = _seed += 0x6D2B79F5;\n\n\tt = Math.imul( t ^ t >>> 15, t | 1 );\n\n\tt ^= t + Math.imul( t ^ t >>> 7, t | 61 );\n\n\treturn ( ( t ^ t >>> 14 ) >>> 0 ) / 4294967296;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nfunction denormalize$1( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn value / 65535.0;\n\n\t\tcase Uint8Array:\n\n\t\t\treturn value / 255.0;\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.max( value / 32767.0, - 1.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.max( value / 127.0, - 1.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nfunction normalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn Math.round( value * 65535.0 );\n\n\t\tcase Uint8Array:\n\n\t\t\treturn Math.round( value * 255.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.round( value * 32767.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.round( value * 127.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\tnormalize: normalize,\n\tdenormalize: denormalize$1\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tVector2.prototype.isVector2 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tMatrix3.prototype.isMatrix3 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nfunction arrayNeedsUint32( array ) {\n\n\t// assumes larger values usually on last\n\n\tfor ( let i = array.length - 1; i >= 0; -- i ) {\n\n\t\tif ( array[ i ] > 65535 ) return true;\n\n\t}\n\n\treturn false;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nfunction createElementNS( name ) {\n\n\treturn document.createElementNS( 'http://www.w3.org/1999/xhtml', name );\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\n// JavaScript RGB-to-RGB transforms, defined as\n// FN[InputColorSpace][OutputColorSpace] callback functions.\nconst FN = {\n\t[ SRGBColorSpace ]: { [ LinearSRGBColorSpace ]: SRGBToLinear },\n\t[ LinearSRGBColorSpace ]: { [ SRGBColorSpace ]: LinearToSRGB },\n};\n\nconst ColorManagement = {\n\n\tlegacyMode: true,\n\n\tget workingColorSpace() {\n\n\t\treturn LinearSRGBColorSpace;\n\n\t},\n\n\tset workingColorSpace( colorSpace ) {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .workingColorSpace is readonly.' );\n\n\t},\n\n\tconvert: function ( color, sourceColorSpace, targetColorSpace ) {\n\n\t\tif ( this.legacyMode || sourceColorSpace === targetColorSpace || ! sourceColorSpace || ! targetColorSpace ) {\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tif ( FN[ sourceColorSpace ] && FN[ sourceColorSpace ][ targetColorSpace ] !== undefined ) {\n\n\t\t\tconst fn = FN[ sourceColorSpace ][ targetColorSpace ];\n\n\t\t\tcolor.r = fn( color.r );\n\t\t\tcolor.g = fn( color.g );\n\t\t\tcolor.b = fn( color.b );\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tthrow new Error( 'Unsupported color space conversion.' );\n\n\t},\n\n\tfromWorkingColorSpace: function ( color, targetColorSpace ) {\n\n\t\treturn this.convert( color, this.workingColorSpace, targetColorSpace );\n\n\t},\n\n\ttoWorkingColorSpace: function ( color, sourceColorSpace ) {\n\n\t\treturn this.convert( color, sourceColorSpace, this.workingColorSpace );\n\n\t},\n\n};\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _rgb = { r: 0, g: 0, b: 0 };\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction toComponents( source, target ) {\n\n\ttarget.r = source.r;\n\ttarget.g = source.g;\n\ttarget.b = source.b;\n\n\treturn target;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tthis.isColor = true;\n\n\t\tthis.r = 1;\n\t\tthis.g = 1;\n\t\tthis.b = 1;\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex, colorSpace = SRGBColorSpace ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b, colorSpace = LinearSRGBColorSpace ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l, colorSpace = LinearSRGBColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style, colorSpace = SRGBColorSpace ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l, colorSpace );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style, colorSpace );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style, colorSpace = SRGBColorSpace ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex, colorSpace );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\treturn clamp( _rgb.r * 255, 0, 255 ) << 16 ^ clamp( _rgb.g * 255, 0, 255 ) << 8 ^ clamp( _rgb.b * 255, 0, 255 ) << 0;\n\n\t}\n\n\tgetHexString( colorSpace = SRGBColorSpace ) {\n\n\t\treturn ( '000000' + this.getHex( colorSpace ).toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target, colorSpace = LinearSRGBColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\tconst r = _rgb.r, g = _rgb.g, b = _rgb.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetRGB( target, colorSpace = LinearSRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\ttarget.r = _rgb.r;\n\t\ttarget.g = _rgb.g;\n\t\ttarget.b = _rgb.b;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\tif ( colorSpace !== SRGBColorSpace ) {\n\n\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\treturn `color(${ colorSpace } ${ _rgb.r } ${ _rgb.g } ${ _rgb.b })`;\n\n\t\t}\n\n\t\treturn `rgb(${( _rgb.r * 255 ) | 0},${( _rgb.g * 255 ) | 0},${( _rgb.b * 255 ) | 0})`;\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.r;\n\t\tyield this.g;\n\t\tyield this.b;\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = createElementNS( 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n\tstatic sRGBToLinear( image ) {\n\n\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\tconst canvas = createElementNS( 'canvas' );\n\n\t\t\tcanvas.width = image.width;\n\t\t\tcanvas.height = image.height;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\tconst imageData = context.getImageData( 0, 0, image.width, image.height );\n\t\t\tconst data = imageData.data;\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] / 255 ) * 255;\n\n\t\t\t}\n\n\t\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\t\treturn canvas;\n\n\t\t} else if ( image.data ) {\n\n\t\t\tconst data = image.data.slice( 0 );\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tif ( data instanceof Uint8Array || data instanceof Uint8ClampedArray ) {\n\n\t\t\t\t\tdata[ i ] = Math.floor( SRGBToLinear( data[ i ] / 255 ) * 255 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// assuming float\n\n\t\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.' );\n\t\t\treturn image;\n\n\t\t}\n\n\t}\n\n}\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tthis.isTexture = true;\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.source = new Source( image );\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false; // indicates whether a texture belongs to a render target or not\n\t\tthis.needsPMREMUpdate = false; // indicates whether this texture should be processed by PMREMGenerator or not (only relevant for render target textures)\n\n\t}\n\n\tget image() {\n\n\t\treturn this.source.data;\n\n\t}\n\n\tset image( value ) {\n\n\t\tthis.source.data = value;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.source = source.source;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\timage: this.source.toJSON( meta ).uuid,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) output.userData = this.userData;\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) {\n\n\t\t\tthis.version ++;\n\t\t\tthis.source.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = null;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tVector4.prototype.isVector4 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\t\tyield this.w;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.isWebGLRenderTarget = true;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tconst image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture = new Texture( image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.flipY = false;\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\t// ensure image object is not shared, see #20328\n\n\t\tconst image = Object.assign( {}, source.texture.image );\n\t\tthis.texture.source = new Source( image );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass DataArrayTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.isDataArrayTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGLArrayRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, depth ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGLArrayRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new DataArrayTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass Data3DTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.isData3DTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGL3DRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, depth ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGL3DRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new Data3DTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width, height, count, options = {} ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.isWebGLMultipleRenderTargets = true;\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.isQuaternion = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\treturn this.copy( qa ).slerp( qb, t );\n\n\t}\n\n\trandom() {\n\n\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t// Note, this source uses w, x, y, z ordering,\n\t\t// so we swap the order below.\n\n\t\tconst u1 = Math.random();\n\t\tconst sqrt1u1 = Math.sqrt( 1 - u1 );\n\t\tconst sqrtu1 = Math.sqrt( u1 );\n\n\t\tconst u2 = 2 * Math.PI * Math.random();\n\n\t\tconst u3 = 2 * Math.PI * Math.random();\n\n\t\treturn this.set(\n\t\t\tsqrt1u1 * Math.cos( u2 ),\n\t\t\tsqrtu1 * Math.sin( u3 ),\n\t\t\tsqrtu1 * Math.cos( u3 ),\n\t\t\tsqrt1u1 * Math.sin( u2 ),\n\t\t);\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._w;\n\n\t}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tVector3.prototype.isVector3 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tsetFromEuler( e ) {\n\n\t\tthis.x = e._x;\n\t\tthis.y = e._y;\n\t\tthis.z = e._z;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\trandomDirection() {\n\n\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\n\t\tconst u = ( Math.random() - 0.5 ) * 2;\n\t\tconst t = Math.random() * Math.PI * 2;\n\t\tconst f = Math.sqrt( 1 - u ** 2 );\n\n\t\tthis.x = f * Math.cos( t );\n\t\tthis.y = f * Math.sin( t );\n\t\tthis.z = u;\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\n\t}\n\n}\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox3 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object, precise = false ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object, precise );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object, precise = false ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( precise && geometry.attributes != undefined && geometry.attributes.position !== undefined ) {\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tfor ( let i = 0, l = position.count; i < l; i ++ ) {\n\n\t\t\t\t\t_vector$b.fromBufferAttribute( position, i ).applyMatrix4( object.matrixWorld );\n\t\t\t\t\tthis.expandByPoint( _vector$b );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t\t}\n\n\t\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\t\tthis.union( _box$3 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ], precise );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the separating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the separating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is separating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t if ( this.center.equals( sphere.center ) === true ) {\n\n\t\t\t _toFarthestPoint.set( 0, 0, 1 ).multiplyScalar( sphere.radius );\n\n\n\t\t} else {\n\n\t\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\t}\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tMatrix4.prototype.isMatrix4 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis.isEuler = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._order;\n\n\t}\n\n\t// @deprecated since r138, 02cf0df1cb4575d5842fef9c85bb5a89fe020d53\n\n\ttoVector3() {\n\n\t\tconsole.error( 'THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead' );\n\n\t}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = ( 1 << channel | 0 ) >>> 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n\tisEnabled( channel ) {\n\n\t\treturn ( this.mask & ( 1 << channel | 0 ) ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isObject3D = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tonAfterRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast( /* raycaster, intersects */ ) {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\t\t\tif ( nodes.length > 0 ) output.nodes = nodes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAttributeAndIndices( attribute, i0, i1, i2 ) {\n\n\t\tthis.a.fromBufferAttribute( attribute, i0 );\n\t\tthis.b.fromBufferAttribute( attribute, i1 );\n\t\tthis.c.fromBufferAttribute( attribute, i2 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isMaterial = true;\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, object, group */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatibility if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRootObject ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen !== undefined ) data.sheen = this.sheen;\n\t\tif ( this.sheenColor && this.sheenColor.isColor ) data.sheenColor = this.sheenColor.getHex();\n\t\tif ( this.sheenRoughness !== undefined ) data.sheenRoughness = this.sheenRoughness;\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularColor && this.specularColor.isColor ) data.specularColor = this.specularColor.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.iridescence !== undefined ) data.iridescence = this.iridescence;\n\t\tif ( this.iridescenceIOR !== undefined ) data.iridescenceIOR = this.iridescenceIOR;\n\t\tif ( this.iridescenceThicknessRange !== undefined ) data.iridescenceThicknessRange = this.iridescenceThicknessRange;\n\n\t\tif ( this.iridescenceMap && this.iridescenceMap.isTexture ) {\n\n\t\t\tdata.iridescenceMap = this.iridescenceMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture ) {\n\n\t\t\tdata.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularColorMap && this.specularColorMap.isTexture ) data.specularColorMap = this.specularColorMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationColor !== undefined ) data.attenuationColor = this.attenuationColor.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== undefined && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== undefined && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( this.fog === false ) data.fog = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshBasicMaterial = true;\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.isBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.from( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t\tthis.isFloat16BufferAttribute = true;\n\n\t}\n\n}\n\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nlet _id$1 = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBufferGeometry = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _id$1 ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayNeedsUint32( index ) ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( this.hasAttribute( 'tangent' ) === false ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = this.getAttribute( 'tangent' ).array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t return new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\t// geometry generator parameters\n\n\t\tif ( source.parameters !== undefined ) this.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isMesh = true;\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tconst index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\tconst uv = geometry.attributes.uv;\n\t\tconst uv2 = geometry.attributes.uv2;\n\t\tconst groups = geometry.groups;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\tif ( index !== null ) {\n\n\t\t\t// indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\t// non-indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = i;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShaderMaterial = true;\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isCamera = true;\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isPerspectiveCamera = true;\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst currentToneMapping = renderer.toneMapping;\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.toneMapping = currentToneMapping;\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t\trenderTarget.texture.needsPMREMUpdate = true;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCubeTexture = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options = {} ) {\n\n\t\tsuper( size, size, options );\n\n\t\tthis.isWebGLCubeRenderTarget = true;\n\n\t\tconst image = { width: size, height: size, depth: 1 };\n\t\tconst images = [ image, image, image, image, image, image ];\n\n\t\tthis.texture = new CubeTexture( images, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\tthis.isPlane = true;\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.WebGLAttributes: Unsupported buffer data format: ' + array );\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\nvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\\n    float x2 = x * x;\\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#ifdef USE_IRIDESCENCE\\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#endif\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\";\n\nvar iridescence_fragment = \"#ifdef USE_IRIDESCENCE\\nconst mat3 XYZ_TO_REC709 = mat3(\\n    3.2404542, -0.9692660,  0.0556434,\\n   -1.5371385,  1.8760108, -0.2040259,\\n   -0.4985314,  0.0415560,  1.0572252\\n);\\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\\n   vec3 sqrtF0 = sqrt( fresnel0 );\\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\\n}\\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\\n}\\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\\n}\\nvec3 evalSensitivity( float OPD, vec3 shift ) {\\n   float phase = 2.0 * PI * OPD * 1.0e-9;\\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\\n   xyz /= 1.0685e-7;\\n   vec3 srgb = XYZ_TO_REC709 * xyz;\\n   return srgb;\\n}\\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\\n   vec3 I;\\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\\n   if ( cosTheta2Sq < 0.0 ) {\\n       return vec3( 1.0 );\\n   }\\n   float cosTheta2 = sqrt( cosTheta2Sq );\\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\\n   float R21 = R12;\\n   float T121 = 1.0 - R12;\\n   float phi12 = 0.0;\\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\\n   float phi21 = PI - phi12;\\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\\n   vec3 phi23 = vec3( 0.0 );\\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\\n   vec3 phi = vec3( phi21 ) + phi23;\\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\\n   vec3 r123 = sqrt( R123 );\\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\\n   vec3 C0 = R12 + Rs;\\n   I = C0;\\n   vec3 Cm = Rs - T121;\\n   for ( int m = 1; m <= 2; ++m ) {\\n       Cm *= r123;\\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\\n       I += Cm * Sm;\\n   }\\n   return max( I, vec3( 0.0 ) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nvec3 pow2( const in vec3 x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\\n\\t\\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\\n\\t\\tuv.x *= CUBEUV_TEXEL_WIDTH;\\n\\t\\tuv.y *= CUBEUV_TEXEL_HEIGHT;\\n\\t\\t#ifdef texture2DGradEXT\\n\\t\\t\\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t\\t#endif\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec = reflect( - viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\t\\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tmaterial.iridescence = iridescence;\\n\\tmaterial.iridescenceIOR = iridescenceIOR;\\n\\t#ifdef USE_IRIDESCENCEMAP\\n\\t\\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\t\\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\\n\\t#else\\n\\t\\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\\n\\t#endif\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\\n\\t#endif\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tfloat iridescence;\\n\\t\\tfloat iridescenceIOR;\\n\\t\\tfloat iridescenceThickness;\\n\\t\\tvec3 iridescenceFresnel;\\n\\t\\tvec3 iridescenceF0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\n#ifdef USE_IRIDESCENCE\\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#else\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#endif\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\\n\\t#else\\n\\t\\tvec3 Fr = specularColor;\\n\\t#endif\\n\\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\\n\\t#else\\n\\t\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\t#endif\\n\\tvec3 totalScattering = singleScattering + multiScattering;\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\n#ifdef USE_IRIDESCENCE\\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\\nif ( material.iridescenceThickness == 0.0 ) {\\n\\tmaterial.iridescence = 0.0;\\n} else {\\n\\tmaterial.iridescence = saturate( material.iridescence );\\n}\\nif ( material.iridescence > 0.0 ) {\\n\\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\\n\\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\\n}\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 sampledDiffuseColor = texture2D( map, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\\n\\t#endif\\n\\tdiffuseColor *= sampledDiffuseColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tdiffuseColor *= texture2D( map, uv );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphcolor_vertex = \"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\\n\\tvColor *= morphTargetBaseInfluence;\\n\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t#if defined( USE_COLOR_ALPHA )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t#elif defined( USE_COLOR )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform ivec2 morphTargetsTextureSize;\\n\\t\\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\\n\\t\\t\\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\\n\\t\\t\\tint y = texelIndex / morphTargetsTextureSize.x;\\n\\t\\t\\tint x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\\n\\t\\t\\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar iridescence_pars_fragment = \"#ifdef USE_IRIDESCENCEMAP\\n\\tuniform sampler2D iridescenceMap;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform sampler2D iridescenceThicknessMap;\\n#endif\";\n\nvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\tuniform highp sampler2D boneTexture;\\n\\tuniform int boneTextureSize;\\n\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\tfloat j = i * 4.0;\\n\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\ty = dy * ( y + 0.5 );\\n\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\treturn bone;\\n\\t}\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationColor, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef texture2DLodEXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n\\t\\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n\\t\\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n\\t\\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nconst vertex$g = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nconst fragment$g = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tgl_FragColor = texture2D( t2D, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\\n\\t#endif\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$f = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$9 = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\t#ifdef OPAQUE\\n\\t\\tgl_FragColor.a = 1.0;\\n\\t#endif\\n}\";\n\nconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\talphatest_pars_fragment: alphatest_pars_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tiridescence_fragment: iridescence_fragment,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphcolor_vertex: morphcolor_vertex,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormal_pars_fragment: normal_pars_fragment,\n\tnormal_pars_vertex: normal_pars_vertex,\n\tnormal_vertex: normal_vertex,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tiridescence_pars_fragment: iridescence_pars_fragment,\n\toutput_fragment: output_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_vert: vertex$g,\n\tbackground_frag: fragment$g,\n\tcube_vert: vertex$f,\n\tcube_frag: fragment$f,\n\tdepth_vert: vertex$e,\n\tdepth_frag: fragment$e,\n\tdistanceRGBA_vert: vertex$d,\n\tdistanceRGBA_frag: fragment$d,\n\tequirect_vert: vertex$c,\n\tequirect_frag: fragment$c,\n\tlinedashed_vert: vertex$b,\n\tlinedashed_frag: fragment$b,\n\tmeshbasic_vert: vertex$a,\n\tmeshbasic_frag: fragment$a,\n\tmeshlambert_vert: vertex$9,\n\tmeshlambert_frag: fragment$9,\n\tmeshmatcap_vert: vertex$8,\n\tmeshmatcap_frag: fragment$8,\n\tmeshnormal_vert: vertex$7,\n\tmeshnormal_frag: fragment$7,\n\tmeshphong_vert: vertex$6,\n\tmeshphong_frag: fragment$6,\n\tmeshphysical_vert: vertex$5,\n\tmeshphysical_frag: fragment$5,\n\tmeshtoon_vert: vertex$4,\n\tmeshtoon_frag: fragment$4,\n\tpoints_vert: vertex$3,\n\tpoints_frag: fragment$3,\n\tshadow_vert: vertex$2,\n\tshadow_frag: fragment$2,\n\tsprite_vert: vertex$1,\n\tsprite_frag: fragment$1\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tuv2Transform: { value: /*@__PURE__*/ new Matrix3() },\n\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 }\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 }, // basic, lambert, phong\n\t\tior: { value: 1.5 }, // physical\n\t\trefractionRatio: { value: 0.98 } // basic, lambert, phong\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: /*@__PURE__*/ new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: /*@__PURE__*/ new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: /*@__PURE__*/ new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\n\tcube: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: /*@__PURE__*/ new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: /*@__PURE__*/ new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tiridescence: { value: 0 },\n\t\t\tiridescenceMap: { value: null },\n\t\t\tiridescenceIOR: { value: 1.3 },\n\t\t\tiridescenceThicknessMinimum: { value: 100 },\n\t\t\tiridescenceThicknessMaximum: { value: 400 },\n\t\t\tiridescenceThicknessMap: { value: null },\n\t\t\tsheen: { value: 0 },\n\t\t\tsheenColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tsheenColorMap: { value: null },\n\t\t\tsheenRoughness: { value: 1 },\n\t\t\tsheenRoughnessMap: { value: null },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionSamplerSize: { value: /*@__PURE__*/ new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tspecularIntensity: { value: 1 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularColor: { value: /*@__PURE__*/ new Color( 1, 1, 1 ) },\n\t\t\tspecularColorMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, alpha, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = alpha === true ? 0 : 1;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tboxMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tplaneMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\tlet forceUpdate = false;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( object, geometry, program, index );\n\n\t\t\tif ( updateBuffers ) saveCache( object, geometry, program, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers || forceUpdate ) {\n\n\t\t\tforceUpdate = false;\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( object, geometry, program, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tconst cachedAttribute = cachedAttributes[ name ];\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\t\tif ( geometryAttribute && cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( object, geometry, program, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet attribute = attributes[ name ];\n\n\t\t\t\tif ( attribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) attribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) attribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tconst data = {};\n\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\tif ( attribute && attribute.data ) {\n\n\t\t\t\t\tdata.data = attribute.data;\n\n\t\t\t\t}\n\n\t\t\t\tcache[ name ] = data;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, data.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tstride * bytesPerElement,\n\t\t\t\t\t\t\t\t( offset + ( size / programAttribute.locationSize ) * i ) * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tsize * bytesPerElement,\n\t\t\t\t\t\t\t\t( size / programAttribute.locationSize ) * i * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute.location, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\t\tforceUpdate = true;\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatibility\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isOrthographicCamera = true;\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._lodMax = 0;\n\t\tthis._cubeSize = 0;\n\t\tthis._lodPlanes = [];\n\t\tthis._sizeLods = [];\n\t\tthis._sigmas = [];\n\n\t\tthis._blurMaterial = null;\n\t\tthis._cubemapMaterial = null;\n\t\tthis._equirectMaterial = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tthis._setSize( 256 );\n\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\t\tcubeUVRenderTarget.depthBuffer = true;\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular, renderTarget = null ) {\n\n\t\treturn this._fromTexture( equirectangular, renderTarget );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * or HDR. The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap, renderTarget = null ) {\n\n\t\treturn this._fromTexture( cubemap, renderTarget );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\t\t\tthis._compileMaterial( this._cubemapMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\t\t\tthis._compileMaterial( this._equirectMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._dispose();\n\n\t\tif ( this._cubemapMaterial !== null ) this._cubemapMaterial.dispose();\n\t\tif ( this._equirectMaterial !== null ) this._equirectMaterial.dispose();\n\n\t}\n\n\t// private interface\n\n\t_setSize( cubeSize ) {\n\n\t\tthis._lodMax = Math.floor( Math.log2( cubeSize ) );\n\t\tthis._cubeSize = Math.pow( 2, this._lodMax );\n\n\t}\n\n\t_dispose() {\n\n\t\tif ( this._blurMaterial !== null ) this._blurMaterial.dispose();\n\n\t\tif ( this._pingPongRenderTarget !== null ) this._pingPongRenderTarget.dispose();\n\n\t\tfor ( let i = 0; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tthis._lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture, renderTarget ) {\n\n\t\tif ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping ) {\n\n\t\t\tthis._setSize( texture.image.length === 0 ? 16 : ( texture.image[ 0 ].width || texture.image[ 0 ].image.width ) );\n\n\t\t} else { // Equirectangular\n\n\t\t\tthis._setSize( texture.image.width / 4 );\n\n\t\t}\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tconst cubeUVRenderTarget = renderTarget || this._allocateTargets();\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets() {\n\n\t\tconst width = 3 * Math.max( this._cubeSize, 16 * 7 );\n\t\tconst height = 4 * this._cubeSize;\n\n\t\tconst params = {\n\t\t\tmagFilter: LinearFilter,\n\t\t\tminFilter: LinearFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: HalfFloatType,\n\t\t\tformat: RGBAFormat,\n\t\t\tencoding: LinearEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( width, height, params );\n\n\t\tif ( this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== width ) {\n\n\t\t\tif ( this._pingPongRenderTarget !== null ) {\n\n\t\t\t\tthis._dispose();\n\n\t\t\t}\n\n\t\t\tthis._pingPongRenderTarget = _createRenderTarget( width, height, params );\n\n\t\t\tconst { _lodMax } = this;\n\t\t\t( { sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = _createPlanes( _lodMax ) );\n\n\t\t\tthis._blurMaterial = _getBlurShader( _lodMax, width, height );\n\n\t\t}\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( this._lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.autoClear = false;\n\n\t\tconst backgroundMaterial = new MeshBasicMaterial( {\n\t\t\tname: 'PMREM.Background',\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false,\n\t\t\tdepthTest: false,\n\t\t} );\n\n\t\tconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background );\n\t\t\t\tscene.background = null;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor );\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\n\t\t\tif ( col === 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col === 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\tconst size = this._cubeSize;\n\n\t\t\t_setViewport( cubeUVRenderTarget, col * size, i > 2 ? size : 0, size, size );\n\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\tbackgroundBox.geometry.dispose();\n\t\tbackgroundBox.material.dispose();\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.autoClear = originalAutoClear;\n\t\tscene.background = background;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tconst isCubeTexture = ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping );\n\n\t\tif ( isCubeTexture ) {\n\n\t\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\n\t\t\t}\n\n\t\t\tthis._cubemapMaterial.uniforms.flipEnvMap.value = ( texture.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t} else {\n\n\t\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = isCubeTexture ? this._cubemapMaterial : this._equirectMaterial;\n\t\tconst mesh = new Mesh( this._lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tconst size = this._cubeSize;\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * size, 2 * size );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( this._sigmas[ i ] * this._sigmas[ i ] - this._sigmas[ i - 1 ] * this._sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( this._lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = this._sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tconst { _lodMax } = this;\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = _lodMax - lodIn;\n\n\t\tconst outputSize = this._sizeLods[ lodOut ];\n\t\tconst x = 3 * outputSize * ( lodOut > _lodMax - LOD_MIN ? lodOut - _lodMax + LOD_MIN : 0 );\n\t\tconst y = 4 * ( this._cubeSize - outputSize );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\n\n\nfunction _createPlanes( lodMax ) {\n\n\tconst lodPlanes = [];\n\tconst sizeLods = [];\n\tconst sigmas = [];\n\n\tlet lod = lodMax;\n\n\tconst totalLods = lodMax - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n\tfor ( let i = 0; i < totalLods; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\tsizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > lodMax - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - lodMax + LOD_MIN - 1 ];\n\n\t\t} else if ( i === 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\tsigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 2 );\n\t\tconst min = - texelSize;\n\t\tconst max = 1 + texelSize;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\tlodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { lodPlanes, sizeLods, sigmas };\n\n}\n\nfunction _createRenderTarget( width, height, params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( width, height, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( lodMax, width, height ) {\n\n\tconst weights = new Float32Array( MAX_SAMPLES );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new ShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: {\n\t\t\t'n': MAX_SAMPLES,\n\t\t\t'CUBEUV_TEXEL_WIDTH': 1.0 / width,\n\t\t\t'CUBEUV_TEXEL_HEIGHT': 1.0 / height,\n\t\t\t'CUBEUV_MAX_MIP': `${lodMax}.0`,\n\t\t},\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCubemapMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'flipEnvMap': { value: - 1 }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\tif ( texture.isRenderTargetTexture && texture.needsPMREMUpdate === true ) {\n\n\t\t\t\t\ttexture.needsPMREMUpdate = false;\n\n\t\t\t\t\tlet renderTarget = cubeUVmaps.get( texture );\n\n\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\trenderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture, renderTarget ) : pmremGenerator.fromCubemap( texture, renderTarget );\n\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubeUVmaps.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\t\t\tgetExtension( 'WEBGL_multisampled_render_to_texture' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayNeedsUint32( indices ) ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction denormalize( morph, attribute ) {\n\n\tlet denominator = 1;\n\tconst array = attribute.isInterleavedBufferAttribute ? attribute.data.array : attribute.array;\n\n\tif ( array instanceof Int8Array ) denominator = 127;\n\telse if ( array instanceof Uint8Array ) denominator = 255;\n\telse if ( array instanceof Uint16Array ) denominator = 65535;\n\telse if ( array instanceof Int16Array ) denominator = 32767;\n\telse if ( array instanceof Int32Array ) denominator = 2147483647;\n\telse console.error( 'THREE.WebGLMorphtargets: Unsupported morph attribute data type: ', array );\n\n\tmorph.divideScalar( denominator );\n\n}\n\nfunction WebGLMorphtargets( gl, capabilities, textures ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\tconst morphTextures = new WeakMap();\n\tconst morph = new Vector4();\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\tif ( capabilities.isWebGL2 === true ) {\n\n\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\t\tlet entry = morphTextures.get( geometry );\n\n\t\t\tif ( entry === undefined || entry.count !== morphTargetsCount ) {\n\n\t\t\t\tif ( entry !== undefined ) entry.texture.dispose();\n\n\t\t\t\tconst hasMorphPosition = geometry.morphAttributes.position !== undefined;\n\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\tconst hasMorphColors = geometry.morphAttributes.color !== undefined;\n\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position || [];\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\tconst morphColors = geometry.morphAttributes.color || [];\n\n\t\t\t\tlet vertexDataCount = 0;\n\n\t\t\t\tif ( hasMorphPosition === true ) vertexDataCount = 1;\n\t\t\t\tif ( hasMorphNormals === true ) vertexDataCount = 2;\n\t\t\t\tif ( hasMorphColors === true ) vertexDataCount = 3;\n\n\t\t\t\tlet width = geometry.attributes.position.count * vertexDataCount;\n\t\t\t\tlet height = 1;\n\n\t\t\t\tif ( width > capabilities.maxTextureSize ) {\n\n\t\t\t\t\theight = Math.ceil( width / capabilities.maxTextureSize );\n\t\t\t\t\twidth = capabilities.maxTextureSize;\n\n\t\t\t\t}\n\n\t\t\t\tconst buffer = new Float32Array( width * height * 4 * morphTargetsCount );\n\n\t\t\t\tconst texture = new DataArrayTexture( buffer, width, height, morphTargetsCount );\n\t\t\t\ttexture.type = FloatType;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t// fill buffer\n\n\t\t\t\tconst vertexDataStride = vertexDataCount * 4;\n\n\t\t\t\tfor ( let i = 0; i < morphTargetsCount; i ++ ) {\n\n\t\t\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\t\t\tconst morphNormal = morphNormals[ i ];\n\t\t\t\t\tconst morphColor = morphColors[ i ];\n\n\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\tfor ( let j = 0; j < morphTarget.count; j ++ ) {\n\n\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\n\t\t\t\t\t\tif ( hasMorphPosition === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphTarget, j );\n\n\t\t\t\t\t\t\tif ( morphTarget.normalized === true ) denormalize( morph, morphTarget );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 0 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 1 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 2 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 3 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphNormals === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphNormal, j );\n\n\t\t\t\t\t\t\tif ( morphNormal.normalized === true ) denormalize( morph, morphNormal );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 4 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 5 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 6 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 7 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphColors === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphColor, j );\n\n\t\t\t\t\t\t\tif ( morphColor.normalized === true ) denormalize( morph, morphColor );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 8 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 9 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 10 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 11 ] = ( morphColor.itemSize === 4 ) ? morph.w : 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tentry = {\n\t\t\t\t\tcount: morphTargetsCount,\n\t\t\t\t\ttexture: texture,\n\t\t\t\t\tsize: new Vector2( width, height )\n\t\t\t\t};\n\n\t\t\t\tmorphTextures.set( geometry, entry );\n\n\t\t\t\tfunction disposeTexture() {\n\n\t\t\t\t\ttexture.dispose();\n\n\t\t\t\t\tmorphTextures.delete( geometry );\n\n\t\t\t\t\tgeometry.removeEventListener( 'dispose', disposeTexture );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addEventListener( 'dispose', disposeTexture );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < objectInfluences.length; i ++ ) {\n\n\t\t\t\tmorphInfluencesSum += objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', objectInfluences );\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTexture', entry.texture, textures );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTextureSize', entry.size );\n\n\n\t\t} else {\n\n\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\t\tlet influences = influencesList[ geometry.id ];\n\n\t\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t\t// initialise list\n\n\t\t\t\tinfluences = [];\n\n\t\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t\t}\n\n\t\t\t// Collect influences\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tconst influence = influences[ i ];\n\n\t\t\t\tinfluence[ 0 ] = i;\n\t\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tinfluences.sort( absNumericalSort );\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tworkInfluences.sort( numericalSort );\n\n\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tconst influence = workInfluences[ i ];\n\t\t\t\tconst index = influence[ 0 ];\n\t\t\t\tconst value = influence[ 1 ];\n\n\t\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = /*@__PURE__*/ new Texture();\nconst emptyArrayTexture = /*@__PURE__*/ new DataArrayTexture();\nconst empty3dTexture = /*@__PURE__*/ new Data3DTexture();\nconst emptyCubeTexture = /*@__PURE__*/ new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || empty3dTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyArrayTexture, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / 3D / Cube / 2DArray)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT3DArray( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture3D( v[ i ] || empty3dTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT2DArrayArray( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2DArray( v[ i ] || emptyArrayTexture, units[ i ] );\n\n\t}\n\n}\n\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3DArray;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArrayArray;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nclass SingleUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass PureArrayUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.size = activeInfo.size;\n\t\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass StructuredUniform {\n\n\tconstructor( id ) {\n\n\t\tthis.id = id;\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t}\n\n\tsetValue( gl, value, textures ) {\n\n\t\tconst seq = this.seq;\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t\t}\n\n\t}\n\n}\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nclass WebGLUniforms {\n\n\tconstructor( gl, program ) {\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t\tconst n = gl.getProgramParameter( program, 35718 );\n\n\t\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\t\tparseUniform( info, addr, this );\n\n\t\t}\n\n\t}\n\n\tsetValue( gl, name, value, textures ) {\n\n\t\tconst u = this.map[ name ];\n\n\t\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n\t}\n\n\tsetOptional( gl, object, name ) {\n\n\t\tconst v = object[ name ];\n\n\t\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n\t}\n\n\tstatic upload( gl, seq, values, textures ) {\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ],\n\t\t\t\tv = values[ u.id ];\n\n\t\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic seqWithValue( seq, values ) {\n\n\t\tconst r = [];\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tif ( u.id in values ) r.push( u );\n\n\t\t}\n\n\t\treturn r;\n\n\t}\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction handleSource( string, errorLine ) {\n\n\tconst lines = string.split( '\\n' );\n\tconst lines2 = [];\n\n\tconst from = Math.max( errorLine - 6, 0 );\n\tconst to = Math.min( errorLine + 6, lines.length );\n\n\tfor ( let i = from; i < to; i ++ ) {\n\n\t\tconst line = i + 1;\n\t\tlines2.push( `${line === errorLine ? '>' : ' '} ${line}: ${lines[ i ]}` );\n\n\t}\n\n\treturn lines2.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst errors = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && errors === '' ) return '';\n\n\tconst errorMatches = /ERROR: 0:(\\d+)/.exec( errors );\n\tif ( errorMatches ) {\n\n\t\t// --enable-privileged-webgl-extension\n\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\t\tconst errorLine = parseInt( errorMatches[ 1 ] );\n\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource( gl.getShaderSource( shader ), errorLine );\n\n\t} else {\n\n\t\treturn errors;\n\n\t}\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || !! parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\tlet locationSize = 1;\n\t\tif ( info.type === 35674 ) locationSize = 2;\n\t\tif ( info.type === 35675 ) locationSize = 3;\n\t\tif ( info.type === 35676 ) locationSize = 4;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = {\n\t\t\ttype: info.type,\n\t\t\tlocation: gl.getAttribLocation( program, name ),\n\t\t\tlocationSize: locationSize\n\t\t};\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction generateCubeUVSize( parameters ) {\n\n\tconst imageHeight = parameters.envMapCubeUVHeight;\n\n\tif ( imageHeight === null ) return null;\n\n\tconst maxMip = Math.log2( imageHeight ) - 2;\n\n\tconst texelHeight = 1.0 / imageHeight;\n\n\tconst texelWidth = 1.0 / ( 3 * Math.max( Math.pow( 2, maxMip ), 7 * 16 ) );\n\n\treturn { texelWidth, texelHeight, maxMip };\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\t// TODO Send this event to Three.js DevTools\n\t// console.log( 'WebGLProgram', cacheKey );\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\tconst envMapCubeUVSize = generateCubeUVSize( parameters );\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\t( parameters.morphColors && parameters.isWebGL2 ) ? '#define USE_MORPHCOLORS' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoat ? '#define USE_CLEARCOAT' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescence ? '#define USE_IRIDESCENCE' : '',\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.alphaTest ? '#define USE_ALPHATEST' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\t\t\tparameters.opaque ? '#define OPAQUE' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'precision mediump sampler2DArray;',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error(\n\t\t\t\t'THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' +\n\t\t\t\t'VALIDATE_STATUS ' + gl.getProgramParameter( program, 35715 ) + '\\n\\n' +\n\t\t\t\t'Program Info Log: ' + programLog + '\\n' +\n\t\t\t\tvertexErrors + '\\n' +\n\t\t\t\tfragmentErrors\n\t\t\t);\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Program Info Log:', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nlet _id = 0;\n\nclass WebGLShaderCache {\n\n\tconstructor() {\n\n\t\tthis.shaderCache = new Map();\n\t\tthis.materialCache = new Map();\n\n\t}\n\n\tupdate( material ) {\n\n\t\tconst vertexShader = material.vertexShader;\n\t\tconst fragmentShader = material.fragmentShader;\n\n\t\tconst vertexShaderStage = this._getShaderStage( vertexShader );\n\t\tconst fragmentShaderStage = this._getShaderStage( fragmentShader );\n\n\t\tconst materialShaders = this._getShaderCacheForMaterial( material );\n\n\t\tif ( materialShaders.has( vertexShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( vertexShaderStage );\n\t\t\tvertexShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\tif ( materialShaders.has( fragmentShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( fragmentShaderStage );\n\t\t\tfragmentShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( material ) {\n\n\t\tconst materialShaders = this.materialCache.get( material );\n\n\t\tfor ( const shaderStage of materialShaders ) {\n\n\t\t\tshaderStage.usedTimes --;\n\n\t\t\tif ( shaderStage.usedTimes === 0 ) this.shaderCache.delete( shaderStage.code );\n\n\t\t}\n\n\t\tthis.materialCache.delete( material );\n\n\t\treturn this;\n\n\t}\n\n\tgetVertexShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.vertexShader ).id;\n\n\t}\n\n\tgetFragmentShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.fragmentShader ).id;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shaderCache.clear();\n\t\tthis.materialCache.clear();\n\n\t}\n\n\t_getShaderCacheForMaterial( material ) {\n\n\t\tconst cache = this.materialCache;\n\n\t\tif ( cache.has( material ) === false ) {\n\n\t\t\tcache.set( material, new Set() );\n\n\t\t}\n\n\t\treturn cache.get( material );\n\n\t}\n\n\t_getShaderStage( code ) {\n\n\t\tconst cache = this.shaderCache;\n\n\t\tif ( cache.has( code ) === false ) {\n\n\t\t\tconst stage = new WebGLShaderStage( code );\n\t\t\tcache.set( code, stage );\n\n\t\t}\n\n\t\treturn cache.get( code );\n\n\t}\n\n}\n\nclass WebGLShaderStage {\n\n\tconstructor( code ) {\n\n\t\tthis.id = _id ++;\n\n\t\tthis.code = code;\n\t\tthis.usedTimes = 0;\n\n\t}\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst _programLayers = new Layers();\n\tconst _customShaders = new WebGLShaderCache();\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst vertexTextures = capabilities.vertexTextures;\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst geometry = object.geometry;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst envMapCubeUVHeight = ( !! envMap ) && ( envMap.mapping === CubeUVReflectionMapping ) ? envMap.image.height : null;\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tlet morphTextureStride = 0;\n\n\t\tif ( geometry.morphAttributes.position !== undefined ) morphTextureStride = 1;\n\t\tif ( geometry.morphAttributes.normal !== undefined ) morphTextureStride = 2;\n\t\tif ( geometry.morphAttributes.color !== undefined ) morphTextureStride = 3;\n\n\t\t//\n\n\t\tlet vertexShader, fragmentShader;\n\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t_customShaders.update( material );\n\n\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID( material );\n\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID( material );\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\tconst useClearcoat = material.clearcoat > 0;\n\t\tconst useIridescence = material.iridescence > 0;\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget === null ) ? renderer.outputEncoding : ( currentRenderTarget.isXRRenderTarget === true ? currentRenderTarget.texture.encoding : LinearEncoding ),\n\t\t\tmap: !! material.map,\n\t\t\tmatcap: !! material.matcap,\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapCubeUVHeight: envMapCubeUVHeight,\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\n\t\t\tdecodeVideoTexture: !! material.map && ( material.map.isVideoTexture === true ) && ( material.map.encoding === sRGBEncoding ),\n\n\t\t\tclearcoat: useClearcoat,\n\t\t\tclearcoatMap: useClearcoat && !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: useClearcoat && !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: useClearcoat && !! material.clearcoatNormalMap,\n\n\t\t\tiridescence: useIridescence,\n\t\t\tiridescenceMap: useIridescence && !! material.iridescenceMap,\n\t\t\tiridescenceThicknessMap: useIridescence && !! material.iridescenceThicknessMap,\n\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\tspecularIntensityMap: !! material.specularIntensityMap,\n\t\t\tspecularColorMap: !! material.specularColorMap,\n\n\t\t\topaque: material.transparent === false && material.blending === NormalBlending,\n\n\t\t\talphaMap: !! material.alphaMap,\n\t\t\talphaTest: useAlphaTest,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: material.sheen > 0,\n\t\t\tsheenColorMap: !! material.sheenColorMap,\n\t\t\tsheenRoughnessMap: !! material.sheenRoughnessMap,\n\n\t\t\ttransmission: material.transmission > 0,\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\t\t\tthicknessMap: !! material.thicknessMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( !! material.normalMap && !! geometry.attributes.tangent ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || !! material.displacementMap || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || !! material.sheenColorMap || !! material.sheenRoughnessMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || material.transmission > 0 || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || material.sheen > 0 || !! material.sheenColorMap || !! material.sheenRoughnessMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog === true,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true,\n\n\t\t\tmorphTargets: geometry.morphAttributes.position !== undefined,\n\t\t\tmorphNormals: geometry.morphAttributes.normal !== undefined,\n\t\t\tmorphColors: geometry.morphAttributes.color !== undefined,\n\t\t\tmorphTargetsCount: morphTargetsCount,\n\t\t\tmorphTextureStride: morphTextureStride,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tuseDepthPacking: !! material.depthPacking,\n\t\t\tdepthPacking: material.depthPacking || 0,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.customVertexShaderID );\n\t\t\tarray.push( parameters.customFragmentShaderID );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tgetProgramCacheKeyParameters( array, parameters );\n\t\t\tgetProgramCacheKeyBooleans( array, parameters );\n\t\t\tarray.push( renderer.outputEncoding );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getProgramCacheKeyParameters( array, parameters ) {\n\n\t\tarray.push( parameters.precision );\n\t\tarray.push( parameters.outputEncoding );\n\t\tarray.push( parameters.envMapMode );\n\t\tarray.push( parameters.envMapCubeUVHeight );\n\t\tarray.push( parameters.combine );\n\t\tarray.push( parameters.vertexUvs );\n\t\tarray.push( parameters.fogExp2 );\n\t\tarray.push( parameters.sizeAttenuation );\n\t\tarray.push( parameters.morphTargetsCount );\n\t\tarray.push( parameters.morphAttributeCount );\n\t\tarray.push( parameters.numDirLights );\n\t\tarray.push( parameters.numPointLights );\n\t\tarray.push( parameters.numSpotLights );\n\t\tarray.push( parameters.numHemiLights );\n\t\tarray.push( parameters.numRectAreaLights );\n\t\tarray.push( parameters.numDirLightShadows );\n\t\tarray.push( parameters.numPointLightShadows );\n\t\tarray.push( parameters.numSpotLightShadows );\n\t\tarray.push( parameters.shadowMapType );\n\t\tarray.push( parameters.toneMapping );\n\t\tarray.push( parameters.numClippingPlanes );\n\t\tarray.push( parameters.numClipIntersection );\n\t\tarray.push( parameters.depthPacking );\n\n\t}\n\n\tfunction getProgramCacheKeyBooleans( array, parameters ) {\n\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.isWebGL2 )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.supportsVertexTextures )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.instancing )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.instancingColor )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.map )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.matcap )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.envMap )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.lightMap )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.aoMap )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.emissiveMap )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.bumpMap )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.normalMap )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.objectSpaceNormalMap )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.tangentSpaceNormalMap )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.clearcoat )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.clearcoatMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.clearcoatRoughnessMap )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.clearcoatNormalMap )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.iridescence )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.iridescenceMap )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.iridescenceThicknessMap )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.displacementMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.specularMap )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.roughnessMap )\n\t\t\t_programLayers.enable( 23 );\n\t\tif ( parameters.metalnessMap )\n\t\t\t_programLayers.enable( 24 );\n\t\tif ( parameters.gradientMap )\n\t\t\t_programLayers.enable( 25 );\n\t\tif ( parameters.alphaMap )\n\t\t\t_programLayers.enable( 26 );\n\t\tif ( parameters.alphaTest )\n\t\t\t_programLayers.enable( 27 );\n\t\tif ( parameters.vertexColors )\n\t\t\t_programLayers.enable( 28 );\n\t\tif ( parameters.vertexAlphas )\n\t\t\t_programLayers.enable( 29 );\n\t\tif ( parameters.vertexUvs )\n\t\t\t_programLayers.enable( 30 );\n\t\tif ( parameters.vertexTangents )\n\t\t\t_programLayers.enable( 31 );\n\t\tif ( parameters.uvsVertexOnly )\n\t\t\t_programLayers.enable( 32 );\n\t\tif ( parameters.fog )\n\t\t\t_programLayers.enable( 33 );\n\n\t\tarray.push( _programLayers.mask );\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.useFog )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.flatShading )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.logarithmicDepthBuffer )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.skinning )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.morphTargets )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.morphNormals )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.morphColors )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.premultipliedAlpha )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.shadowMapEnabled )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.physicallyCorrectLights )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.doubleSided )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.flipSided )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.useDepthPacking )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.dithering )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.specularIntensityMap )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.specularColorMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.transmission )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.transmissionMap )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.thicknessMap )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.sheen )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.sheenColorMap )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.sheenRoughnessMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.decodeVideoTexture )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.opaque )\n\t\t\t_programLayers.enable( 23 );\n\n\t\tarray.push( _programLayers.mask );\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\tfunction releaseShaderCache( material ) {\n\n\t\t_customShaders.remove( material );\n\n\t}\n\n\tfunction dispose() {\n\n\t\t_customShaders.dispose();\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\treleaseShaderCache: releaseShaderCache,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, physicallyCorrectLights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\t// artist-friendly light intensity scaling factor\n\t\tconst scaleFactor = ( physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\tb += color.b * intensity * scaleFactor;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity * scaleFactor );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( physicallyCorrectLights ) {\n\n\t\tlights.setup( lightsArray, physicallyCorrectLights );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDepthMaterial = true;\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDistanceMaterial = true;\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\t\tdefines: {\n\t\t\tVSM_SAMPLES: 8\n\t\t},\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vertex,\n\t\tfragmentShader: fragment\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = ( this.type !== VSMShadowMap ) ? { minFilter: NearestFilter, magFilter: NearestFilter } : {};\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( shadow.isPointLightShadow !== true && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\tif ( shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples ) {\n\n\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\n\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( shadow.mapPass === null ) {\n\n\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y );\n\n\t\t}\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t}\n\n\t\tif ( ( _renderer.localClippingEnabled && material.clipShadows === true && Array.isArray( material.clippingPlanes ) && material.clippingPlanes.length !== 0 ) ||\n\t\t\t( material.displacementMap && material.displacementScale !== 0 ) ||\n\t\t\t( material.alphaMap && material.alphaTest > 0 ) ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.alphaMap = material.alphaMap;\n\t\tresult.alphaTest = material.alphaTest;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.displacementMap = material.displacementMap;\n\t\tresult.displacementScale = material.displacementScale;\n\t\tresult.displacementBias = material.displacementBias;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentBoundFramebuffers = {};\n\tlet currentDrawbuffers = new WeakMap();\n\tlet defaultDrawbuffers = [];\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction drawBuffers( renderTarget, framebuffer ) {\n\n\t\tlet drawBuffers = defaultDrawbuffers;\n\n\t\tlet needsUpdate = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tdrawBuffers = currentDrawbuffers.get( framebuffer );\n\n\t\t\tif ( drawBuffers === undefined ) {\n\n\t\t\t\tdrawBuffers = [];\n\t\t\t\tcurrentDrawbuffers.set( framebuffer, drawBuffers );\n\n\t\t\t}\n\n\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tif ( drawBuffers.length !== textures.length || drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tdrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawBuffers.length = textures.length;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tdrawBuffers[ 0 ] = 36064;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( drawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\tdrawBuffers[ 0 ] = 1029;\n\n\t\t\t\tneedsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgl.drawBuffers( drawBuffers );\n\n\t\t\t} else {\n\n\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( drawBuffers );\n\n\t\t\t}\n\n\t\t}\n\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentBoundFramebuffers = {};\n\t\tcurrentDrawbuffers = new WeakMap();\n\t\tdefaultDrawbuffers = [];\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tdrawBuffers: drawBuffers,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\ttexStorage2D: texStorage2D,\n\t\ttexStorage3D: texStorage3D,\n\t\ttexSubImage2D: texSubImage2D,\n\t\ttexSubImage3D: texSubImage3D,\n\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\tconst multisampledRTTExt = extensions.has( 'WEBGL_multisampled_render_to_texture' ) ? extensions.get( 'WEBGL_multisampled_render_to_texture' ) : null;\n\tconst supportsInvalidateFramebuffer = /OculusBrowser/g.test( navigator.userAgent );\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\tconst _sources = new WeakMap(); // maps WebglTexture objects to instances of Source\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\tnew OffscreenCanvas( width, height ) : createElementNS( 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType, encoding, isVideoTexture = false ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 33319 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33328;\n\t\t\tif ( glType === 5131 ) internalFormat = 33327;\n\t\t\tif ( glType === 5121 ) internalFormat = 33323;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = ( encoding === sRGBEncoding && isVideoTexture === false ) ? 35907 : 32856;\n\t\t\tif ( glType === 32819 ) internalFormat = 32854;\n\t\t\tif ( glType === 32820 ) internalFormat = 32855;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 33327 || internalFormat === 33328 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\tfunction getMipLevels( texture, image, supportsMips ) {\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) === true || ( texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) ) {\n\n\t\t\treturn Math.log2( Math.max( image.width, image.height ) ) + 1;\n\n\t\t} else if ( texture.mipmaps !== undefined && texture.mipmaps.length > 0 ) {\n\n\t\t\t// user-defined mipmaps\n\n\t\t\treturn texture.mipmaps.length;\n\n\t\t} else if ( texture.isCompressedTexture && Array.isArray( texture.image ) ) {\n\n\t\t\treturn image.mipmaps.length;\n\n\t\t} else {\n\n\t\t\t// texture without mipmaps (only base level)\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t// check if it's necessary to remove the WebGLTexture object\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures ) {\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\t\t\twebglTexture.usedTimes --;\n\n\t\t\t// the WebGLTexture object is not used anymore, remove it\n\n\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\tdeleteTexture( texture );\n\n\t\t\t}\n\n\t\t\t// remove the weak map entry if no WebGLTexture uses the source anymore\n\n\t\t\tif ( Object.keys( webglTextures ).length === 0 ) {\n\n\t\t\t\t_sources.delete( source );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deleteTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\t\tdelete webglTextures[ textureProperties.__cacheKey ];\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) {\n\n\t\t\t\tfor ( let i = 0; i < renderTargetProperties.__webglColorRenderbuffer.length; i ++ ) {\n\n\t\t\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer[ i ] ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tfunction getTextureCacheKey( texture ) {\n\n\t\tconst array = [];\n\n\t\tarray.push( texture.wrapS );\n\t\tarray.push( texture.wrapT );\n\t\tarray.push( texture.magFilter );\n\t\tarray.push( texture.minFilter );\n\t\tarray.push( texture.anisotropy );\n\t\tarray.push( texture.internalFormat );\n\t\tarray.push( texture.format );\n\t\tarray.push( texture.type );\n\t\tarray.push( texture.generateMipmaps );\n\t\tarray.push( texture.premultiplyAlpha );\n\t\tarray.push( texture.flipY );\n\t\tarray.push( texture.unpackAlignment );\n\t\tarray.push( texture.encoding );\n\n\t\treturn array.join();\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.isRenderTargetTexture === false && texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but no image data found.' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tlet forceUpload = false;\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t}\n\n\t\t// create Source <-> WebGLTextures mapping if necessary\n\n\t\tconst source = texture.source;\n\t\tlet webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures === undefined ) {\n\n\t\t\twebglTextures = {};\n\t\t\t_sources.set( source, webglTextures );\n\n\t\t}\n\n\t\t// check if there is already a WebGLTexture object for the given texture parameters\n\n\t\tconst textureCacheKey = getTextureCacheKey( texture );\n\n\t\tif ( textureCacheKey !== textureProperties.__cacheKey ) {\n\n\t\t\t// if not, create a new instance of WebGLTexture\n\n\t\t\tif ( webglTextures[ textureCacheKey ] === undefined ) {\n\n\t\t\t\t// create new entry\n\n\t\t\t\twebglTextures[ textureCacheKey ] = {\n\t\t\t\t\ttexture: _gl.createTexture(),\n\t\t\t\t\tusedTimes: 0\n\t\t\t\t};\n\n\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t// when a new instance of WebGLTexture was created, a texture upload is required\n\t\t\t\t// even if the image contents are identical\n\n\t\t\t\tforceUpload = true;\n\n\t\t\t}\n\n\t\t\twebglTextures[ textureCacheKey ].usedTimes ++;\n\n\t\t\t// every time the texture cache key changes, it's necessary to check if an instance of\n\t\t\t// WebGLTexture can be deleted in order to avoid a memory leak.\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\n\t\t\tif ( webglTexture !== undefined ) {\n\n\t\t\t\twebglTextures[ textureProperties.__cacheKey ].usedTimes --;\n\n\t\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\t\tdeleteTexture( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// store references to cache key and WebGLTexture object\n\n\t\t\ttextureProperties.__cacheKey = textureCacheKey;\n\t\t\ttextureProperties.__webglTexture = webglTextures[ textureCacheKey ].texture;\n\n\t\t}\n\n\t\treturn forceUpload;\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataArrayTexture ) textureType = 35866;\n\t\tif ( texture.isData3DTexture ) textureType = 32879;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\tif ( source.version !== source.__currentVersion || forceUpload === true ) {\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\t\tlet image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\t\t\timage = verifyColorSpace( texture, image );\n\n\t\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding );\n\n\t\t\tlet glType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, texture.isVideoTexture );\n\n\t\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\t\tlet mipmap;\n\t\t\tconst mipmaps = texture.mipmaps;\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( source.__currentVersion === undefined ) || ( forceUpload === true );\n\t\t\tconst levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t\t// populate depth texture with dummy data\n\n\t\t\t\tglInternalFormat = 6402;\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// validation checks for WebGL 1\n\n\t\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedIntType;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, 1, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, image.width, image.height, glFormat, glType, image.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 35866, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 32879, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 32879, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isFramebufferTexture ) {\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet width = image.width, height = image.height;\n\n\t\t\t\t\t\tfor ( let i = 0; i < levels; i ++ ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, width, height, 0, glFormat, glType, null );\n\n\t\t\t\t\t\t\twidth >>= 1;\n\t\t\t\t\t\t\theight >>= 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, glFormat, glType, image );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( textureType );\n\n\t\t\t}\n\n\t\t\tsource.__currentVersion = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\tif ( source.version !== source.__currentVersion || forceUpload === true ) {\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst isCompressed = ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture );\n\t\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t\tcubeImage[ i ] = verifyColorSpace( texture, cubeImage[ i ] );\n\n\t\t\t}\n\n\t\t\tconst image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( source.__currentVersion === undefined ) || ( forceUpload === true );\n\t\t\tlet levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tlet mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\n\t\t\t\t\tif ( mipmaps.length > 0 ) levels ++;\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, cubeImage[ 0 ].width, cubeImage[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, cubeImage[ i ].width, cubeImage[ i ].height, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tsource.__currentVersion = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( ! renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0, getRenderTargetSamples( renderTarget ) );\n\n\t\t} else {\n\n\t\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample || useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tconst texture = textures[ i ];\n\n\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 36096, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 33306, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture && ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// rebind framebuffer with external textures\n\tfunction rebindTextures( renderTarget, colorTexture, depthTexture ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( colorTexture !== undefined ) {\n\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, 36064, 3553 );\n\n\t\t}\n\n\t\tif ( depthTexture !== undefined ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\tif ( textureProperties.__webglTexture === undefined ) {\n\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tconst textures = isMultipleRenderTargets ? texture : [ texture ];\n\n\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = [];\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tconst texture = textures[ i ];\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer[ i ] = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( renderTarget.isWebGL3DRenderTarget || renderTarget.isWebGLArrayRenderTarget ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tglTextureType = renderTarget.isWebGL3DRenderTarget ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target );\n\t\t\t\tstate.unbindTexture();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets ? renderTarget.texture : [ renderTarget.texture ];\n\t\t\tconst width = renderTarget.width;\n\t\t\tconst height = renderTarget.height;\n\t\t\tlet mask = 16384;\n\t\t\tconst invalidationArray = [];\n\t\t\tconst depthStyle = renderTarget.stencilBuffer ? 33306 : 36096;\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\n\t\t\t// If MRT we need to remove FBO attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, null );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, null, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tinvalidationArray.push( 36064 + i );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\tinvalidationArray.push( depthStyle );\n\n\t\t\t\t}\n\n\t\t\t\tconst ignoreDepthValues = ( renderTargetProperties.__ignoreDepthValues !== undefined ) ? renderTargetProperties.__ignoreDepthValues : false;\n\n\t\t\t\tif ( ignoreDepthValues === false ) {\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36008, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ignoreDepthValues === true ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, [ depthStyle ] );\n\t\t\t\t\t_gl.invalidateFramebuffer( 36009, [ depthStyle ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tif ( supportsInvalidateFramebuffer ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, invalidationArray );\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\tstate.bindFramebuffer( 36009, null );\n\n\t\t\t// If MRT since pre-blit we removed the FBO we need to reconstruct the attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn Math.min( maxSamples, renderTarget.samples );\n\n\t}\n\n\tfunction useMultisampledRTT( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\treturn isWebGL2 && renderTarget.samples > 0 && extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true && renderTargetProperties.__useRenderToTexture !== false;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tfunction verifyColorSpace( texture, image ) {\n\n\t\tconst encoding = texture.encoding;\n\t\tconst format = texture.format;\n\t\tconst type = texture.type;\n\n\t\tif ( texture.isCompressedTexture === true || texture.isVideoTexture === true || texture.format === _SRGBAFormat ) return image;\n\n\t\tif ( encoding !== LinearEncoding ) {\n\n\t\t\t// sRGB\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\tif ( isWebGL2 === false ) {\n\n\t\t\t\t\t// in WebGL 1, try to use EXT_sRGB extension and unsized formats\n\n\t\t\t\t\tif ( extensions.has( 'EXT_sRGB' ) === true && format === RGBAFormat ) {\n\n\t\t\t\t\t\ttexture.format = _SRGBAFormat;\n\n\t\t\t\t\t\t// it's not possible to generate mips in WebGL 1 with this extension\n\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// slow fallback (CPU decode)\n\n\t\t\t\t\t\timage = ImageUtils.sRGBToLinear( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// in WebGL 2 uncompressed textures can only be sRGB encoded if they have the RGBA8 format\n\n\t\t\t\t\tif ( format !== RGBAFormat || type !== UnsignedByteType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.WebGLTextures: Unsupported texture encoding:', encoding );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.rebindTextures = rebindTextures;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\tthis.useMultisampledRTT = useMultisampledRTT;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p, encoding = null ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === RGBFormat ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228' );\n\t\t\treturn 6408;\n\n\t\t}\n\n\t\t// WebGL 1 sRGB fallback\n\n\t\tif ( p === _SRGBAFormat ) {\n\n\t\t\textension = extensions.get( 'EXT_sRGB' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.SRGB_ALPHA_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\t// S3TC\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc_srgb' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// PVRTC\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC1\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC2\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ETC2 : extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ASTC\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_ASTC_4x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : extension.COMPRESSED_RGBA_ASTC_4x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : extension.COMPRESSED_RGBA_ASTC_5x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : extension.COMPRESSED_RGBA_ASTC_5x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : extension.COMPRESSED_RGBA_ASTC_6x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : extension.COMPRESSED_RGBA_ASTC_6x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : extension.COMPRESSED_RGBA_ASTC_8x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : extension.COMPRESSED_RGBA_ASTC_8x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : extension.COMPRESSED_RGBA_ASTC_8x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : extension.COMPRESSED_RGBA_ASTC_10x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : extension.COMPRESSED_RGBA_ASTC_10x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : extension.COMPRESSED_RGBA_ASTC_10x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : extension.COMPRESSED_RGBA_ASTC_10x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : extension.COMPRESSED_RGBA_ASTC_12x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x12_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : extension.COMPRESSED_RGBA_ASTC_12x12_KHR;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// BPTC\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_BPTC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : extension.COMPRESSED_RGBA_BPTC_UNORM_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if \"p\" can't be resolved, assume the user defines a WebGL constant as a string (fallback/workaround for packed RGB formats)\n\n\t\treturn ( gl[ p ] !== undefined ) ? gl[ p ] : null;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isArrayCamera = true;\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isGroup = true;\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t// Some runtimes (namely Vive Cosmos with Vive OpenXR Runtime) have only grip space and ray space is equal to it\n\t\t\t\tif ( inputPose === null && gripPose !== null ) {\n\n\t\t\t\t\tinputPose = gripPose;\n\n\t\t\t\t}\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedIntType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isDepthTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\t\tlet customReferenceSpace = null;\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\t\tlet xrFrame = null;\n\t\tconst attributes = gl.getContextAttributes();\n\t\tlet initialRenderTarget = null;\n\t\tlet newRenderTarget = null;\n\n\t\tconst controllers = [];\n\t\tconst controllerInputSources = [];\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controllerIndex = controllerInputSources.indexOf( event.inputSource );\n\n\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\tif ( controller !== undefined ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tsession.removeEventListener( 'select', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'end', onSessionEnd );\n\t\t\tsession.removeEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\n\t\t\t\tif ( inputSource === null ) continue;\n\n\t\t\t\tcontrollerInputSources[ i ] = null;\n\n\t\t\t\tcontrollers[ i ].disconnect( inputSource );\n\n\t\t\t}\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\trenderer.setRenderTarget( initialRenderTarget );\n\n\t\t\tglBaseLayer = null;\n\t\t\tglProjLayer = null;\n\t\t\tglBinding = null;\n\t\t\tsession = null;\n\t\t\tnewRenderTarget = null;\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn customReferenceSpace || referenceSpace;\n\n\t\t};\n\n\t\tthis.setReferenceSpace = function ( space ) {\n\n\t\t\tcustomReferenceSpace = space;\n\n\t\t};\n\n\t\tthis.getBaseLayer = function () {\n\n\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\n\t\t};\n\n\t\tthis.getBinding = function () {\n\n\t\t\treturn glBinding;\n\n\t\t};\n\n\t\tthis.getFrame = function () {\n\n\t\t\treturn xrFrame;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ( session.renderState.layers === undefined ) || ( renderer.capabilities.isWebGL2 === false ) ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: ( session.renderState.layers === undefined ) ? attributes.antialias : true,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglBaseLayer.framebufferWidth,\n\t\t\t\t\t\tglBaseLayer.framebufferHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\tlet depthType = null;\n\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\tglDepthFormat = attributes.stencil ? 35056 : 33190;\n\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedIntType;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\tcolorFormat: 32856,\n\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglProjLayer.textureWidth,\n\t\t\t\t\t\tglProjLayer.textureHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tdepthTexture: new DepthTexture( glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat ),\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tsamples: attributes.antialias ? 4 : 0\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tconst renderTargetProperties = renderer.properties.get( newRenderTarget );\n\t\t\t\t\trenderTargetProperties.__ignoreDepthValues = glProjLayer.ignoreDepthValues;\n\n\t\t\t\t}\n\n\t\t\t\tnewRenderTarget.isXRRenderTarget = true; // TODO Remove this when possible, see #23278\n\n\t\t\t\t// Set foveation to maximum.\n\t\t\t\tthis.setFoveation( 1.0 );\n\n\t\t\t\tcustomReferenceSpace = null;\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst index = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( index >= 0 ) {\n\n\t\t\t\t\tcontrollerInputSources[ index ] = null;\n\t\t\t\t\tcontrollers[ index ].dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\n\t\t\t\tlet controllerIndex = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\t\t// Assign input source a controller that currently has no input source\n\n\t\t\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\t\tif ( i >= controllerInputSources.length ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources.push( inputSource );\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t} else if ( controllerInputSources[ i ] === null ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources[ i ] = inputSource;\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If all controllers do currently receive input we ignore new ones\n\n\t\t\t\t\tif ( controllerIndex === - 1 ) break;\n\n\t\t\t\t}\n\n\t\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\tcameraVR.matrixWorld.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t// update user camera and its children\n\n\t\t\tcamera.position.copy( cameraVR.position );\n\t\t\tcamera.quaternion.copy( cameraVR.quaternion );\n\t\t\tcamera.scale.copy( cameraVR.scale );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\treturn glProjLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\treturn glBaseLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( foveation ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( customReferenceSpace || referenceSpace );\n\t\t\txrFrame = frame;\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\trenderer.setRenderTargetFramebuffer( newRenderTarget, glBaseLayer.framebuffer );\n\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t\t// For side-by-side projection, we only produce a single texture for both eyes.\n\t\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\t\trenderer.setRenderTargetTextures(\n\t\t\t\t\t\t\t\tnewRenderTarget,\n\t\t\t\t\t\t\t\tglSubImage.colorTexture,\n\t\t\t\t\t\t\t\tglProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture );\n\n\t\t\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet camera = cameras[ i ];\n\n\t\t\t\t\tif ( camera === undefined ) {\n\n\t\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\t\tcamera.layers.enable( i );\n\t\t\t\t\t\tcamera.viewport = new Vector4();\n\t\t\t\t\t\tcameras[ i ] = camera;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\t\t\t\tconst controller = controllers[ i ];\n\n\t\t\t\tif ( inputSource !== null && controller !== undefined ) {\n\n\t\t\t\t\tcontroller.update( inputSource, frame, customReferenceSpace || referenceSpace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t\txrFrame = null;\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( renderer, properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.ior.value = material.ior;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\n\t\t\t// artist-friendly light intensity scaling factor\n\t\t\tconst scaleFactor = ( renderer.physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity * scaleFactor;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\t\t// 13. iridescence map\n\t\t// 14. iridescence thickness map\n\t\t// 15. specular intensity map\n\t\t// 16. specular tint map\n\t\t// 17. transmission map\n\t\t// 18. thickness map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t} else if ( material.iridescenceMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceMap;\n\n\t\t} else if ( material.iridescenceThicknessMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceThicknessMap;\n\n\t\t} else if ( material.specularIntensityMap ) {\n\n\t\t\tuvScaleMap = material.specularIntensityMap;\n\n\t\t} else if ( material.specularColorMap ) {\n\n\t\t\tuvScaleMap = material.specularColorMap;\n\n\t\t} else if ( material.transmissionMap ) {\n\n\t\t\tuvScaleMap = material.transmissionMap;\n\n\t\t} else if ( material.thicknessMap ) {\n\n\t\t\tuvScaleMap = material.thicknessMap;\n\n\t\t} else if ( material.sheenColorMap ) {\n\n\t\t\tuvScaleMap = material.sheenColorMap;\n\n\t\t} else if ( material.sheenRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.sheenRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\tif ( material.sheen > 0 ) {\n\n\t\t\tuniforms.sheenColor.value.copy( material.sheenColor ).multiplyScalar( material.sheen );\n\n\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\tif ( material.sheenColorMap ) {\n\n\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\n\t\t\t}\n\n\t\t\tif ( material.sheenRoughnessMap ) {\n\n\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.clearcoat > 0 ) {\n\n\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\tif ( material.clearcoatMap ) {\n\n\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.iridescence > 0 ) {\n\n\t\t\tuniforms.iridescence.value = material.iridescence;\n\t\t\tuniforms.iridescenceIOR.value = material.iridescenceIOR;\n\t\t\tuniforms.iridescenceThicknessMinimum.value = material.iridescenceThicknessRange[ 0 ];\n\t\t\tuniforms.iridescenceThicknessMaximum.value = material.iridescenceThicknessRange[ 1 ];\n\n\t\t\tif ( material.iridescenceMap ) {\n\n\t\t\t\tuniforms.iridescenceMap.value = material.iridescenceMap;\n\n\t\t\t}\n\n\t\t\tif ( material.iridescenceThicknessMap ) {\n\n\t\t\t\tuniforms.iridescenceThicknessMap.value = material.iridescenceThicknessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.transmission > 0 ) {\n\n\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t\tif ( material.transmissionMap ) {\n\n\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t\t}\n\n\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\tif ( material.thicknessMap ) {\n\n\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t\t}\n\n\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\tuniforms.attenuationColor.value.copy( material.attenuationColor );\n\n\t\t}\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularColor.value.copy( material.specularColor );\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t}\n\n\t\tif ( material.specularColorMap ) {\n\n\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = createElementNS( 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters = {} ) {\n\n\tthis.isWebGLRenderer = true;\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet _alpha;\n\n\tif ( _context !== null ) {\n\n\t\t_alpha = _context.getContextAttributes().alpha;\n\n\t} else {\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false;\n\n\t}\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t//\n\n\tObject.defineProperties( this, {\n\n\t\t// @deprecated since r136, 0e21088102b4de7e0a0a33140620b7a3424b9e6d\n\n\t\tgammaFactor: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaFactor has been removed.' );\n\t\t\t\treturn 2;\n\n\t\t\t},\n\t\t\tset: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaFactor has been removed.' );\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// transmission\n\n\tlet _transmissionRenderTarget = null;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector2 = new Vector2();\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: true,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// OffscreenCanvas does not have setAttribute, see #22811\n\t\tif ( 'setAttribute' in _canvas ) _canvas.setAttribute( 'data-engine', `three.js r${REVISION}` );\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.addEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo();\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl, capabilities, textures );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( _this, properties );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _alpha, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color = true, depth = true, stencil = true ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color ) bits |= 16384;\n\t\tif ( depth ) bits |= 256;\n\t\tif ( stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.removeEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tcubeuvmaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\t\tprogramCache.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t_transmissionRenderTarget = null;\n\n\t\t}\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onContextCreationError( event ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: A WebGL context could not be created. Reason: ', event.statusMessage );\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tprogramCache.releaseShaderCache( material );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, geometry, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\trenderStateStack.pop();\n\t\tcurrentRenderState = null;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof self !== 'undefined' ) animation.setContext( self );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene );\n\n\t\t// render scene\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tconst cameras = camera.cameras;\n\n\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\trenderScene( currentRenderList, scene, camera2, camera2.viewport );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderScene( currentRenderList, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderScene( currentRenderList, scene, camera, viewport ) {\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( transmissiveObjects.length > 0 ) renderTransmissionPass( opaqueObjects, scene, camera );\n\n\t\tif ( viewport ) state.viewport( _currentViewport.copy( viewport ) );\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transmissiveObjects.length > 0 ) renderObjects( transmissiveObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t}\n\n\tfunction renderTransmissionPass( opaqueObjects, scene, camera ) {\n\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\t_transmissionRenderTarget = new WebGLRenderTarget( 1, 1, {\n\t\t\t\tgenerateMipmaps: true,\n\t\t\t\ttype: extensions.has( 'EXT_color_buffer_half_float' ) ? HalfFloatType : UnsignedByteType,\n\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\tsamples: ( isWebGL2 && _antialias === true ) ? 4 : 0\n\t\t\t} );\n\n\t\t}\n\n\t\t_this.getDrawingBufferSize( _vector2 );\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\t_transmissionRenderTarget.setSize( _vector2.x, _vector2.y );\n\n\t\t} else {\n\n\t\t\t_transmissionRenderTarget.setSize( floorPowerOfTwo( _vector2.x ), floorPowerOfTwo( _vector2.y ) );\n\n\t\t}\n\n\t\t//\n\n\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t_this.clear();\n\n\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\tconst currentToneMapping = _this.toneMapping;\n\t\t_this.toneMapping = NoToneMapping;\n\n\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t_this.toneMapping = currentToneMapping;\n\n\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( object.layers.test( camera.layers ) ) {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tmaterial.onBeforeRender( _this, scene, camera, geometry, object, group );\n\n\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\tmaterial.side = BackSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = FrontSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = DoubleSide;\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( object, parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.skinning = parameters.skinning;\n\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\tmaterialProperties.morphColors = parameters.morphColors;\n\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\n\t}\n\n\tfunction setProgram( camera, scene, geometry, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : ( _currentRenderTarget.isXRRenderTarget === true ? _currentRenderTarget.texture.encoding : LinearEncoding );\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\tconst vertexTangents = !! material.normalMap && !! geometry.attributes.tangent;\n\t\tconst morphTargets = !! geometry.morphAttributes.position;\n\t\tconst morphNormals = !! geometry.morphAttributes.normal;\n\t\tconst morphColors = !! geometry.morphAttributes.color;\n\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog === true && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphColors !== morphColors ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.toneMapping !== toneMapping ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning and morph target uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tif ( morphAttributes.position !== undefined || morphAttributes.normal !== undefined || ( morphAttributes.color !== undefined && capabilities.isWebGL2 === true ) ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog === true ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTargetTextures = function ( renderTarget, colorTexture, depthTexture ) {\n\n\t\tproperties.get( renderTarget.texture ).__webglTexture = colorTexture;\n\t\tproperties.get( renderTarget.depthTexture ).__webglTexture = depthTexture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\tif ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\tif ( ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\tif ( extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided' );\n\t\t\t\t\trenderTargetProperties.__useRenderToTexture = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.setRenderTargetFramebuffer = function ( renderTarget, defaultFramebuffer ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tlet useDefaultFramebuffer = true;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\tif ( renderTargetProperties.__useDefaultFramebuffer !== undefined ) {\n\n\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\t\t\t\tuseDefaultFramebuffer = false;\n\n\t\t\t} else if ( renderTargetProperties.__webglFramebuffer === undefined ) {\n\n\t\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t\t} else if ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\ttextures.rebindTextures( renderTarget, properties.get( renderTarget.texture ).__webglTexture, properties.get( renderTarget.depthTexture ).__webglTexture );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isData3DTexture || texture.isDataArrayTexture ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( ( capabilities.isWebGL2 && renderTarget.samples > 0 ) && textures.useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer ) {\n\n\t\t\tstate.drawBuffers( renderTarget, framebuffer );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t\t_currentMaterialId = - 1; // reset current material to ensure correct uniform bindings\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexSubImage2D( 3553, level, 0, 0, position.x, position.y, width, height );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t_gl.pixelStorei( 3314, image.width );\n\t\t_gl.pixelStorei( 32878, image.height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\tif ( srcTexture.isDataTexture || srcTexture.isData3DTexture ) {\n\n\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\ttextures.setTextureCube( texture, 0 );\n\n\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( texture, 0 );\n\n\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( texture, 0 );\n\n\t\t} else {\n\n\t\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.isFogExp2 = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.isFog = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isScene = true;\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.isInterleavedBuffer = true;\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.from( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.isInterleavedBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interleaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isSpriteMaterial = true;\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.isSprite = true;\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkinnedMesh = true;\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.fromBufferAttribute( skinWeight, i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.copy( target ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBone = true;\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isDataTexture = true;\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tcomputeBoneTexture() {\n\n\t\t// layout (1 matrix = 4 pixels)\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\t\tlet size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\tsize = ceilPowerOfTwo( size );\n\t\tsize = Math.max( size, 4 );\n\n\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\tboneMatrices.set( this.boneMatrices ); // copy current values\n\n\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\tboneTexture.needsUpdate = true;\n\n\t\tthis.boneMatrices = boneMatrices;\n\t\tthis.boneTexture = boneTexture;\n\t\tthis.boneTextureSize = size;\n\n\t\treturn this;\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tif ( typeof normalized === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.isInstancedBufferAttribute = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isInstancedMesh = true;\n\n\t\tthis.instanceMatrix = new InstancedBufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new InstancedBufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineBasicMaterial = true;\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isLine = true;\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tconst a = index.getX( i );\n\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineSegments = true;\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [];\n\n\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineLoop = true;\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isPointsMaterial = true;\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isPoints = true;\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isVideoTexture = true;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass FramebufferTexture extends Texture {\n\n\tconstructor( width, height, format ) {\n\n\t\tsuper( { width, height } );\n\n\t\tthis.isFramebufferTexture = true;\n\n\t\tthis.format = format;\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCompressedTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isCanvasTexture = true;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.isEllipseCurve = true;\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.isArcCurve = true;\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = /*@__PURE__*/ new Vector3();\nconst px = /*@__PURE__*/ new CubicPoly();\nconst py = /*@__PURE__*/ new CubicPoly();\nconst pz = /*@__PURE__*/ new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.isCatmullRomCurve3 = true;\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Bezier Curves formulas obtained from\n * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve = true;\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve3 = true;\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve = true;\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.type = 'LineCurve3';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve = true;\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve3 = true;\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isSplineCurve = true;\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u, optionalTarget );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = curve.isEllipseCurve ? divisions * 2\n\t\t\t\t: ( curve.isLineCurve || curve.isLineCurve3 ) ? 1\n\t\t\t\t\t: curve.isSplineCurve ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points = [ new Vector2( 0, 0.5 ), new Vector2( 0.5, 0 ), new Vector2( 0, - 0.5 ) ], segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\t\tconst initNormals = [];\n\t\tconst normals = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tconst normal = new Vector3();\n\t\tconst curNormal = new Vector3();\n\t\tconst prevNormal = new Vector3();\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\t// pre-compute normals for initial \"meridian\"\n\n\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\tswitch ( j ) {\n\n\t\t\t\tcase 0:\t\t\t\t// special handling for 1st vertex on path\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tprevNormal.copy( normal );\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ( points.length - 1 ):\t// special handling for last Vertex on path\n\n\t\t\t\t\tinitNormals.push( prevNormal.x, prevNormal.y, prevNormal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\t\t\t// default handling for all vertices in between\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tcurNormal.copy( normal );\n\n\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\tnormal.z += prevNormal.z;\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tprevNormal.copy( curNormal );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices, uvs and normals\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// normal\n\n\t\t\t\tconst x = initNormals[ 3 * j + 0 ] * sin;\n\t\t\t\tconst y = initNormals[ 3 * j + 1 ];\n\t\t\t\tconst z = initNormals[ 3 * j + 0 ] * cos;\n\n\t\t\t\tnormals.push( x, y, z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( c, d, b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass CapsuleGeometry extends LatheGeometry {\n\n\tconstructor( radius = 1, length = 1, capSegments = 4, radialSegments = 8 ) {\n\n\t\tconst path = new Path();\n\t\tpath.absarc( 0, - length / 2, radius, Math.PI * 1.5, 0 );\n\t\tpath.absarc( 0, length / 2, radius, 0, Math.PI * 0.5 );\n\n\t\tsuper( path.getPoints( capSegments ), radialSegments );\n\n\t\tthis.type = 'CapsuleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: length,\n\t\t\tcapSegments: capSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CapsuleGeometry( data.radius, data.length, data.capSegments, data.radialSegments );\n\n\t}\n\n}\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices = [], indices = [], radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (1, 1, 1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, 1/, )\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (1/, , 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (, 0, 1/)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\nconst _triangle = /*@__PURE__*/ new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null, thresholdAngle = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry,\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\tconst precisionPoints = 4;\n\t\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\t\tconst indexArr = [ 0, 0, 0 ];\n\t\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\t\tconst hashes = new Array( 3 );\n\n\t\t\tconst edgeData = {};\n\t\t\tconst vertices = [];\n\t\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\t\tif ( indexAttr ) {\n\n\t\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t\t}\n\n\t\t\t\tconst { a, b, c } = _triangle;\n\t\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t\t// create hashes for the edge from the vertices\n\t\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t\t// skip degenerate triangles\n\t\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// iterate over every edge\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\t\tfor ( const key in edgeData ) {\n\n\t\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // doesn't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0.5, 0.5 ), new Vector2( - 0.5, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 1;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tdata.options = Object.assign( {}, options );\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segment\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectors, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path = new QuadraticBezierCurve3( new Vector3( - 1, - 1, 0 ), new Vector3( - 1, 1, 0 ), new Vector3( 1, 1, 0 ) ), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\t// buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst edges = new Set();\n\n\t\t\t// helper variables\n\n\t\t\tconst start = new Vector3();\n\t\t\tconst end = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1 );\n\t\tedges.add( hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCapsuleGeometry: CapsuleGeometry,\n\tCapsuleBufferGeometry: CapsuleGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShadowMaterial = true;\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.isRawShaderMaterial = true;\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshStandardMaterial = true;\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhysicalMaterial = true;\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.ior = 1.5;\n\n\t\tObject.defineProperty( this, 'reflectivity', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( clamp( 2.5 * ( this.ior - 1 ) / ( this.ior + 1 ), 0, 1 ) );\n\n\t\t\t},\n\t\t\tset: function ( reflectivity ) {\n\n\t\t\t\tthis.ior = ( 1 + 0.4 * reflectivity ) / ( 1 - 0.4 * reflectivity );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.iridescenceMap = null;\n\t\tthis.iridescenceIOR = 1.3;\n\t\tthis.iridescenceThicknessRange = [ 100, 400 ];\n\t\tthis.iridescenceThicknessMap = null;\n\n\t\tthis.sheenColor = new Color( 0x000000 );\n\t\tthis.sheenColorMap = null;\n\t\tthis.sheenRoughness = 1.0;\n\t\tthis.sheenRoughnessMap = null;\n\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = 0.0;\n\t\tthis.attenuationColor = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularColor = new Color( 1, 1, 1 );\n\t\tthis.specularColorMap = null;\n\n\t\tthis._sheen = 0.0;\n\t\tthis._clearcoat = 0;\n\t\tthis._iridescence = 0;\n\t\tthis._transmission = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tget sheen() {\n\n\t\treturn this._sheen;\n\n\t}\n\n\tset sheen( value ) {\n\n\t\tif ( this._sheen > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._sheen = value;\n\n\t}\n\n\tget clearcoat() {\n\n\t\treturn this._clearcoat;\n\n\t}\n\n\tset clearcoat( value ) {\n\n\t\tif ( this._clearcoat > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._clearcoat = value;\n\n\t}\n\n\tget iridescence() {\n\n\t\treturn this._iridescence;\n\n\t}\n\n\tset iridescence( value ) {\n\n\t\tif ( this._iridescence > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._iridescence = value;\n\n\t}\n\n\tget transmission() {\n\n\t\treturn this._transmission;\n\n\t}\n\n\tset transmission( value ) {\n\n\t\tif ( this._transmission > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._transmission = value;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.ior = source.ior;\n\n\t\tthis.iridescence = source.iridescence;\n\t\tthis.iridescenceMap = source.iridescenceMap;\n\t\tthis.iridescenceIOR = source.iridescenceIOR;\n\t\tthis.iridescenceThicknessRange = [ ...source.iridescenceThicknessRange ];\n\t\tthis.iridescenceThicknessMap = source.iridescenceThicknessMap;\n\n\t\tthis.sheen = source.sheen;\n\t\tthis.sheenColor.copy( source.sheenColor );\n\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationColor.copy( source.attenuationColor );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularColor.copy( source.specularColor );\n\t\tthis.specularColorMap = source.specularColorMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhongMaterial = true;\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshToonMaterial = true;\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshNormalMaterial = true;\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshLambertMaterial = true;\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshMatcapMaterial = true;\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineDashedMaterial = true;\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * fps;\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tsetTimeout( () => {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Initialise array for duplicate requests\n\t\tloading[ url ] = [];\n\n\t\tloading[ url ].push( {\n\t\t\tonLoad: onLoad,\n\t\t\tonProgress: onProgress,\n\t\t\tonError: onError,\n\t\t} );\n\n\t\t// create request\n\t\tconst req = new Request( url, {\n\t\t\theaders: new Headers( this.requestHeader ),\n\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin',\n\t\t\t// An abort controller could be added within a future PR\n\t\t} );\n\n\t\t// record states ( avoid data race )\n\t\tconst mimeType = this.mimeType;\n\t\tconst responseType = this.responseType;\n\n\t\t// start the fetch\n\t\tfetch( req )\n\t\t\t.then( response => {\n\n\t\t\t\tif ( response.status === 200 || response.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( response.status === 0 ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Workaround: Checking if response.body === undefined for Alipay browser #23548\n\n\t\t\t\t\tif ( typeof ReadableStream === 'undefined' || response.body === undefined || response.body.getReader === undefined ) {\n\n\t\t\t\t\t\treturn response;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\t\tconst reader = response.body.getReader();\n\t\t\t\t\tconst contentLength = response.headers.get( 'Content-Length' );\n\t\t\t\t\tconst total = contentLength ? parseInt( contentLength ) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0;\n\n\t\t\t\t\t// periodically read data into the new stream tracking while download progress\n\t\t\t\t\tconst stream = new ReadableStream( {\n\t\t\t\t\t\tstart( controller ) {\n\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\n\t\t\t\t\t\t\t\treader.read().then( ( { done, value } ) => {\n\n\t\t\t\t\t\t\t\t\tif ( done ) {\n\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent( 'progress', { lengthComputable, loaded, total } );\n\t\t\t\t\t\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\t\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue( value );\n\t\t\t\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn new Response( stream );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow Error( `fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}` );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( response => {\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t.then( text => {\n\n\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\treturn parser.parseFromString( text, mimeType );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( mimeType === undefined ) {\n\n\t\t\t\t\t\t\treturn response.text();\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// sniff encoding\n\t\t\t\t\t\t\tconst re = /charset=\"?([^;\"\\s]*)\"?/i;\n\t\t\t\t\t\t\tconst exec = re.exec( mimeType );\n\t\t\t\t\t\t\tconst label = exec && exec[ 1 ] ? exec[ 1 ].toLowerCase() : undefined;\n\t\t\t\t\t\t\tconst decoder = new TextDecoder( label );\n\t\t\t\t\t\t\treturn response.arrayBuffer().then( ab => decoder.decode( ab ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( data => {\n\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add( url, data );\n\n\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( data );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.catch( err => {\n\n\t\t\t\t// Abort errors and other errors are handled the same\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tif ( callbacks === undefined ) {\n\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError( url );\n\t\t\t\t\tthrow err;\n\n\t\t\t\t}\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( err );\n\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError( url );\n\n\t\t\t} )\n\t\t\t.finally( () => {\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\tthis.manager.itemStart( url );\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.isLight = true;\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.isHemisphereLight = true;\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\t\tthis.blurSamples = 8;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.isSpotLightShadow = true;\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isSpotLight = true;\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// by convention for a spotlight, luminous power (lm) =  * luminous intensity (cd)\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis.isPointLightShadow = true;\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isPointLight = true;\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// for an isotropic light source, luminous power (lm) = 4  luminous intensity (cd)\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t\tthis.isDirectionalLightShadow = true;\n\n\t}\n\n}\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isDirectionalLight = true;\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isAmbientLight = true;\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isRectAreaLight = true;\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\treturn this.intensity * this.width * this.height * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( this.width * this.height * Math.PI );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.isSphericalHarmonics3 = true;\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); //  * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 *  / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // (  / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // (  / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // (  / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isLightProbe = true;\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = MaterialLoader.createMaterialFromType( json.type );\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = json.sheen;\n\t\tif ( json.sheenColor !== undefined ) material.sheenColor = new Color().setHex( json.sheenColor );\n\t\tif ( json.sheenRoughness !== undefined ) material.sheenRoughness = json.sheenRoughness;\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.specularIntensity !== undefined ) material.specularIntensity = json.specularIntensity;\n\t\tif ( json.specularColor !== undefined && material.specularColor !== undefined ) material.specularColor.setHex( json.specularColor );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.iridescence !== undefined ) material.iridescence = json.iridescence;\n\t\tif ( json.iridescenceIOR !== undefined ) material.iridescenceIOR = json.iridescenceIOR;\n\t\tif ( json.iridescenceThicknessRange !== undefined ) material.iridescenceThicknessRange = json.iridescenceThicknessRange;\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.thickness !== undefined ) material.thickness = json.thickness;\n\t\tif ( json.attenuationDistance !== undefined ) material.attenuationDistance = json.attenuationDistance;\n\t\tif ( json.attenuationColor !== undefined && material.attenuationColor !== undefined ) material.attenuationColor.setHex( json.attenuationColor );\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\t\tif ( json.specularIntensityMap !== undefined ) material.specularIntensityMap = getTexture( json.specularIntensityMap );\n\t\tif ( json.specularColorMap !== undefined ) material.specularColorMap = getTexture( json.specularColorMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.iridescenceMap !== undefined ) material.iridescenceMap = getTexture( json.iridescenceMap );\n\t\tif ( json.iridescenceThicknessMap !== undefined ) material.iridescenceThicknessMap = getTexture( json.iridescenceThicknessMap );\n\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\t\tif ( json.thicknessMap !== undefined ) material.thicknessMap = getTexture( json.thicknessMap );\n\n\t\tif ( json.sheenColorMap !== undefined ) material.sheenColorMap = getTexture( json.sheenColorMap );\n\t\tif ( json.sheenRoughnessMap !== undefined ) material.sheenRoughnessMap = getTexture( json.sheenRoughnessMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n\tstatic createMaterialFromType( type ) {\n\n\t\tconst materialLib = {\n\t\t\tShadowMaterial,\n\t\t\tSpriteMaterial,\n\t\t\tRawShaderMaterial,\n\t\t\tShaderMaterial,\n\t\t\tPointsMaterial,\n\t\t\tMeshPhysicalMaterial,\n\t\t\tMeshStandardMaterial,\n\t\t\tMeshPhongMaterial,\n\t\t\tMeshToonMaterial,\n\t\t\tMeshNormalMaterial,\n\t\t\tMeshLambertMaterial,\n\t\t\tMeshDepthMaterial,\n\t\t\tMeshDistanceMaterial,\n\t\t\tMeshBasicMaterial,\n\t\t\tMeshMatcapMaterial,\n\t\t\tLineDashedMaterial,\n\t\t\tLineBasicMaterial,\n\t\t\tMaterial\n\t\t};\n\n\t\treturn new materialLib[ type ]();\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.slice( 0, index + 1 );\n\n\t}\n\n\tstatic resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isInstancedBufferGeometry = true;\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tasync loadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst text = await loader.loadAsync( url, onProgress );\n\n\t\tconst json = JSON.parse( text );\n\n\t\tconst metadata = json.metadata;\n\n\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\tthrow new Error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\n\t\t}\n\n\t\treturn await scope.parseAsync( json );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ].data instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tasync parseAsync( json ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = await this.parseImagesAsync( json.images );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: The legacy Geometry type is no longer supported.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( data.type in Geometries ) {\n\n\t\t\t\t\t\t\tgeometry = Geometries[ data.type ].fromJSON( data, shapes );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( `THREE.ObjectLoader: Unsupported geometry type \"${ data.type }\"` );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tasync parseImagesAsync( json ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tasync function deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn await loader.loadAsync( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tloader = new ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = await deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tconst source = images[ data.image ];\n\t\t\t\tconst image = source.data;\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture();\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.source = source;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\tif ( data.userData !== undefined ) texture.userData = data.userData;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, textures, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tfunction getTexture( uuid ) {\n\n\t\t\tif ( textures[ uuid ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined texture', uuid );\n\n\t\t\t}\n\n\t\t\treturn textures[ uuid ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject.background = getTexture( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.environment !== undefined ) {\n\n\t\t\t\t\tobject.environment = getTexture( data.environment );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new InstancedBufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, textures, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.isImageBitmapLoader = true;\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isHemisphereLightProbe = true;\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isAmbientLightProbe = true;\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\nconst _projectionMatrix = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t_projectionMatrix.copy( camera.projectionMatrix );\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( _projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( _projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tdisconnect() {\n\n\t\tsuper.disconnect();\n\n\t\tthis.panner.disconnect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /*@__PURE__*/ /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /*@__PURE__*/ /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /*@__PURE__*/ /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /*@__PURE__*/ /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( matches === null ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( nodeName === undefined || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.targetObject[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.isAnimationObjectGroup = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _controlInterpolantsResultBuffer = /*@__PURE__*/ new Float32Array( 1 );\n\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, _controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.isInstancedInterleavedBuffer = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.isGLBufferAttribute = true;\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = true, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = true, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be between EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox2 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.type = 'SkeletonHelper';\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object.isBone === true ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2' );\n\t\taddLine( 'n2', 'n4' );\n\t\taddLine( 'n4', 'n3' );\n\t\taddLine( 'n3', 'n1' );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2' );\n\t\taddLine( 'f2', 'f4' );\n\t\taddLine( 'f4', 'f3' );\n\t\taddLine( 'f3', 'f1' );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1' );\n\t\taddLine( 'n2', 'f2' );\n\t\taddLine( 'n3', 'f3' );\n\t\taddLine( 'n4', 'f4' );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1' );\n\t\taddLine( 'p', 'n2' );\n\t\taddLine( 'p', 'n3' );\n\t\taddLine( 'p', 'n4' );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2' );\n\t\taddLine( 'u2', 'u3' );\n\t\taddLine( 'u3', 'u1' );\n\n\t\t// target\n\n\t\taddLine( 'c', 't' );\n\t\taddLine( 'p', 'c' );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2' );\n\t\taddLine( 'cn3', 'cn4' );\n\n\t\taddLine( 'cf1', 'cf2' );\n\t\taddLine( 'cf3', 'cf4' );\n\n\t\tfunction addLine( a, b ) {\n\n\t\t\taddPoint( a );\n\t\t\taddPoint( b );\n\n\t\t}\n\n\t\tfunction addPoint( id ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( 0, 0, 0 );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\tthis.setColors( colorFrustum, colorCone, colorUp, colorTarget, colorCross );\n\n\t}\n\n\tsetColors( frustum, cone, up, target, cross ) {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst colorAttribute = geometry.getAttribute( 'color' );\n\n\t\t// near\n\n\t\tcolorAttribute.setXYZ( 0, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 1, frustum.r, frustum.g, frustum.b ); // n1, n2\n\t\tcolorAttribute.setXYZ( 2, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 3, frustum.r, frustum.g, frustum.b ); // n2, n4\n\t\tcolorAttribute.setXYZ( 4, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 5, frustum.r, frustum.g, frustum.b ); // n4, n3\n\t\tcolorAttribute.setXYZ( 6, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 7, frustum.r, frustum.g, frustum.b ); // n3, n1\n\n\t\t// far\n\n\t\tcolorAttribute.setXYZ( 8, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 9, frustum.r, frustum.g, frustum.b ); // f1, f2\n\t\tcolorAttribute.setXYZ( 10, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 11, frustum.r, frustum.g, frustum.b ); // f2, f4\n\t\tcolorAttribute.setXYZ( 12, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 13, frustum.r, frustum.g, frustum.b ); // f4, f3\n\t\tcolorAttribute.setXYZ( 14, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 15, frustum.r, frustum.g, frustum.b ); // f3, f1\n\n\t\t// sides\n\n\t\tcolorAttribute.setXYZ( 16, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 17, frustum.r, frustum.g, frustum.b ); // n1, f1\n\t\tcolorAttribute.setXYZ( 18, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 19, frustum.r, frustum.g, frustum.b ); // n2, f2\n\t\tcolorAttribute.setXYZ( 20, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 21, frustum.r, frustum.g, frustum.b ); // n3, f3\n\t\tcolorAttribute.setXYZ( 22, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 23, frustum.r, frustum.g, frustum.b ); // n4, f4\n\n\t\t// cone\n\n\t\tcolorAttribute.setXYZ( 24, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 25, cone.r, cone.g, cone.b ); // p, n1\n\t\tcolorAttribute.setXYZ( 26, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 27, cone.r, cone.g, cone.b ); // p, n2\n\t\tcolorAttribute.setXYZ( 28, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 29, cone.r, cone.g, cone.b ); // p, n3\n\t\tcolorAttribute.setXYZ( 30, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 31, cone.r, cone.g, cone.b ); // p, n4\n\n\t\t// up\n\n\t\tcolorAttribute.setXYZ( 32, up.r, up.g, up.b ); colorAttribute.setXYZ( 33, up.r, up.g, up.b ); // u1, u2\n\t\tcolorAttribute.setXYZ( 34, up.r, up.g, up.b ); colorAttribute.setXYZ( 35, up.r, up.g, up.b ); // u2, u3\n\t\tcolorAttribute.setXYZ( 36, up.r, up.g, up.b ); colorAttribute.setXYZ( 37, up.r, up.g, up.b ); // u3, u1\n\n\t\t// target\n\n\t\tcolorAttribute.setXYZ( 38, target.r, target.g, target.b ); colorAttribute.setXYZ( 39, target.r, target.g, target.b ); // c, t\n\t\tcolorAttribute.setXYZ( 40, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 41, cross.r, cross.g, cross.b ); // p, c\n\n\t\t// cross\n\n\t\tcolorAttribute.setXYZ( 42, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 43, cross.r, cross.g, cross.b ); // cn1, cn2\n\t\tcolorAttribute.setXYZ( 44, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 45, cross.r, cross.g, cross.b ); // cn3, cn4\n\n\t\tcolorAttribute.setXYZ( 46, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 47, cross.r, cross.g, cross.b ); // cf1, cf2\n\t\tcolorAttribute.setXYZ( 48, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 49, cross.r, cross.g, cross.b ); // cf3, cf4\n\n\t\tcolorAttribute.needsUpdate = true;\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tsetColors( xAxisColor, yAxisColor, zAxisColor ) {\n\n\t\tconst color = new Color();\n\t\tconst array = this.geometry.attributes.color.array;\n\n\t\tcolor.set( xAxisColor );\n\t\tcolor.toArray( array, 0 );\n\t\tcolor.toArray( array, 3 );\n\n\t\tcolor.set( yAxisColor );\n\t\tcolor.toArray( array, 6 );\n\t\tcolor.toArray( array, 9 );\n\n\t\tcolor.set( zAxisColor );\n\t\tcolor.toArray( array, 12 );\n\t\tcolor.toArray( array, 15 );\n\n\t\tthis.geometry.attributes.color.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tlet toChange = 0;\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange ++;\n\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( toChange > 0 && ambiguous === false ) {\n\n\t\t\t\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\n// Fast Half Float Conversions, http://www.fox-toolkit.org/ftp/fasthalffloatconversion.pdf\n\nconst {\n\tfloatView: _floatView,\n\tuint32View: _uint32View,\n\tbaseTable: _baseTable,\n\tshiftTable: _shiftTable,\n\tmantissaTable: _mantissaTable,\n\texponentTable: _exponentTable,\n\toffsetTable: _offsetTable\n} = /*@__PURE__*/ _generateTables();\n\nfunction _generateTables() {\n\n\t// float32 to float16 helpers\n\n\tconst buffer = new ArrayBuffer( 4 );\n\tconst floatView = new Float32Array( buffer );\n\tconst uint32View = new Uint32Array( buffer );\n\n\tconst baseTable = new Uint32Array( 512 );\n\tconst shiftTable = new Uint32Array( 512 );\n\n\tfor ( let i = 0; i < 256; ++ i ) {\n\n\t\tconst e = i - 127;\n\n\t\t// very small number (0, -0)\n\n\t\tif ( e < - 27 ) {\n\n\t\t\tbaseTable[ i ] = 0x0000;\n\t\t\tbaseTable[ i | 0x100 ] = 0x8000;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// small number (denorm)\n\n\t\t} else if ( e < - 14 ) {\n\n\t\t\tbaseTable[ i ] = 0x0400 >> ( - e - 14 );\n\t\t\tbaseTable[ i | 0x100 ] = ( 0x0400 >> ( - e - 14 ) ) | 0x8000;\n\t\t\tshiftTable[ i ] = - e - 1;\n\t\t\tshiftTable[ i | 0x100 ] = - e - 1;\n\n\t\t\t// normal number\n\n\t\t} else if ( e <= 15 ) {\n\n\t\t\tbaseTable[ i ] = ( e + 15 ) << 10;\n\t\t\tbaseTable[ i | 0x100 ] = ( ( e + 15 ) << 10 ) | 0x8000;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t\t// large number (Infinity, -Infinity)\n\n\t\t} else if ( e < 128 ) {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// stay (NaN, Infinity, -Infinity)\n\n\t\t} else {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t}\n\n\t}\n\n\t// float16 to float32 helpers\n\n\tconst mantissaTable = new Uint32Array( 2048 );\n\tconst exponentTable = new Uint32Array( 64 );\n\tconst offsetTable = new Uint32Array( 64 );\n\n\tfor ( let i = 1; i < 1024; ++ i ) {\n\n\t\tlet m = i << 13; // zero pad mantissa bits\n\t\tlet e = 0; // zero exponent\n\n\t\t// normalized\n\t\twhile ( ( m & 0x00800000 ) === 0 ) {\n\n\t\t\tm <<= 1;\n\t\t\te -= 0x00800000; // decrement exponent\n\n\t\t}\n\n\t\tm &= ~ 0x00800000; // clear leading 1 bit\n\t\te += 0x38800000; // adjust bias\n\n\t\tmantissaTable[ i ] = m | e;\n\n\t}\n\n\tfor ( let i = 1024; i < 2048; ++ i ) {\n\n\t\tmantissaTable[ i ] = 0x38000000 + ( ( i - 1024 ) << 13 );\n\n\t}\n\n\tfor ( let i = 1; i < 31; ++ i ) {\n\n\t\texponentTable[ i ] = i << 23;\n\n\t}\n\n\texponentTable[ 31 ] = 0x47800000;\n\texponentTable[ 32 ] = 0x80000000;\n\n\tfor ( let i = 33; i < 63; ++ i ) {\n\n\t\texponentTable[ i ] = 0x80000000 + ( ( i - 32 ) << 23 );\n\n\t}\n\n\texponentTable[ 63 ] = 0xc7800000;\n\n\tfor ( let i = 1; i < 64; ++ i ) {\n\n\t\tif ( i !== 32 ) {\n\n\t\t\toffsetTable[ i ] = 1024;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tfloatView: floatView,\n\t\tuint32View: uint32View,\n\t\tbaseTable: baseTable,\n\t\tshiftTable: shiftTable,\n\t\tmantissaTable: mantissaTable,\n\t\texponentTable: exponentTable,\n\t\toffsetTable: offsetTable,\n\t};\n\n}\n\n// float32 to float16\n\nfunction toHalfFloat( val ) {\n\n\tif ( Math.abs( val ) > 65504 ) console.warn( 'THREE.DataUtils.toHalfFloat(): Value out of range.' );\n\n\tval = clamp( val, - 65504, 65504 );\n\n\t_floatView[ 0 ] = val;\n\tconst f = _uint32View[ 0 ];\n\tconst e = ( f >> 23 ) & 0x1ff;\n\treturn _baseTable[ e ] + ( ( f & 0x007fffff ) >> _shiftTable[ e ] );\n\n}\n\n// float16 to float32\n\nfunction fromHalfFloat( val ) {\n\n\tconst m = val >> 10;\n\t_uint32View[ 0 ] = _mantissaTable[ _offsetTable[ m ] + ( val & 0x3ff ) ] + _exponentTable[ m ];\n\treturn _floatView[ 0 ];\n\n}\n\nvar DataUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\ttoHalfFloat: toHalfFloat,\n\tfromHalfFloat: fromHalfFloat\n});\n\n// r133, c5bb5434555a3c3ddd784944a0a124f996fc721b\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tconsole.error( 'THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js' );\n\t\tsuper();\n\n\t}\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nclass TextGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tconsole.error( 'THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js' );\n\t\tsuper();\n\n\t}\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nfunction FontLoader() {\n\n\tconsole.error( 'THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js' );\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nfunction Font() {\n\n\tconsole.error( 'THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js' );\n\n}\n\n// r134, d65e0af06644fe5a84a6fc0e372f4318f95a04c0\n\nfunction ImmediateRenderObject() {\n\n\tconsole.error( 'THREE.ImmediateRenderObject has been removed.' );\n\n}\n\n// r138, 48b05d3500acc084df50be9b4c90781ad9b8cb17\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tconsole.error( 'THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the \"samples\" property to greater 0 to enable multisampling.' );\n\t\tsuper( width, height, options );\n\t\tthis.samples = 4;\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture2DArray extends DataArrayTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture2DArray has been renamed to DataArrayTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture3D extends Data3DTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture3D has been renamed to Data3DTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, BackSide, BasicDepthPacking, BasicShadowMap, Bone, BooleanKeyframeTrack, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasTexture, CapsuleGeometry as CapsuleBufferGeometry, CapsuleGeometry, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, ColorManagement, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, Data3DTexture, DataArrayTexture, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FileLoader, FlatShading, Float16BufferAttribute, Float32BufferAttribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FramebufferTexture, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16BufferAttribute, Int32BufferAttribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LineSegments, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearSRGBColorSpace, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColorSpace, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBFormat, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGBColorSpace, Scene, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Source, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16BufferAttribute, Uint32BufferAttribute, Uint8BufferAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, VideoTexture, WebGL1Renderer, WebGL3DRenderTarget, WebGLArrayRenderTarget, WebGLCubeRenderTarget, WebGLMultipleRenderTargets, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderer, WebGLUtils, WireframeGeometry, WrapAroundEnding, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, _SRGBAFormat, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","/*!\nfflate - fast JavaScript compression/decompression\n<https://101arrowz.github.io/fflate>\nLicensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE\nversion 0.6.9\n*/\n\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar durl = function (c) { return URL.createObjectURL(new Blob([c], { type: 'text/javascript' })); };\nvar cwk = function (u) { return new Worker(u); };\ntry {\n    URL.revokeObjectURL(durl(''));\n}\ncatch (e) {\n    // We're in Deno or a very old browser\n    durl = function (c) { return 'data:application/javascript;charset=UTF-8,' + encodeURI(c); };\n    // If Deno, this is necessary; if not, this changes nothing\n    cwk = function (u) { return new Worker(u, { type: 'module' }); };\n}\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = cwk(ch2[id] || (ch2[id] = durl(c)));\n    w.onerror = function (e) { return cb(e.error, null); };\n    w.onmessage = function (e) { return cb(null, e.data); };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) | 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    if (!sl || (st && !st.l && sl < 5))\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts) {\n                if (noSt)\n                    throw 'unexpected EOF';\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    throw 'unexpected EOF';\n                break;\n            }\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [et, 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            // deopt when i > s - 3 - at end, deopt acceptable\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst && pos & 7)\n            pos = wfblk(w, pos + 1, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new u32(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (t)\n            throw 'stream finished';\n        if (!strm.ondata)\n            throw 'no stream handler';\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        throw 'invalid gzip data';\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return ((d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) | (d[l - 1] << 24)) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = this.p.length > 3 ? gzs(this.p) : 4;\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                throw 'invalid gzip stream';\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                throw 'invalid zlib stream';\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no stream handler';\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k;\n        if (val instanceof u8)\n            t[n] = [val, o];\n        else if (Array.isArray(val))\n            t[n] = [val[0], mrg(o, val[1])];\n        else\n            fltn(val, n + '/', t, o);\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return [r, slc(d, i - 1)];\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback';\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    throw 'invalid utf-8 data';\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            throw 'stream finished';\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), ch = _a[0], np = _a[1];\n        if (final) {\n            if (np.length)\n                throw 'invalid utf-8 data';\n            this.p = null;\n        }\n        else\n            this.p = np;\n        this.ondata(ch, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback';\n        if (this.d)\n            throw 'stream finished';\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td)\n        return td.decode(dat);\n    else {\n        var _a = dutf8(dat), out = _a[0], ext = _a[1];\n        if (ext.length)\n            throw 'invalid utf-8 data';\n        return out;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                throw 'extra field too long';\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c == null && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        throw 'date not in range 1980-2099';\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1)), b += 4;\n    if (c != null) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback - add to ZIP archive before pushing';\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (this.d & 2)\n            throw 'stream finished';\n        var f = strToU8(file.filename), fl = f.length;\n        var com = file.comment, o = com && strToU8(com);\n        var u = fl != file.filename.length || (o && (com.length != o.length));\n        var hl = fl + exfl(file.extra) + 30;\n        if (fl > 65535)\n            throw 'filename too long';\n        var header = new u8(hl);\n        wzh(header, 0, file, f, u);\n        var chks = [header];\n        var pAll = function () {\n            for (var _i = 0, chks_1 = chks; _i < chks_1.length; _i++) {\n                var chk = chks_1[_i];\n                _this_1.ondata(null, chk, false);\n            }\n            chks = [];\n        };\n        var tr = this.d;\n        this.d = 0;\n        var ind = this.u.length;\n        var uf = mrg(file, {\n            f: f,\n            u: u,\n            o: o,\n            t: function () {\n                if (file.terminate)\n                    file.terminate();\n            },\n            r: function () {\n                pAll();\n                if (tr) {\n                    var nxt = _this_1.u[ind + 1];\n                    if (nxt)\n                        nxt.r();\n                    else\n                        _this_1.d = 1;\n                }\n                tr = 1;\n            }\n        });\n        var cl = 0;\n        file.ondata = function (err, dat, final) {\n            if (err) {\n                _this_1.ondata(err, dat, final);\n                _this_1.terminate();\n            }\n            else {\n                cl += dat.length;\n                chks.push(dat);\n                if (final) {\n                    var dd = new u8(16);\n                    wbytes(dd, 0, 0x8074B50);\n                    wbytes(dd, 4, file.crc);\n                    wbytes(dd, 8, cl);\n                    wbytes(dd, 12, file.size);\n                    chks.push(dd);\n                    uf.c = cl, uf.b = hl + cl + 16, uf.crc = file.crc, uf.size = file.size;\n                    if (tr)\n                        uf.r();\n                    tr = 1;\n                }\n                else if (tr)\n                    pAll();\n            }\n        };\n        this.u.push(uf);\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            if (this.d & 1)\n                throw 'stream finishing';\n            throw 'stream finished';\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, f.c, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cb(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cb(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl('filename too long', null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            throw 'filename too long';\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, data, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (!this.onfile)\n            throw 'no callback';\n        if (!this.p)\n            throw 'stream finished';\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_2 = [];\n                        this_1.k.unshift(chks_2);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    throw 'no callback';\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        throw 'unknown compression type ' + cmp_1;\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_3 = chks_2; _i < chks_3.length; _i++) {\n                                        var dat = chks_3[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_2 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                throw 'invalid zip file';\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\nexport function unzip(data, cb) {\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cb('invalid zip file', null);\n            return;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (!lft)\n        cb(null, {});\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50) {\n            cb('invalid zip file', null);\n            return;\n        }\n        c = lft = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var _loop_3 = function (i) {\n        var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                files[fn] = d;\n                if (!--lft)\n                    cb(null, files);\n            }\n        };\n        if (!c_1)\n            cbl(null, slc(data, b, b + sc));\n        else if (c_1 == 8) {\n            var infl = data.subarray(b, b + sc);\n            if (sc < 320000) {\n                try {\n                    cbl(null, inflateSync(infl, new u8(su)));\n                }\n                catch (e) {\n                    cbl(e, null);\n                }\n            }\n            else\n                term.push(inflate(infl, { size: su }, cbl));\n        }\n        else\n            cbl('unknown compression type ' + c_1, null);\n    };\n    for (var i = 0; i < c; ++i) {\n        _loop_3(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\nexport function unzipSync(data) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            throw 'invalid zip file';\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!c_2)\n            files[fn] = slc(data, b, b + sc);\n        else if (c_2 == 8)\n            files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n        else\n            throw 'unknown compression type ' + c_2;\n    }\n    return files;\n}\n","import {\n\tVector3,\n\tVector4\n} from 'three';\n\n/**\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n **/\n\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\n/*\nFinds knot vector span.\n\np : degree\nu : parametric value\nU : knot vector\n\nreturns the span\n*/\nfunction findSpan( p, u, U ) {\n\n\tconst n = U.length - p - 1;\n\n\tif ( u >= U[ n ] ) {\n\n\t\treturn n - 1;\n\n\t}\n\n\tif ( u <= U[ p ] ) {\n\n\t\treturn p;\n\n\t}\n\n\tlet low = p;\n\tlet high = n;\n\tlet mid = Math.floor( ( low + high ) / 2 );\n\n\twhile ( u < U[ mid ] || u >= U[ mid + 1 ] ) {\n\n\t\tif ( u < U[ mid ] ) {\n\n\t\t\thigh = mid;\n\n\t\t} else {\n\n\t\t\tlow = mid;\n\n\t\t}\n\n\t\tmid = Math.floor( ( low + high ) / 2 );\n\n\t}\n\n\treturn mid;\n\n}\n\n\n/*\nCalculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nU    : knot vector\n\nreturns array[p+1] with basis functions values.\n*/\nfunction calcBasisFunctions( span, u, p, U ) {\n\n\tconst N = [];\n\tconst left = [];\n\tconst right = [];\n\tN[ 0 ] = 1.0;\n\n\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\tright[ j ] = U[ span + j ] - u;\n\n\t\tlet saved = 0.0;\n\n\t\tfor ( let r = 0; r < j; ++ r ) {\n\n\t\t\tconst rv = right[ r + 1 ];\n\t\t\tconst lv = left[ j - r ];\n\t\t\tconst temp = N[ r ] / ( rv + lv );\n\t\t\tN[ r ] = saved + rv * temp;\n\t\t\tsaved = lv * temp;\n\n\t\t}\n\n\t\tN[ j ] = saved;\n\n\t}\n\n\treturn N;\n\n}\n\n\n/*\nCalculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n\np : degree of B-Spline\nU : knot vector\nP : control points (x, y, z, w)\nu : parametric point\n\nreturns point for given u\n*/\nfunction calcBSplinePoint( p, U, P, u ) {\n\n\tconst span = findSpan( p, u, U );\n\tconst N = calcBasisFunctions( span, u, p, U );\n\tconst C = new Vector4( 0, 0, 0, 0 );\n\n\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\tconst point = P[ span - p + j ];\n\t\tconst Nj = N[ j ];\n\t\tconst wNj = point.w * Nj;\n\t\tC.x += point.x * wNj;\n\t\tC.y += point.y * wNj;\n\t\tC.z += point.z * wNj;\n\t\tC.w += point.w * Nj;\n\n\t}\n\n\treturn C;\n\n}\n\n\n/*\nCalculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nn    : number of derivatives to calculate\nU    : knot vector\n\nreturns array[n+1][p+1] with basis functions derivatives\n*/\nfunction calcBasisFunctionDerivatives( span, u, p, n, U ) {\n\n\tconst zeroArr = [];\n\tfor ( let i = 0; i <= p; ++ i )\n\t\tzeroArr[ i ] = 0.0;\n\n\tconst ders = [];\n\n\tfor ( let i = 0; i <= n; ++ i )\n\t\tders[ i ] = zeroArr.slice( 0 );\n\n\tconst ndu = [];\n\n\tfor ( let i = 0; i <= p; ++ i )\n\t\tndu[ i ] = zeroArr.slice( 0 );\n\n\tndu[ 0 ][ 0 ] = 1.0;\n\n\tconst left = zeroArr.slice( 0 );\n\tconst right = zeroArr.slice( 0 );\n\n\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\tright[ j ] = U[ span + j ] - u;\n\n\t\tlet saved = 0.0;\n\n\t\tfor ( let r = 0; r < j; ++ r ) {\n\n\t\t\tconst rv = right[ r + 1 ];\n\t\t\tconst lv = left[ j - r ];\n\t\t\tndu[ j ][ r ] = rv + lv;\n\n\t\t\tconst temp = ndu[ r ][ j - 1 ] / ndu[ j ][ r ];\n\t\t\tndu[ r ][ j ] = saved + rv * temp;\n\t\t\tsaved = lv * temp;\n\n\t\t}\n\n\t\tndu[ j ][ j ] = saved;\n\n\t}\n\n\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\tders[ 0 ][ j ] = ndu[ j ][ p ];\n\n\t}\n\n\tfor ( let r = 0; r <= p; ++ r ) {\n\n\t\tlet s1 = 0;\n\t\tlet s2 = 1;\n\n\t\tconst a = [];\n\t\tfor ( let i = 0; i <= p; ++ i ) {\n\n\t\t\ta[ i ] = zeroArr.slice( 0 );\n\n\t\t}\n\n\t\ta[ 0 ][ 0 ] = 1.0;\n\n\t\tfor ( let k = 1; k <= n; ++ k ) {\n\n\t\t\tlet d = 0.0;\n\t\t\tconst rk = r - k;\n\t\t\tconst pk = p - k;\n\n\t\t\tif ( r >= k ) {\n\n\t\t\t\ta[ s2 ][ 0 ] = a[ s1 ][ 0 ] / ndu[ pk + 1 ][ rk ];\n\t\t\t\td = a[ s2 ][ 0 ] * ndu[ rk ][ pk ];\n\n\t\t\t}\n\n\t\t\tconst j1 = ( rk >= - 1 ) ? 1 : - rk;\n\t\t\tconst j2 = ( r - 1 <= pk ) ? k - 1 : p - r;\n\n\t\t\tfor ( let j = j1; j <= j2; ++ j ) {\n\n\t\t\t\ta[ s2 ][ j ] = ( a[ s1 ][ j ] - a[ s1 ][ j - 1 ] ) / ndu[ pk + 1 ][ rk + j ];\n\t\t\t\td += a[ s2 ][ j ] * ndu[ rk + j ][ pk ];\n\n\t\t\t}\n\n\t\t\tif ( r <= pk ) {\n\n\t\t\t\ta[ s2 ][ k ] = - a[ s1 ][ k - 1 ] / ndu[ pk + 1 ][ r ];\n\t\t\t\td += a[ s2 ][ k ] * ndu[ r ][ pk ];\n\n\t\t\t}\n\n\t\t\tders[ k ][ r ] = d;\n\n\t\t\tconst j = s1;\n\t\t\ts1 = s2;\n\t\t\ts2 = j;\n\n\t\t}\n\n\t}\n\n\tlet r = p;\n\n\tfor ( let k = 1; k <= n; ++ k ) {\n\n\t\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\t\tders[ k ][ j ] *= r;\n\n\t\t}\n\n\t\tr *= p - k;\n\n\t}\n\n\treturn ders;\n\n}\n\n\n/*\n\tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n\n\tp  : degree\n\tU  : knot vector\n\tP  : control points\n\tu  : Parametric points\n\tnd : number of derivatives\n\n\treturns array[d+1] with derivatives\n\t*/\nfunction calcBSplineDerivatives( p, U, P, u, nd ) {\n\n\tconst du = nd < p ? nd : p;\n\tconst CK = [];\n\tconst span = findSpan( p, u, U );\n\tconst nders = calcBasisFunctionDerivatives( span, u, p, du, U );\n\tconst Pw = [];\n\n\tfor ( let i = 0; i < P.length; ++ i ) {\n\n\t\tconst point = P[ i ].clone();\n\t\tconst w = point.w;\n\n\t\tpoint.x *= w;\n\t\tpoint.y *= w;\n\t\tpoint.z *= w;\n\n\t\tPw[ i ] = point;\n\n\t}\n\n\tfor ( let k = 0; k <= du; ++ k ) {\n\n\t\tconst point = Pw[ span - p ].clone().multiplyScalar( nders[ k ][ 0 ] );\n\n\t\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\t\tpoint.add( Pw[ span - p + j ].clone().multiplyScalar( nders[ k ][ j ] ) );\n\n\t\t}\n\n\t\tCK[ k ] = point;\n\n\t}\n\n\tfor ( let k = du + 1; k <= nd + 1; ++ k ) {\n\n\t\tCK[ k ] = new Vector4( 0, 0, 0 );\n\n\t}\n\n\treturn CK;\n\n}\n\n\n/*\nCalculate \"K over I\"\n\nreturns k!/(i!(k-i)!)\n*/\nfunction calcKoverI( k, i ) {\n\n\tlet nom = 1;\n\n\tfor ( let j = 2; j <= k; ++ j ) {\n\n\t\tnom *= j;\n\n\t}\n\n\tlet denom = 1;\n\n\tfor ( let j = 2; j <= i; ++ j ) {\n\n\t\tdenom *= j;\n\n\t}\n\n\tfor ( let j = 2; j <= k - i; ++ j ) {\n\n\t\tdenom *= j;\n\n\t}\n\n\treturn nom / denom;\n\n}\n\n\n/*\nCalculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n\nPders : result of function calcBSplineDerivatives\n\nreturns array with derivatives for rational curve.\n*/\nfunction calcRationalCurveDerivatives( Pders ) {\n\n\tconst nd = Pders.length;\n\tconst Aders = [];\n\tconst wders = [];\n\n\tfor ( let i = 0; i < nd; ++ i ) {\n\n\t\tconst point = Pders[ i ];\n\t\tAders[ i ] = new Vector3( point.x, point.y, point.z );\n\t\twders[ i ] = point.w;\n\n\t}\n\n\tconst CK = [];\n\n\tfor ( let k = 0; k < nd; ++ k ) {\n\n\t\tconst v = Aders[ k ].clone();\n\n\t\tfor ( let i = 1; i <= k; ++ i ) {\n\n\t\t\tv.sub( CK[ k - i ].clone().multiplyScalar( calcKoverI( k, i ) * wders[ i ] ) );\n\n\t\t}\n\n\t\tCK[ k ] = v.divideScalar( wders[ 0 ] );\n\n\t}\n\n\treturn CK;\n\n}\n\n\n/*\nCalculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n\np  : degree\nU  : knot vector\nP  : control points in homogeneous space\nu  : parametric points\nnd : number of derivatives\n\nreturns array with derivatives.\n*/\nfunction calcNURBSDerivatives( p, U, P, u, nd ) {\n\n\tconst Pders = calcBSplineDerivatives( p, U, P, u, nd );\n\treturn calcRationalCurveDerivatives( Pders );\n\n}\n\n\n/*\nCalculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n\np1, p2 : degrees of B-Spline surface\nU1, U2 : knot vectors\nP      : control points (x, y, z, w)\nu, v   : parametric values\n\nreturns point for given (u, v)\n*/\nfunction calcSurfacePoint( p, q, U, V, P, u, v, target ) {\n\n\tconst uspan = findSpan( p, u, U );\n\tconst vspan = findSpan( q, v, V );\n\tconst Nu = calcBasisFunctions( uspan, u, p, U );\n\tconst Nv = calcBasisFunctions( vspan, v, q, V );\n\tconst temp = [];\n\n\tfor ( let l = 0; l <= q; ++ l ) {\n\n\t\ttemp[ l ] = new Vector4( 0, 0, 0, 0 );\n\t\tfor ( let k = 0; k <= p; ++ k ) {\n\n\t\t\tconst point = P[ uspan - p + k ][ vspan - q + l ].clone();\n\t\t\tconst w = point.w;\n\t\t\tpoint.x *= w;\n\t\t\tpoint.y *= w;\n\t\t\tpoint.z *= w;\n\t\t\ttemp[ l ].add( point.multiplyScalar( Nu[ k ] ) );\n\n\t\t}\n\n\t}\n\n\tconst Sw = new Vector4( 0, 0, 0, 0 );\n\tfor ( let l = 0; l <= q; ++ l ) {\n\n\t\tSw.add( temp[ l ].multiplyScalar( Nv[ l ] ) );\n\n\t}\n\n\tSw.divideScalar( Sw.w );\n\ttarget.set( Sw.x, Sw.y, Sw.z );\n\n}\n\n\n\nexport {\n\tfindSpan,\n\tcalcBasisFunctions,\n\tcalcBSplinePoint,\n\tcalcBasisFunctionDerivatives,\n\tcalcBSplineDerivatives,\n\tcalcKoverI,\n\tcalcRationalCurveDerivatives,\n\tcalcNURBSDerivatives,\n\tcalcSurfacePoint,\n};\n","import {\n\tCurve,\n\tVector3,\n\tVector4\n} from 'three';\nimport * as NURBSUtils from '../curves/NURBSUtils.js';\n\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nclass NURBSCurve extends Curve {\n\n\tconstructor(\n\t\tdegree,\n\t\tknots /* array of reals */,\n\t\tcontrolPoints /* array of Vector(2|3|4) */,\n\t\tstartKnot /* index in knots */,\n\t\tendKnot /* index in knots */\n\t) {\n\n\t\tsuper();\n\n\t\tthis.degree = degree;\n\t\tthis.knots = knots;\n\t\tthis.controlPoints = [];\n\t\t// Used by periodic NURBS to remove hidden spans\n\t\tthis.startKnot = startKnot || 0;\n\t\tthis.endKnot = endKnot || ( this.knots.length - 1 );\n\n\t\tfor ( let i = 0; i < controlPoints.length; ++ i ) {\n\n\t\t\t// ensure Vector4 for control points\n\t\t\tconst point = controlPoints[ i ];\n\t\t\tthis.controlPoints[ i ] = new Vector4( point.x, point.y, point.z, point.w );\n\n\t\t}\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst u = this.knots[ this.startKnot ] + t * ( this.knots[ this.endKnot ] - this.knots[ this.startKnot ] ); // linear mapping t->u\n\n\t\t// following results in (wx, wy, wz, w) homogeneous point\n\t\tconst hpoint = NURBSUtils.calcBSplinePoint( this.degree, this.knots, this.controlPoints, u );\n\n\t\tif ( hpoint.w !== 1.0 ) {\n\n\t\t\t// project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n\t\t\thpoint.divideScalar( hpoint.w );\n\n\t\t}\n\n\t\treturn point.set( hpoint.x, hpoint.y, hpoint.z );\n\n\t}\n\n\tgetTangent( t, optionalTarget = new Vector3() ) {\n\n\t\tconst tangent = optionalTarget;\n\n\t\tconst u = this.knots[ 0 ] + t * ( this.knots[ this.knots.length - 1 ] - this.knots[ 0 ] );\n\t\tconst ders = NURBSUtils.calcNURBSDerivatives( this.degree, this.knots, this.controlPoints, u, 1 );\n\t\ttangent.copy( ders[ 1 ] ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n}\n\nexport { NURBSCurve };\n","import {\n\tAmbientLight,\n\tAnimationClip,\n\tBone,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tEquirectangularReflectionMapping,\n\tEuler,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLine,\n\tLineBasicMaterial,\n\tLoader,\n\tLoaderUtils,\n\tMathUtils,\n\tMatrix3,\n\tMatrix4,\n\tMesh,\n\tMeshLambertMaterial,\n\tMeshPhongMaterial,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSpotLight,\n\tTexture,\n\tTextureLoader,\n\tUint16BufferAttribute,\n\tVector3,\n\tVector4,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\nimport * as fflate from '../libs/fflate.module.js';\nimport { NURBSCurve } from '../curves/NURBSCurve.js';\n\n/**\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * Binary format specification:\n *\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\n\nlet fbxTree;\nlet connections;\nlet sceneGraph;\n\nclass FBXLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( buffer, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( FBXBuffer, path ) {\n\n\t\tif ( isFbxFormatBinary( FBXBuffer ) ) {\n\n\t\t\tfbxTree = new BinaryParser().parse( FBXBuffer );\n\n\t\t} else {\n\n\t\t\tconst FBXText = convertArrayBufferToString( FBXBuffer );\n\n\t\t\tif ( ! isFbxFormatASCII( FBXText ) ) {\n\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown format.' );\n\n\t\t\t}\n\n\t\t\tif ( getFbxVersion( FBXText ) < 7000 ) {\n\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion( FBXText ) );\n\n\t\t\t}\n\n\t\t\tfbxTree = new TextParser().parse( FBXText );\n\n\t\t}\n\n\t\t// console.log( fbxTree );\n\n\t\tconst textureLoader = new TextureLoader( this.manager ).setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\treturn new FBXTreeParser( textureLoader, this.manager ).parse( fbxTree );\n\n\t}\n\n}\n\n// Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\nclass FBXTreeParser {\n\n\tconstructor( textureLoader, manager ) {\n\n\t\tthis.textureLoader = textureLoader;\n\t\tthis.manager = manager;\n\n\t}\n\n\tparse() {\n\n\t\tconnections = this.parseConnections();\n\n\t\tconst images = this.parseImages();\n\t\tconst textures = this.parseTextures( images );\n\t\tconst materials = this.parseMaterials( textures );\n\t\tconst deformers = this.parseDeformers();\n\t\tconst geometryMap = new GeometryParser().parse( deformers );\n\n\t\tthis.parseScene( deformers, geometryMap, materials );\n\n\t\treturn sceneGraph;\n\n\t}\n\n\t// Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n\t// and details the connection type\n\tparseConnections() {\n\n\t\tconst connectionMap = new Map();\n\n\t\tif ( 'Connections' in fbxTree ) {\n\n\t\t\tconst rawConnections = fbxTree.Connections.connections;\n\n\t\t\trawConnections.forEach( function ( rawConnection ) {\n\n\t\t\t\tconst fromID = rawConnection[ 0 ];\n\t\t\t\tconst toID = rawConnection[ 1 ];\n\t\t\t\tconst relationship = rawConnection[ 2 ];\n\n\t\t\t\tif ( ! connectionMap.has( fromID ) ) {\n\n\t\t\t\t\tconnectionMap.set( fromID, {\n\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tconst parentRelationship = { ID: toID, relationship: relationship };\n\t\t\t\tconnectionMap.get( fromID ).parents.push( parentRelationship );\n\n\t\t\t\tif ( ! connectionMap.has( toID ) ) {\n\n\t\t\t\t\tconnectionMap.set( toID, {\n\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tconst childRelationship = { ID: fromID, relationship: relationship };\n\t\t\t\tconnectionMap.get( toID ).children.push( childRelationship );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn connectionMap;\n\n\t}\n\n\t// Parse FBXTree.Objects.Video for embedded image data\n\t// These images are connected to textures in FBXTree.Objects.Textures\n\t// via FBXTree.Connections.\n\tparseImages() {\n\n\t\tconst images = {};\n\t\tconst blobs = {};\n\n\t\tif ( 'Video' in fbxTree.Objects ) {\n\n\t\t\tconst videoNodes = fbxTree.Objects.Video;\n\n\t\t\tfor ( const nodeID in videoNodes ) {\n\n\t\t\t\tconst videoNode = videoNodes[ nodeID ];\n\n\t\t\t\tconst id = parseInt( nodeID );\n\n\t\t\t\timages[ id ] = videoNode.RelativeFilename || videoNode.Filename;\n\n\t\t\t\t// raw image data is in videoNode.Content\n\t\t\t\tif ( 'Content' in videoNode ) {\n\n\t\t\t\t\tconst arrayBufferContent = ( videoNode.Content instanceof ArrayBuffer ) && ( videoNode.Content.byteLength > 0 );\n\t\t\t\t\tconst base64Content = ( typeof videoNode.Content === 'string' ) && ( videoNode.Content !== '' );\n\n\t\t\t\t\tif ( arrayBufferContent || base64Content ) {\n\n\t\t\t\t\t\tconst image = this.parseImage( videoNodes[ nodeID ] );\n\n\t\t\t\t\t\tblobs[ videoNode.RelativeFilename || videoNode.Filename ] = image;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( const id in images ) {\n\n\t\t\tconst filename = images[ id ];\n\n\t\t\tif ( blobs[ filename ] !== undefined ) images[ id ] = blobs[ filename ];\n\t\t\telse images[ id ] = images[ id ].split( '\\\\' ).pop();\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\t// Parse embedded image data in FBXTree.Video.Content\n\tparseImage( videoNode ) {\n\n\t\tconst content = videoNode.Content;\n\t\tconst fileName = videoNode.RelativeFilename || videoNode.Filename;\n\t\tconst extension = fileName.slice( fileName.lastIndexOf( '.' ) + 1 ).toLowerCase();\n\n\t\tlet type;\n\n\t\tswitch ( extension ) {\n\n\t\t\tcase 'bmp':\n\n\t\t\t\ttype = 'image/bmp';\n\t\t\t\tbreak;\n\n\t\t\tcase 'jpg':\n\t\t\tcase 'jpeg':\n\n\t\t\t\ttype = 'image/jpeg';\n\t\t\t\tbreak;\n\n\t\t\tcase 'png':\n\n\t\t\t\ttype = 'image/png';\n\t\t\t\tbreak;\n\n\t\t\tcase 'tif':\n\n\t\t\t\ttype = 'image/tiff';\n\t\t\t\tbreak;\n\n\t\t\tcase 'tga':\n\n\t\t\t\tif ( this.manager.getHandler( '.tga' ) === null ) {\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, skipping ', fileName );\n\n\t\t\t\t}\n\n\t\t\t\ttype = 'image/tga';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'FBXLoader: Image type \"' + extension + '\" is not supported.' );\n\t\t\t\treturn;\n\n\t\t}\n\n\t\tif ( typeof content === 'string' ) { // ASCII format\n\n\t\t\treturn 'data:' + type + ';base64,' + content;\n\n\t\t} else { // Binary Format\n\n\t\t\tconst array = new Uint8Array( content );\n\t\t\treturn window.URL.createObjectURL( new Blob( [ array ], { type: type } ) );\n\n\t\t}\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Texture\n\t// These contain details such as UV scaling, cropping, rotation etc and are connected\n\t// to images in FBXTree.Objects.Video\n\tparseTextures( images ) {\n\n\t\tconst textureMap = new Map();\n\n\t\tif ( 'Texture' in fbxTree.Objects ) {\n\n\t\t\tconst textureNodes = fbxTree.Objects.Texture;\n\t\t\tfor ( const nodeID in textureNodes ) {\n\n\t\t\t\tconst texture = this.parseTexture( textureNodes[ nodeID ], images );\n\t\t\t\ttextureMap.set( parseInt( nodeID ), texture );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textureMap;\n\n\t}\n\n\t// Parse individual node in FBXTree.Objects.Texture\n\tparseTexture( textureNode, images ) {\n\n\t\tconst texture = this.loadTexture( textureNode, images );\n\n\t\ttexture.ID = textureNode.id;\n\n\t\ttexture.name = textureNode.attrName;\n\n\t\tconst wrapModeU = textureNode.WrapModeU;\n\t\tconst wrapModeV = textureNode.WrapModeV;\n\n\t\tconst valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n\t\tconst valueV = wrapModeV !== undefined ? wrapModeV.value : 0;\n\n\t\t// http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n\t\t// 0: repeat(default), 1: clamp\n\n\t\ttexture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\t\ttexture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\tif ( 'Scaling' in textureNode ) {\n\n\t\t\tconst values = textureNode.Scaling.value;\n\n\t\t\ttexture.repeat.x = values[ 0 ];\n\t\t\ttexture.repeat.y = values[ 1 ];\n\n\t\t}\n\n\t\tif ( 'Translation' in textureNode ) {\n\n\t\t\tconst values = textureNode.Translation.value;\n\n\t\t\ttexture.offset.x = values[ 0 ];\n\t\t\ttexture.offset.y = values[ 1 ];\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\t// load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n\tloadTexture( textureNode, images ) {\n\n\t\tlet fileName;\n\n\t\tconst currentPath = this.textureLoader.path;\n\n\t\tconst children = connections.get( textureNode.id ).children;\n\n\t\tif ( children !== undefined && children.length > 0 && images[ children[ 0 ].ID ] !== undefined ) {\n\n\t\t\tfileName = images[ children[ 0 ].ID ];\n\n\t\t\tif ( fileName.indexOf( 'blob:' ) === 0 || fileName.indexOf( 'data:' ) === 0 ) {\n\n\t\t\t\tthis.textureLoader.setPath( undefined );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet texture;\n\n\t\tconst extension = textureNode.FileName.slice( - 3 ).toLowerCase();\n\n\t\tif ( extension === 'tga' ) {\n\n\t\t\tconst loader = this.manager.getHandler( '.tga' );\n\n\t\t\tif ( loader === null ) {\n\n\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\t\ttexture = new Texture();\n\n\t\t\t} else {\n\n\t\t\t\tloader.setPath( this.textureLoader.path );\n\t\t\t\ttexture = loader.load( fileName );\n\n\t\t\t}\n\n\t\t} else if ( extension === 'psd' ) {\n\n\t\t\tconsole.warn( 'FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\ttexture = new Texture();\n\n\t\t} else {\n\n\t\t\ttexture = this.textureLoader.load( fileName );\n\n\t\t}\n\n\t\tthis.textureLoader.setPath( currentPath );\n\n\t\treturn texture;\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Material\n\tparseMaterials( textureMap ) {\n\n\t\tconst materialMap = new Map();\n\n\t\tif ( 'Material' in fbxTree.Objects ) {\n\n\t\t\tconst materialNodes = fbxTree.Objects.Material;\n\n\t\t\tfor ( const nodeID in materialNodes ) {\n\n\t\t\t\tconst material = this.parseMaterial( materialNodes[ nodeID ], textureMap );\n\n\t\t\t\tif ( material !== null ) materialMap.set( parseInt( nodeID ), material );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materialMap;\n\n\t}\n\n\t// Parse single node in FBXTree.Objects.Material\n\t// Materials are connected to texture maps in FBXTree.Objects.Textures\n\t// FBX format currently only supports Lambert and Phong shading models\n\tparseMaterial( materialNode, textureMap ) {\n\n\t\tconst ID = materialNode.id;\n\t\tconst name = materialNode.attrName;\n\t\tlet type = materialNode.ShadingModel;\n\n\t\t// Case where FBX wraps shading model in property object.\n\t\tif ( typeof type === 'object' ) {\n\n\t\t\ttype = type.value;\n\n\t\t}\n\n\t\t// Ignore unused materials which don't have any connections.\n\t\tif ( ! connections.has( ID ) ) return null;\n\n\t\tconst parameters = this.parseParameters( materialNode, textureMap, ID );\n\n\t\tlet material;\n\n\t\tswitch ( type.toLowerCase() ) {\n\n\t\t\tcase 'phong':\n\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\tbreak;\n\t\t\tcase 'lambert':\n\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type );\n\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tmaterial.setValues( parameters );\n\t\tmaterial.name = name;\n\n\t\treturn material;\n\n\t}\n\n\t// Parse FBX material and return parameters suitable for a three.js material\n\t// Also parse the texture map and return any textures associated with the material\n\tparseParameters( materialNode, textureMap, ID ) {\n\n\t\tconst parameters = {};\n\n\t\tif ( materialNode.BumpFactor ) {\n\n\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Diffuse ) {\n\n\t\t\tparameters.color = new Color().fromArray( materialNode.Diffuse.value );\n\n\t\t} else if ( materialNode.DiffuseColor && ( materialNode.DiffuseColor.type === 'Color' || materialNode.DiffuseColor.type === 'ColorRGB' ) ) {\n\n\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\n\t\t\tparameters.color = new Color().fromArray( materialNode.DiffuseColor.value );\n\n\t\t}\n\n\t\tif ( materialNode.DisplacementFactor ) {\n\n\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Emissive ) {\n\n\t\t\tparameters.emissive = new Color().fromArray( materialNode.Emissive.value );\n\n\t\t} else if ( materialNode.EmissiveColor && ( materialNode.EmissiveColor.type === 'Color' || materialNode.EmissiveColor.type === 'ColorRGB' ) ) {\n\n\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\n\t\t\tparameters.emissive = new Color().fromArray( materialNode.EmissiveColor.value );\n\n\t\t}\n\n\t\tif ( materialNode.EmissiveFactor ) {\n\n\t\t\tparameters.emissiveIntensity = parseFloat( materialNode.EmissiveFactor.value );\n\n\t\t}\n\n\t\tif ( materialNode.Opacity ) {\n\n\t\t\tparameters.opacity = parseFloat( materialNode.Opacity.value );\n\n\t\t}\n\n\t\tif ( parameters.opacity < 1.0 ) {\n\n\t\t\tparameters.transparent = true;\n\n\t\t}\n\n\t\tif ( materialNode.ReflectionFactor ) {\n\n\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Shininess ) {\n\n\t\t\tparameters.shininess = materialNode.Shininess.value;\n\n\t\t}\n\n\t\tif ( materialNode.Specular ) {\n\n\t\t\tparameters.specular = new Color().fromArray( materialNode.Specular.value );\n\n\t\t} else if ( materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color' ) {\n\n\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\n\t\t\tparameters.specular = new Color().fromArray( materialNode.SpecularColor.value );\n\n\t\t}\n\n\t\tconst scope = this;\n\t\tconnections.get( ID ).children.forEach( function ( child ) {\n\n\t\t\tconst type = child.relationship;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'Bump':\n\t\t\t\t\tparameters.bumpMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Maya|TEX_ao_map':\n\t\t\t\t\tparameters.aoMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DiffuseColor':\n\t\t\t\tcase 'Maya|TEX_color_map':\n\t\t\t\t\tparameters.map = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.map !== undefined ) {\n\n\t\t\t\t\t\tparameters.map.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DisplacementColor':\n\t\t\t\t\tparameters.displacementMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EmissiveColor':\n\t\t\t\t\tparameters.emissiveMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.emissiveMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NormalMap':\n\t\t\t\tcase 'Maya|TEX_normal_map':\n\t\t\t\t\tparameters.normalMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ReflectionColor':\n\t\t\t\t\tparameters.envMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.envMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.envMap.mapping = EquirectangularReflectionMapping;\n\t\t\t\t\t\tparameters.envMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpecularColor':\n\t\t\t\t\tparameters.specularMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.specularMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.specularMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'TransparentColor':\n\t\t\t\tcase 'TransparencyFactor':\n\t\t\t\t\tparameters.alphaMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tparameters.transparent = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientColor':\n\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\n\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\n\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn parameters;\n\n\t}\n\n\t// get a texture from the textureMap for use by a material.\n\tgetTexture( textureMap, id ) {\n\n\t\t// if the texture is a layered texture, just use the first layer and issue a warning\n\t\tif ( 'LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture ) {\n\n\t\t\tconsole.warn( 'THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.' );\n\t\t\tid = connections.get( id ).children[ 0 ].ID;\n\n\t\t}\n\n\t\treturn textureMap.get( id );\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Deformer\n\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n\t// Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\tparseDeformers() {\n\n\t\tconst skeletons = {};\n\t\tconst morphTargets = {};\n\n\t\tif ( 'Deformer' in fbxTree.Objects ) {\n\n\t\t\tconst DeformerNodes = fbxTree.Objects.Deformer;\n\n\t\t\tfor ( const nodeID in DeformerNodes ) {\n\n\t\t\t\tconst deformerNode = DeformerNodes[ nodeID ];\n\n\t\t\t\tconst relationships = connections.get( parseInt( nodeID ) );\n\n\t\t\t\tif ( deformerNode.attrType === 'Skin' ) {\n\n\t\t\t\t\tconst skeleton = this.parseSkeleton( relationships, DeformerNodes );\n\t\t\t\t\tskeleton.ID = nodeID;\n\n\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: skeleton attached to more than one geometry is not supported.' );\n\t\t\t\t\tskeleton.geometryID = relationships.parents[ 0 ].ID;\n\n\t\t\t\t\tskeletons[ nodeID ] = skeleton;\n\n\t\t\t\t} else if ( deformerNode.attrType === 'BlendShape' ) {\n\n\t\t\t\t\tconst morphTarget = {\n\t\t\t\t\t\tid: nodeID,\n\t\t\t\t\t};\n\n\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets( relationships, DeformerNodes );\n\t\t\t\t\tmorphTarget.id = nodeID;\n\n\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: morph target attached to more than one geometry is not supported.' );\n\n\t\t\t\t\tmorphTargets[ nodeID ] = morphTarget;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\n\t\t\tskeletons: skeletons,\n\t\t\tmorphTargets: morphTargets,\n\n\t\t};\n\n\t}\n\n\t// Parse single nodes in FBXTree.Objects.Deformer\n\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n\t// Each skin node represents a skeleton and each cluster node represents a bone\n\tparseSkeleton( relationships, deformerNodes ) {\n\n\t\tconst rawBones = [];\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst boneNode = deformerNodes[ child.ID ];\n\n\t\t\tif ( boneNode.attrType !== 'Cluster' ) return;\n\n\t\t\tconst rawBone = {\n\n\t\t\t\tID: child.ID,\n\t\t\t\tindices: [],\n\t\t\t\tweights: [],\n\t\t\t\ttransformLink: new Matrix4().fromArray( boneNode.TransformLink.a ),\n\t\t\t\t// transform: new Matrix4().fromArray( boneNode.Transform.a ),\n\t\t\t\t// linkMode: boneNode.Mode,\n\n\t\t\t};\n\n\t\t\tif ( 'Indexes' in boneNode ) {\n\n\t\t\t\trawBone.indices = boneNode.Indexes.a;\n\t\t\t\trawBone.weights = boneNode.Weights.a;\n\n\t\t\t}\n\n\t\t\trawBones.push( rawBone );\n\n\t\t} );\n\n\t\treturn {\n\n\t\t\trawBones: rawBones,\n\t\t\tbones: []\n\n\t\t};\n\n\t}\n\n\t// The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\tparseMorphTargets( relationships, deformerNodes ) {\n\n\t\tconst rawMorphTargets = [];\n\n\t\tfor ( let i = 0; i < relationships.children.length; i ++ ) {\n\n\t\t\tconst child = relationships.children[ i ];\n\n\t\t\tconst morphTargetNode = deformerNodes[ child.ID ];\n\n\t\t\tconst rawMorphTarget = {\n\n\t\t\t\tname: morphTargetNode.attrName,\n\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\n\t\t\t\tid: morphTargetNode.id,\n\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\n\n\t\t\t};\n\n\t\t\tif ( morphTargetNode.attrType !== 'BlendShapeChannel' ) return;\n\n\t\t\trawMorphTarget.geoID = connections.get( parseInt( child.ID ) ).children.filter( function ( child ) {\n\n\t\t\t\treturn child.relationship === undefined;\n\n\t\t\t} )[ 0 ].ID;\n\n\t\t\trawMorphTargets.push( rawMorphTarget );\n\n\t\t}\n\n\t\treturn rawMorphTargets;\n\n\t}\n\n\t// create the main Group() to be returned by the loader\n\tparseScene( deformers, geometryMap, materialMap ) {\n\n\t\tsceneGraph = new Group();\n\n\t\tconst modelMap = this.parseModels( deformers.skeletons, geometryMap, materialMap );\n\n\t\tconst modelNodes = fbxTree.Objects.Model;\n\n\t\tconst scope = this;\n\t\tmodelMap.forEach( function ( model ) {\n\n\t\t\tconst modelNode = modelNodes[ model.ID ];\n\t\t\tscope.setLookAtProperties( model, modelNode );\n\n\t\t\tconst parentConnections = connections.get( model.ID ).parents;\n\n\t\t\tparentConnections.forEach( function ( connection ) {\n\n\t\t\t\tconst parent = modelMap.get( connection.ID );\n\t\t\t\tif ( parent !== undefined ) parent.add( model );\n\n\t\t\t} );\n\n\t\t\tif ( model.parent === null ) {\n\n\t\t\t\tsceneGraph.add( model );\n\n\t\t\t}\n\n\n\t\t} );\n\n\t\tthis.bindSkeleton( deformers.skeletons, geometryMap, modelMap );\n\n\t\tthis.createAmbientLight();\n\n\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\tif ( node.userData.transformData ) {\n\n\t\t\t\tif ( node.parent ) {\n\n\t\t\t\t\tnode.userData.transformData.parentMatrix = node.parent.matrix;\n\t\t\t\t\tnode.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\n\n\t\t\t\t}\n\n\t\t\t\tconst transform = generateTransform( node.userData.transformData );\n\n\t\t\t\tnode.applyMatrix4( transform );\n\t\t\t\tnode.updateWorldMatrix();\n\n\t\t\t}\n\n\t\t} );\n\n\t\tconst animations = new AnimationParser().parse();\n\n\t\t// if all the models where already combined in a single group, just return that\n\t\tif ( sceneGraph.children.length === 1 && sceneGraph.children[ 0 ].isGroup ) {\n\n\t\t\tsceneGraph.children[ 0 ].animations = animations;\n\t\t\tsceneGraph = sceneGraph.children[ 0 ];\n\n\t\t}\n\n\t\tsceneGraph.animations = animations;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.Model\n\tparseModels( skeletons, geometryMap, materialMap ) {\n\n\t\tconst modelMap = new Map();\n\t\tconst modelNodes = fbxTree.Objects.Model;\n\n\t\tfor ( const nodeID in modelNodes ) {\n\n\t\t\tconst id = parseInt( nodeID );\n\t\t\tconst node = modelNodes[ nodeID ];\n\t\t\tconst relationships = connections.get( id );\n\n\t\t\tlet model = this.buildSkeleton( relationships, skeletons, id, node.attrName );\n\n\t\t\tif ( ! model ) {\n\n\t\t\t\tswitch ( node.attrType ) {\n\n\t\t\t\t\tcase 'Camera':\n\t\t\t\t\t\tmodel = this.createCamera( relationships );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Light':\n\t\t\t\t\t\tmodel = this.createLight( relationships );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Mesh':\n\t\t\t\t\t\tmodel = this.createMesh( relationships, geometryMap, materialMap );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\t\tmodel = this.createCurve( relationships, geometryMap );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'LimbNode':\n\t\t\t\t\tcase 'Root':\n\t\t\t\t\t\tmodel = new Bone();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Null':\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmodel = new Group();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tmodel.name = node.attrName ? PropertyBinding.sanitizeNodeName( node.attrName ) : '';\n\n\t\t\t\tmodel.ID = id;\n\n\t\t\t}\n\n\t\t\tthis.getTransformData( model, node );\n\t\t\tmodelMap.set( id, model );\n\n\t\t}\n\n\t\treturn modelMap;\n\n\t}\n\n\tbuildSkeleton( relationships, skeletons, id, name ) {\n\n\t\tlet bone = null;\n\n\t\trelationships.parents.forEach( function ( parent ) {\n\n\t\t\tfor ( const ID in skeletons ) {\n\n\t\t\t\tconst skeleton = skeletons[ ID ];\n\n\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\tif ( rawBone.ID === parent.ID ) {\n\n\t\t\t\t\t\tconst subBone = bone;\n\t\t\t\t\t\tbone = new Bone();\n\n\t\t\t\t\t\tbone.matrixWorld.copy( rawBone.transformLink );\n\n\t\t\t\t\t\t// set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n\t\t\t\t\t\tbone.name = name ? PropertyBinding.sanitizeNodeName( name ) : '';\n\t\t\t\t\t\tbone.ID = id;\n\n\t\t\t\t\t\tskeleton.bones[ i ] = bone;\n\n\t\t\t\t\t\t// In cases where a bone is shared between multiple meshes\n\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\n\t\t\t\t\t\tif ( subBone !== null ) {\n\n\t\t\t\t\t\t\tbone.add( subBone );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn bone;\n\n\t}\n\n\t// create a PerspectiveCamera or OrthographicCamera\n\tcreateCamera( relationships ) {\n\n\t\tlet model;\n\t\tlet cameraAttribute;\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\tcameraAttribute = attr;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( cameraAttribute === undefined ) {\n\n\t\t\tmodel = new Object3D();\n\n\t\t} else {\n\n\t\t\tlet type = 0;\n\t\t\tif ( cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1 ) {\n\n\t\t\t\ttype = 1;\n\n\t\t\t}\n\n\t\t\tlet nearClippingPlane = 1;\n\t\t\tif ( cameraAttribute.NearPlane !== undefined ) {\n\n\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n\n\t\t\t}\n\n\t\t\tlet farClippingPlane = 1000;\n\t\t\tif ( cameraAttribute.FarPlane !== undefined ) {\n\n\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\n\n\t\t\t}\n\n\n\t\t\tlet width = window.innerWidth;\n\t\t\tlet height = window.innerHeight;\n\n\t\t\tif ( cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined ) {\n\n\t\t\t\twidth = cameraAttribute.AspectWidth.value;\n\t\t\t\theight = cameraAttribute.AspectHeight.value;\n\n\t\t\t}\n\n\t\t\tconst aspect = width / height;\n\n\t\t\tlet fov = 45;\n\t\t\tif ( cameraAttribute.FieldOfView !== undefined ) {\n\n\t\t\t\tfov = cameraAttribute.FieldOfView.value;\n\n\t\t\t}\n\n\t\t\tconst focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 0: // Perspective\n\t\t\t\t\tmodel = new PerspectiveCamera( fov, aspect, nearClippingPlane, farClippingPlane );\n\t\t\t\t\tif ( focalLength !== null ) model.setFocalLength( focalLength );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // Orthographic\n\t\t\t\t\tmodel = new OrthographicCamera( - width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown camera type ' + type + '.' );\n\t\t\t\t\tmodel = new Object3D();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\t// Create a DirectionalLight, PointLight or SpotLight\n\tcreateLight( relationships ) {\n\n\t\tlet model;\n\t\tlet lightAttribute;\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\tlightAttribute = attr;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( lightAttribute === undefined ) {\n\n\t\t\tmodel = new Object3D();\n\n\t\t} else {\n\n\t\t\tlet type;\n\n\t\t\t// LightType can be undefined for Point lights\n\t\t\tif ( lightAttribute.LightType === undefined ) {\n\n\t\t\t\ttype = 0;\n\n\t\t\t} else {\n\n\t\t\t\ttype = lightAttribute.LightType.value;\n\n\t\t\t}\n\n\t\t\tlet color = 0xffffff;\n\n\t\t\tif ( lightAttribute.Color !== undefined ) {\n\n\t\t\t\tcolor = new Color().fromArray( lightAttribute.Color.value );\n\n\t\t\t}\n\n\t\t\tlet intensity = ( lightAttribute.Intensity === undefined ) ? 1 : lightAttribute.Intensity.value / 100;\n\n\t\t\t// light disabled\n\t\t\tif ( lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0 ) {\n\n\t\t\t\tintensity = 0;\n\n\t\t\t}\n\n\t\t\tlet distance = 0;\n\t\t\tif ( lightAttribute.FarAttenuationEnd !== undefined ) {\n\n\t\t\t\tif ( lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0 ) {\n\n\t\t\t\t\tdistance = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\t\t\tconst decay = 1;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 0: // Point\n\t\t\t\t\tmodel = new PointLight( color, intensity, distance, decay );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // Directional\n\t\t\t\t\tmodel = new DirectionalLight( color, intensity );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // Spot\n\t\t\t\t\tlet angle = Math.PI / 3;\n\n\t\t\t\t\tif ( lightAttribute.InnerAngle !== undefined ) {\n\n\t\t\t\t\t\tangle = MathUtils.degToRad( lightAttribute.InnerAngle.value );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet penumbra = 0;\n\t\t\t\t\tif ( lightAttribute.OuterAngle !== undefined ) {\n\n\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\n\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n\t\t\t\t\t\tpenumbra = MathUtils.degToRad( lightAttribute.OuterAngle.value );\n\t\t\t\t\t\tpenumbra = Math.max( penumbra, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmodel = new SpotLight( color, intensity, distance, angle, penumbra, decay );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.' );\n\t\t\t\t\tmodel = new PointLight( color, intensity );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1 ) {\n\n\t\t\t\tmodel.castShadow = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\tcreateMesh( relationships, geometryMap, materialMap ) {\n\n\t\tlet model;\n\t\tlet geometry = null;\n\t\tlet material = null;\n\t\tconst materials = [];\n\n\t\t// get geometry and materials(s) from connections\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tif ( geometryMap.has( child.ID ) ) {\n\n\t\t\t\tgeometry = geometryMap.get( child.ID );\n\n\t\t\t}\n\n\t\t\tif ( materialMap.has( child.ID ) ) {\n\n\t\t\t\tmaterials.push( materialMap.get( child.ID ) );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( materials.length > 1 ) {\n\n\t\t\tmaterial = materials;\n\n\t\t} else if ( materials.length > 0 ) {\n\n\t\t\tmaterial = materials[ 0 ];\n\n\t\t} else {\n\n\t\t\tmaterial = new MeshPhongMaterial( { color: 0xcccccc } );\n\t\t\tmaterials.push( material );\n\n\t\t}\n\n\t\tif ( 'color' in geometry.attributes ) {\n\n\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( geometry.FBX_Deformer ) {\n\n\t\t\tmodel = new SkinnedMesh( geometry, material );\n\t\t\tmodel.normalizeSkinWeights();\n\n\t\t} else {\n\n\t\t\tmodel = new Mesh( geometry, material );\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\tcreateCurve( relationships, geometryMap ) {\n\n\t\tconst geometry = relationships.children.reduce( function ( geo, child ) {\n\n\t\t\tif ( geometryMap.has( child.ID ) ) geo = geometryMap.get( child.ID );\n\n\t\t\treturn geo;\n\n\t\t}, null );\n\n\t\t// FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\t\tconst material = new LineBasicMaterial( { color: 0x3300ff, linewidth: 1 } );\n\t\treturn new Line( geometry, material );\n\n\t}\n\n\t// parse the model node for transform data\n\tgetTransformData( model, modelNode ) {\n\n\t\tconst transformData = {};\n\n\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\telse transformData.eulerOrder = 'ZYX';\n\n\t\tif ( 'Lcl_Translation' in modelNode ) transformData.translation = modelNode.Lcl_Translation.value;\n\n\t\tif ( 'PreRotation' in modelNode ) transformData.preRotation = modelNode.PreRotation.value;\n\t\tif ( 'Lcl_Rotation' in modelNode ) transformData.rotation = modelNode.Lcl_Rotation.value;\n\t\tif ( 'PostRotation' in modelNode ) transformData.postRotation = modelNode.PostRotation.value;\n\n\t\tif ( 'Lcl_Scaling' in modelNode ) transformData.scale = modelNode.Lcl_Scaling.value;\n\n\t\tif ( 'ScalingOffset' in modelNode ) transformData.scalingOffset = modelNode.ScalingOffset.value;\n\t\tif ( 'ScalingPivot' in modelNode ) transformData.scalingPivot = modelNode.ScalingPivot.value;\n\n\t\tif ( 'RotationOffset' in modelNode ) transformData.rotationOffset = modelNode.RotationOffset.value;\n\t\tif ( 'RotationPivot' in modelNode ) transformData.rotationPivot = modelNode.RotationPivot.value;\n\n\t\tmodel.userData.transformData = transformData;\n\n\t}\n\n\tsetLookAtProperties( model, modelNode ) {\n\n\t\tif ( 'LookAtProperty' in modelNode ) {\n\n\t\t\tconst children = connections.get( model.ID ).children;\n\n\t\t\tchildren.forEach( function ( child ) {\n\n\t\t\t\tif ( child.relationship === 'LookAtProperty' ) {\n\n\t\t\t\t\tconst lookAtTarget = fbxTree.Objects.Model[ child.ID ];\n\n\t\t\t\t\tif ( 'Lcl_Translation' in lookAtTarget ) {\n\n\t\t\t\t\t\tconst pos = lookAtTarget.Lcl_Translation.value;\n\n\t\t\t\t\t\t// DirectionalLight, SpotLight\n\t\t\t\t\t\tif ( model.target !== undefined ) {\n\n\t\t\t\t\t\t\tmodel.target.position.fromArray( pos );\n\t\t\t\t\t\t\tsceneGraph.add( model.target );\n\n\t\t\t\t\t\t} else { // Cameras and other Object3Ds\n\n\t\t\t\t\t\t\tmodel.lookAt( new Vector3().fromArray( pos ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\tbindSkeleton( skeletons, geometryMap, modelMap ) {\n\n\t\tconst bindMatrices = this.parsePoseNodes();\n\n\t\tfor ( const ID in skeletons ) {\n\n\t\t\tconst skeleton = skeletons[ ID ];\n\n\t\t\tconst parents = connections.get( parseInt( skeleton.ID ) ).parents;\n\n\t\t\tparents.forEach( function ( parent ) {\n\n\t\t\t\tif ( geometryMap.has( parent.ID ) ) {\n\n\t\t\t\t\tconst geoID = parent.ID;\n\t\t\t\t\tconst geoRelationships = connections.get( geoID );\n\n\t\t\t\t\tgeoRelationships.parents.forEach( function ( geoConnParent ) {\n\n\t\t\t\t\t\tif ( modelMap.has( geoConnParent.ID ) ) {\n\n\t\t\t\t\t\t\tconst model = modelMap.get( geoConnParent.ID );\n\n\t\t\t\t\t\t\tmodel.bind( new Skeleton( skeleton.bones ), bindMatrices[ geoConnParent.ID ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\tparsePoseNodes() {\n\n\t\tconst bindMatrices = {};\n\n\t\tif ( 'Pose' in fbxTree.Objects ) {\n\n\t\t\tconst BindPoseNode = fbxTree.Objects.Pose;\n\n\t\t\tfor ( const nodeID in BindPoseNode ) {\n\n\t\t\t\tif ( BindPoseNode[ nodeID ].attrType === 'BindPose' && BindPoseNode[ nodeID ].NbPoseNodes > 0 ) {\n\n\t\t\t\t\tconst poseNodes = BindPoseNode[ nodeID ].PoseNode;\n\n\t\t\t\t\tif ( Array.isArray( poseNodes ) ) {\n\n\t\t\t\t\t\tposeNodes.forEach( function ( poseNode ) {\n\n\t\t\t\t\t\t\tbindMatrices[ poseNode.Node ] = new Matrix4().fromArray( poseNode.Matrix.a );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbindMatrices[ poseNodes.Node ] = new Matrix4().fromArray( poseNodes.Matrix.a );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn bindMatrices;\n\n\t}\n\n\t// Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\tcreateAmbientLight() {\n\n\t\tif ( 'GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings ) {\n\n\t\t\tconst ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n\t\t\tconst r = ambientColor[ 0 ];\n\t\t\tconst g = ambientColor[ 1 ];\n\t\t\tconst b = ambientColor[ 2 ];\n\n\t\t\tif ( r !== 0 || g !== 0 || b !== 0 ) {\n\n\t\t\t\tconst color = new Color( r, g, b );\n\t\t\t\tsceneGraph.add( new AmbientLight( color, 1 ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\n// parse Geometry data from FBXTree and return map of BufferGeometries\nclass GeometryParser {\n\n\t// Parse nodes in FBXTree.Objects.Geometry\n\tparse( deformers ) {\n\n\t\tconst geometryMap = new Map();\n\n\t\tif ( 'Geometry' in fbxTree.Objects ) {\n\n\t\t\tconst geoNodes = fbxTree.Objects.Geometry;\n\n\t\t\tfor ( const nodeID in geoNodes ) {\n\n\t\t\t\tconst relationships = connections.get( parseInt( nodeID ) );\n\t\t\t\tconst geo = this.parseGeometry( relationships, geoNodes[ nodeID ], deformers );\n\n\t\t\t\tgeometryMap.set( parseInt( nodeID ), geo );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometryMap;\n\n\t}\n\n\t// Parse single node in FBXTree.Objects.Geometry\n\tparseGeometry( relationships, geoNode, deformers ) {\n\n\t\tswitch ( geoNode.attrType ) {\n\n\t\t\tcase 'Mesh':\n\t\t\t\treturn this.parseMeshGeometry( relationships, geoNode, deformers );\n\t\t\t\tbreak;\n\n\t\t\tcase 'NurbsCurve':\n\t\t\t\treturn this.parseNurbsGeometry( geoNode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t// Parse single node mesh geometry in FBXTree.Objects.Geometry\n\tparseMeshGeometry( relationships, geoNode, deformers ) {\n\n\t\tconst skeletons = deformers.skeletons;\n\t\tconst morphTargets = [];\n\n\t\tconst modelNodes = relationships.parents.map( function ( parent ) {\n\n\t\t\treturn fbxTree.Objects.Model[ parent.ID ];\n\n\t\t} );\n\n\t\t// don't create geometry if it is not associated with any models\n\t\tif ( modelNodes.length === 0 ) return;\n\n\t\tconst skeleton = relationships.children.reduce( function ( skeleton, child ) {\n\n\t\t\tif ( skeletons[ child.ID ] !== undefined ) skeleton = skeletons[ child.ID ];\n\n\t\t\treturn skeleton;\n\n\t\t}, null );\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tif ( deformers.morphTargets[ child.ID ] !== undefined ) {\n\n\t\t\t\tmorphTargets.push( deformers.morphTargets[ child.ID ] );\n\n\t\t\t}\n\n\t\t} );\n\n\t\t// Assume one model and get the preRotation from that\n\t\t// if there is more than one model associated with the geometry this may cause problems\n\t\tconst modelNode = modelNodes[ 0 ];\n\n\t\tconst transformData = {};\n\n\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\tif ( 'GeometricTranslation' in modelNode ) transformData.translation = modelNode.GeometricTranslation.value;\n\t\tif ( 'GeometricRotation' in modelNode ) transformData.rotation = modelNode.GeometricRotation.value;\n\t\tif ( 'GeometricScaling' in modelNode ) transformData.scale = modelNode.GeometricScaling.value;\n\n\t\tconst transform = generateTransform( transformData );\n\n\t\treturn this.genGeometry( geoNode, skeleton, morphTargets, transform );\n\n\t}\n\n\t// Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n\tgenGeometry( geoNode, skeleton, morphTargets, preTransform ) {\n\n\t\tconst geo = new BufferGeometry();\n\t\tif ( geoNode.attrName ) geo.name = geoNode.attrName;\n\n\t\tconst geoInfo = this.parseGeoNode( geoNode, skeleton );\n\t\tconst buffers = this.genBuffers( geoInfo );\n\n\t\tconst positionAttribute = new Float32BufferAttribute( buffers.vertex, 3 );\n\n\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\tgeo.setAttribute( 'position', positionAttribute );\n\n\t\tif ( buffers.colors.length > 0 ) {\n\n\t\t\tgeo.setAttribute( 'color', new Float32BufferAttribute( buffers.colors, 3 ) );\n\n\t\t}\n\n\t\tif ( skeleton ) {\n\n\t\t\tgeo.setAttribute( 'skinIndex', new Uint16BufferAttribute( buffers.weightsIndices, 4 ) );\n\n\t\t\tgeo.setAttribute( 'skinWeight', new Float32BufferAttribute( buffers.vertexWeights, 4 ) );\n\n\t\t\t// used later to bind the skeleton to the model\n\t\t\tgeo.FBX_Deformer = skeleton;\n\n\t\t}\n\n\t\tif ( buffers.normal.length > 0 ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( preTransform );\n\n\t\t\tconst normalAttribute = new Float32BufferAttribute( buffers.normal, 3 );\n\t\t\tnormalAttribute.applyNormalMatrix( normalMatrix );\n\n\t\t\tgeo.setAttribute( 'normal', normalAttribute );\n\n\t\t}\n\n\t\tbuffers.uvs.forEach( function ( uvBuffer, i ) {\n\n\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\n\t\t\tlet name = 'uv' + ( i + 1 ).toString();\n\n\t\t\t// the first uv buffer is just called 'uv'\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tname = 'uv';\n\n\t\t\t}\n\n\t\t\tgeo.setAttribute( name, new Float32BufferAttribute( buffers.uvs[ i ], 2 ) );\n\n\t\t} );\n\n\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\n\t\t\tlet prevMaterialIndex = buffers.materialIndex[ 0 ];\n\t\t\tlet startIndex = 0;\n\n\t\t\tbuffers.materialIndex.forEach( function ( currentIndex, i ) {\n\n\t\t\t\tif ( currentIndex !== prevMaterialIndex ) {\n\n\t\t\t\t\tgeo.addGroup( startIndex, i - startIndex, prevMaterialIndex );\n\n\t\t\t\t\tprevMaterialIndex = currentIndex;\n\t\t\t\t\tstartIndex = i;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t// the loop above doesn't add the last group, do that here.\n\t\t\tif ( geo.groups.length > 0 ) {\n\n\t\t\t\tconst lastGroup = geo.groups[ geo.groups.length - 1 ];\n\t\t\t\tconst lastIndex = lastGroup.start + lastGroup.count;\n\n\t\t\t\tif ( lastIndex !== buffers.materialIndex.length ) {\n\n\t\t\t\t\tgeo.addGroup( lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// case where there are multiple materials but the whole geometry is only\n\t\t\t// using one of them\n\t\t\tif ( geo.groups.length === 0 ) {\n\n\t\t\t\tgeo.addGroup( 0, buffers.materialIndex.length, buffers.materialIndex[ 0 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.addMorphTargets( geo, geoNode, morphTargets, preTransform );\n\n\t\treturn geo;\n\n\t}\n\n\tparseGeoNode( geoNode, skeleton ) {\n\n\t\tconst geoInfo = {};\n\n\t\tgeoInfo.vertexPositions = ( geoNode.Vertices !== undefined ) ? geoNode.Vertices.a : [];\n\t\tgeoInfo.vertexIndices = ( geoNode.PolygonVertexIndex !== undefined ) ? geoNode.PolygonVertexIndex.a : [];\n\n\t\tif ( geoNode.LayerElementColor ) {\n\n\t\t\tgeoInfo.color = this.parseVertexColors( geoNode.LayerElementColor[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementMaterial ) {\n\n\t\t\tgeoInfo.material = this.parseMaterialIndices( geoNode.LayerElementMaterial[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementNormal ) {\n\n\t\t\tgeoInfo.normal = this.parseNormals( geoNode.LayerElementNormal[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementUV ) {\n\n\t\t\tgeoInfo.uv = [];\n\n\t\t\tlet i = 0;\n\t\t\twhile ( geoNode.LayerElementUV[ i ] ) {\n\n\t\t\t\tif ( geoNode.LayerElementUV[ i ].UV ) {\n\n\t\t\t\t\tgeoInfo.uv.push( this.parseUVs( geoNode.LayerElementUV[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeoInfo.weightTable = {};\n\n\t\tif ( skeleton !== null ) {\n\n\t\t\tgeoInfo.skeleton = skeleton;\n\n\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t// loop over the bone's vertex indices and weights\n\t\t\t\trawBone.indices.forEach( function ( index, j ) {\n\n\t\t\t\t\tif ( geoInfo.weightTable[ index ] === undefined ) geoInfo.weightTable[ index ] = [];\n\n\t\t\t\t\tgeoInfo.weightTable[ index ].push( {\n\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\tweight: rawBone.weights[ j ],\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn geoInfo;\n\n\t}\n\n\tgenBuffers( geoInfo ) {\n\n\t\tconst buffers = {\n\t\t\tvertex: [],\n\t\t\tnormal: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\t\t\tmaterialIndex: [],\n\t\t\tvertexWeights: [],\n\t\t\tweightsIndices: [],\n\t\t};\n\n\t\tlet polygonIndex = 0;\n\t\tlet faceLength = 0;\n\t\tlet displayedWeightsWarning = false;\n\n\t\t// these will hold data for a single face\n\t\tlet facePositionIndexes = [];\n\t\tlet faceNormals = [];\n\t\tlet faceColors = [];\n\t\tlet faceUVs = [];\n\t\tlet faceWeights = [];\n\t\tlet faceWeightIndices = [];\n\n\t\tconst scope = this;\n\t\tgeoInfo.vertexIndices.forEach( function ( vertexIndex, polygonVertexIndex ) {\n\n\t\t\tlet materialIndex;\n\t\t\tlet endOfFace = false;\n\n\t\t\t// Face index and vertex index arrays are combined in a single array\n\t\t\t// A cube with quad faces looks like this:\n\t\t\t// PolygonVertexIndex: *24 {\n\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n\t\t\t//  }\n\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n\t\t\t// to find index of last vertex bit shift the index: ^ - 1\n\t\t\tif ( vertexIndex < 0 ) {\n\n\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\n\t\t\t\tendOfFace = true;\n\n\t\t\t}\n\n\t\t\tlet weightIndices = [];\n\t\t\tlet weights = [];\n\n\t\t\tfacePositionIndexes.push( vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2 );\n\n\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color );\n\n\t\t\t\tfaceColors.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\tif ( geoInfo.weightTable[ vertexIndex ] !== undefined ) {\n\n\t\t\t\t\tgeoInfo.weightTable[ vertexIndex ].forEach( function ( wt ) {\n\n\t\t\t\t\t\tweights.push( wt.weight );\n\t\t\t\t\t\tweightIndices.push( wt.id );\n\n\t\t\t\t\t} );\n\n\n\t\t\t\t}\n\n\t\t\t\tif ( weights.length > 4 ) {\n\n\t\t\t\t\tif ( ! displayedWeightsWarning ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.' );\n\t\t\t\t\t\tdisplayedWeightsWarning = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst wIndex = [ 0, 0, 0, 0 ];\n\t\t\t\t\tconst Weight = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\tweights.forEach( function ( weight, weightIndex ) {\n\n\t\t\t\t\t\tlet currentWeight = weight;\n\t\t\t\t\t\tlet currentIndex = weightIndices[ weightIndex ];\n\n\t\t\t\t\t\tWeight.forEach( function ( comparedWeight, comparedWeightIndex, comparedWeightArray ) {\n\n\t\t\t\t\t\t\tif ( currentWeight > comparedWeight ) {\n\n\t\t\t\t\t\t\t\tcomparedWeightArray[ comparedWeightIndex ] = currentWeight;\n\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\n\n\t\t\t\t\t\t\t\tconst tmp = wIndex[ comparedWeightIndex ];\n\t\t\t\t\t\t\t\twIndex[ comparedWeightIndex ] = currentIndex;\n\t\t\t\t\t\t\t\tcurrentIndex = tmp;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tweightIndices = wIndex;\n\t\t\t\t\tweights = Weight;\n\n\t\t\t\t}\n\n\t\t\t\t// if the weight array is shorter than 4 pad with 0s\n\t\t\t\twhile ( weights.length < 4 ) {\n\n\t\t\t\t\tweights.push( 0 );\n\t\t\t\t\tweightIndices.push( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 4; ++ i ) {\n\n\t\t\t\t\tfaceWeights.push( weights[ i ] );\n\t\t\t\t\tfaceWeightIndices.push( weightIndices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal );\n\n\t\t\t\tfaceNormals.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\tmaterialIndex = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material )[ 0 ];\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\tgeoInfo.uv.forEach( function ( uv, i ) {\n\n\t\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, uv );\n\n\t\t\t\t\tif ( faceUVs[ i ] === undefined ) {\n\n\t\t\t\t\t\tfaceUVs[ i ] = [];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceUVs[ i ].push( data[ 0 ] );\n\t\t\t\t\tfaceUVs[ i ].push( data[ 1 ] );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tfaceLength ++;\n\n\t\t\tif ( endOfFace ) {\n\n\t\t\t\tscope.genFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength );\n\n\t\t\t\tpolygonIndex ++;\n\t\t\t\tfaceLength = 0;\n\n\t\t\t\t// reset arrays for the next face\n\t\t\t\tfacePositionIndexes = [];\n\t\t\t\tfaceNormals = [];\n\t\t\t\tfaceColors = [];\n\t\t\t\tfaceUVs = [];\n\t\t\t\tfaceWeights = [];\n\t\t\t\tfaceWeightIndices = [];\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn buffers;\n\n\t}\n\n\t// Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\tgenFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength ) {\n\n\t\tfor ( let i = 2; i < faceLength; i ++ ) {\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 0 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 2 ] ] );\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 2 ] ] );\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 2 ] ] );\n\n\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 0 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 3 ] );\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 0 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 3 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\tbuffers.colors.push( faceColors[ 0 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ 2 ] );\n\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\tbuffers.normal.push( faceNormals[ 0 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ 2 ] );\n\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\tgeoInfo.uv.forEach( function ( uv, j ) {\n\n\t\t\t\t\tif ( buffers.uvs[ j ] === undefined ) buffers.uvs[ j ] = [];\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 0 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 1 ] );\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 + 1 ] );\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 + 1 ] );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\taddMorphTargets( parentGeo, parentGeoNode, morphTargets, preTransform ) {\n\n\t\tif ( morphTargets.length === 0 ) return;\n\n\t\tparentGeo.morphTargetsRelative = true;\n\n\t\tparentGeo.morphAttributes.position = [];\n\t\t// parentGeo.morphAttributes.normal = []; // not implemented\n\n\t\tconst scope = this;\n\t\tmorphTargets.forEach( function ( morphTarget ) {\n\n\t\t\tmorphTarget.rawTargets.forEach( function ( rawTarget ) {\n\n\t\t\t\tconst morphGeoNode = fbxTree.Objects.Geometry[ rawTarget.geoID ];\n\n\t\t\t\tif ( morphGeoNode !== undefined ) {\n\n\t\t\t\t\tscope.genMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t// a morph geometry node is similar to a standard  node, and the node is also contained\n\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n\t// and a special attribute Index defining which vertices of the original geometry are affected\n\t// Normal and position attributes only have data for the vertices that are affected by the morph\n\tgenMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, name ) {\n\n\t\tconst vertexIndices = ( parentGeoNode.PolygonVertexIndex !== undefined ) ? parentGeoNode.PolygonVertexIndex.a : [];\n\n\t\tconst morphPositionsSparse = ( morphGeoNode.Vertices !== undefined ) ? morphGeoNode.Vertices.a : [];\n\t\tconst indices = ( morphGeoNode.Indexes !== undefined ) ? morphGeoNode.Indexes.a : [];\n\n\t\tconst length = parentGeo.attributes.position.count * 3;\n\t\tconst morphPositions = new Float32Array( length );\n\n\t\tfor ( let i = 0; i < indices.length; i ++ ) {\n\n\t\t\tconst morphIndex = indices[ i ] * 3;\n\n\t\t\tmorphPositions[ morphIndex ] = morphPositionsSparse[ i * 3 ];\n\t\t\tmorphPositions[ morphIndex + 1 ] = morphPositionsSparse[ i * 3 + 1 ];\n\t\t\tmorphPositions[ morphIndex + 2 ] = morphPositionsSparse[ i * 3 + 2 ];\n\n\t\t}\n\n\t\t// TODO: add morph normal support\n\t\tconst morphGeoInfo = {\n\t\t\tvertexIndices: vertexIndices,\n\t\t\tvertexPositions: morphPositions,\n\n\t\t};\n\n\t\tconst morphBuffers = this.genBuffers( morphGeoInfo );\n\n\t\tconst positionAttribute = new Float32BufferAttribute( morphBuffers.vertex, 3 );\n\t\tpositionAttribute.name = name || morphGeoNode.attrName;\n\n\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\tparentGeo.morphAttributes.position.push( positionAttribute );\n\n\t}\n\n\t// Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\tparseNormals( NormalNode ) {\n\n\t\tconst mappingType = NormalNode.MappingInformationType;\n\t\tconst referenceType = NormalNode.ReferenceInformationType;\n\t\tconst buffer = NormalNode.Normals.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tif ( 'NormalIndex' in NormalNode ) {\n\n\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\n\n\t\t\t} else if ( 'NormalsIndex' in NormalNode ) {\n\n\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 3,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\tparseUVs( UVNode ) {\n\n\t\tconst mappingType = UVNode.MappingInformationType;\n\t\tconst referenceType = UVNode.ReferenceInformationType;\n\t\tconst buffer = UVNode.UV.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tindexBuffer = UVNode.UVIndex.a;\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 2,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\tparseVertexColors( ColorNode ) {\n\n\t\tconst mappingType = ColorNode.MappingInformationType;\n\t\tconst referenceType = ColorNode.ReferenceInformationType;\n\t\tconst buffer = ColorNode.Colors.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tindexBuffer = ColorNode.ColorIndex.a;\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 4,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\tparseMaterialIndices( MaterialNode ) {\n\n\t\tconst mappingType = MaterialNode.MappingInformationType;\n\t\tconst referenceType = MaterialNode.ReferenceInformationType;\n\n\t\tif ( mappingType === 'NoMappingInformation' ) {\n\n\t\t\treturn {\n\t\t\t\tdataSize: 1,\n\t\t\t\tbuffer: [ 0 ],\n\t\t\t\tindices: [ 0 ],\n\t\t\t\tmappingType: 'AllSame',\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t}\n\n\t\tconst materialIndexBuffer = MaterialNode.Materials.a;\n\n\t\t// Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\n\t\t// for conforming with the other functions we've written for other data.\n\t\tconst materialIndices = [];\n\n\t\tfor ( let i = 0; i < materialIndexBuffer.length; ++ i ) {\n\n\t\t\tmaterialIndices.push( i );\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 1,\n\t\t\tbuffer: materialIndexBuffer,\n\t\t\tindices: materialIndices,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\tparseNurbsGeometry( geoNode ) {\n\n\t\tif ( NURBSCurve === undefined ) {\n\n\t\t\tconsole.error( 'THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst order = parseInt( geoNode.Order );\n\n\t\tif ( isNaN( order ) ) {\n\n\t\t\tconsole.error( 'THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst degree = order - 1;\n\n\t\tconst knots = geoNode.KnotVector.a;\n\t\tconst controlPoints = [];\n\t\tconst pointsValues = geoNode.Points.a;\n\n\t\tfor ( let i = 0, l = pointsValues.length; i < l; i += 4 ) {\n\n\t\t\tcontrolPoints.push( new Vector4().fromArray( pointsValues, i ) );\n\n\t\t}\n\n\t\tlet startKnot, endKnot;\n\n\t\tif ( geoNode.Form === 'Closed' ) {\n\n\t\t\tcontrolPoints.push( controlPoints[ 0 ] );\n\n\t\t} else if ( geoNode.Form === 'Periodic' ) {\n\n\t\t\tstartKnot = degree;\n\t\t\tendKnot = knots.length - 1 - startKnot;\n\n\t\t\tfor ( let i = 0; i < degree; ++ i ) {\n\n\t\t\t\tcontrolPoints.push( controlPoints[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst curve = new NURBSCurve( degree, knots, controlPoints, startKnot, endKnot );\n\t\tconst points = curve.getPoints( controlPoints.length * 12 );\n\n\t\treturn new BufferGeometry().setFromPoints( points );\n\n\t}\n\n}\n\n// parse animation data from FBXTree\nclass AnimationParser {\n\n\t// take raw animation clips and turn them into three.js animation clips\n\tparse() {\n\n\t\tconst animationClips = [];\n\n\t\tconst rawClips = this.parseClips();\n\n\t\tif ( rawClips !== undefined ) {\n\n\t\t\tfor ( const key in rawClips ) {\n\n\t\t\t\tconst rawClip = rawClips[ key ];\n\n\t\t\t\tconst clip = this.addClip( rawClip );\n\n\t\t\t\tanimationClips.push( clip );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animationClips;\n\n\t}\n\n\tparseClips() {\n\n\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n\t\t// if this is undefined we can safely assume there are no animations\n\t\tif ( fbxTree.Objects.AnimationCurve === undefined ) return undefined;\n\n\t\tconst curveNodesMap = this.parseAnimationCurveNodes();\n\n\t\tthis.parseAnimationCurves( curveNodesMap );\n\n\t\tconst layersMap = this.parseAnimationLayers( curveNodesMap );\n\t\tconst rawClips = this.parseAnimStacks( layersMap );\n\n\t\treturn rawClips;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationCurveNode\n\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n\t// and is referenced by an AnimationLayer\n\tparseAnimationCurveNodes() {\n\n\t\tconst rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n\n\t\tconst curveNodesMap = new Map();\n\n\t\tfor ( const nodeID in rawCurveNodes ) {\n\n\t\t\tconst rawCurveNode = rawCurveNodes[ nodeID ];\n\n\t\t\tif ( rawCurveNode.attrName.match( /S|R|T|DeformPercent/ ) !== null ) {\n\n\t\t\t\tconst curveNode = {\n\n\t\t\t\t\tid: rawCurveNode.id,\n\t\t\t\t\tattr: rawCurveNode.attrName,\n\t\t\t\t\tcurves: {},\n\n\t\t\t\t};\n\n\t\t\t\tcurveNodesMap.set( curveNode.id, curveNode );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn curveNodesMap;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n\t// axis ( e.g. times and values of x rotation)\n\tparseAnimationCurves( curveNodesMap ) {\n\n\t\tconst rawCurves = fbxTree.Objects.AnimationCurve;\n\n\t\t// TODO: Many values are identical up to roundoff error, but won't be optimised\n\t\t// e.g. position times: [0, 0.4, 0. 8]\n\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n\t\t// clearly, this should be optimised to\n\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\n\n\t\tfor ( const nodeID in rawCurves ) {\n\n\t\t\tconst animationCurve = {\n\n\t\t\t\tid: rawCurves[ nodeID ].id,\n\t\t\t\ttimes: rawCurves[ nodeID ].KeyTime.a.map( convertFBXTimeToSeconds ),\n\t\t\t\tvalues: rawCurves[ nodeID ].KeyValueFloat.a,\n\n\t\t\t};\n\n\t\t\tconst relationships = connections.get( animationCurve.id );\n\n\t\t\tif ( relationships !== undefined ) {\n\n\t\t\t\tconst animationCurveID = relationships.parents[ 0 ].ID;\n\t\t\t\tconst animationCurveRelationship = relationships.parents[ 0 ].relationship;\n\n\t\t\t\tif ( animationCurveRelationship.match( /X/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'x' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /Y/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'y' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /Z/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'z' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /d|DeformPercent/ ) && curveNodesMap.has( animationCurveID ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'morph' ] = animationCurve;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\n\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\tparseAnimationLayers( curveNodesMap ) {\n\n\t\tconst rawLayers = fbxTree.Objects.AnimationLayer;\n\n\t\tconst layersMap = new Map();\n\n\t\tfor ( const nodeID in rawLayers ) {\n\n\t\t\tconst layerCurveNodes = [];\n\n\t\t\tconst connection = connections.get( parseInt( nodeID ) );\n\n\t\t\tif ( connection !== undefined ) {\n\n\t\t\t\t// all the animationCurveNodes used in the layer\n\t\t\t\tconst children = connection.children;\n\n\t\t\t\tchildren.forEach( function ( child, i ) {\n\n\t\t\t\t\tif ( curveNodesMap.has( child.ID ) ) {\n\n\t\t\t\t\t\tconst curveNode = curveNodesMap.get( child.ID );\n\n\t\t\t\t\t\t// check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\t\t\t\t\t\tif ( curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined ) {\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconst modelID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tif ( modelID !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[ modelID.toString() ];\n\n\t\t\t\t\t\t\t\t\tif ( rawModel === undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered a unused curve.', child );\n\t\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst node = {\n\n\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\n\t\t\t\t\t\t\t\t\t\tinitialPosition: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\tinitialRotation: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\tinitialScale: [ 1, 1, 1 ],\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\t\t\t\t\t\t\tif ( child.ID === rawModel.id ) {\n\n\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\n\n\t\t\t\t\t\t\t\t\t\t\tif ( child.userData.transformData ) node.eulerOrder = child.userData.transformData.eulerOrder;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\tif ( ! node.transform ) node.transform = new Matrix4();\n\n\t\t\t\t\t\t\t\t\t// if the animated model is pre rotated, we'll have to apply the pre rotations to every\n\t\t\t\t\t\t\t\t\t// animation value as well\n\t\t\t\t\t\t\t\t\tif ( 'PreRotation' in rawModel ) node.preRotation = rawModel.PreRotation.value;\n\t\t\t\t\t\t\t\t\tif ( 'PostRotation' in rawModel ) node.postRotation = rawModel.PostRotation.value;\n\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] ) layerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t} else if ( curveNode.curves.morph !== undefined ) {\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconst deformerID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tconst morpherID = connections.get( deformerID ).parents[ 0 ].ID;\n\t\t\t\t\t\t\t\tconst geoID = connections.get( morpherID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t// assuming geometry is not used in more than one model\n\t\t\t\t\t\t\t\tconst modelID = connections.get( geoID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[ modelID ];\n\n\t\t\t\t\t\t\t\tconst node = {\n\n\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[ deformerID ].attrName,\n\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlayerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tlayersMap.set( parseInt( nodeID ), layerCurveNodes );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn layersMap;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n\t// hierarchy. Each Stack node will be used to create a AnimationClip\n\tparseAnimStacks( layersMap ) {\n\n\t\tconst rawStacks = fbxTree.Objects.AnimationStack;\n\n\t\t// connect the stacks (clips) up to the layers\n\t\tconst rawClips = {};\n\n\t\tfor ( const nodeID in rawStacks ) {\n\n\t\t\tconst children = connections.get( parseInt( nodeID ) ).children;\n\n\t\t\tif ( children.length > 1 ) {\n\n\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\n\t\t\t\t// where there are multiple layers per stack, we'll display a warning\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.' );\n\n\t\t\t}\n\n\t\t\tconst layer = layersMap.get( children[ 0 ].ID );\n\n\t\t\trawClips[ nodeID ] = {\n\n\t\t\t\tname: rawStacks[ nodeID ].attrName,\n\t\t\t\tlayer: layer,\n\n\t\t\t};\n\n\t\t}\n\n\t\treturn rawClips;\n\n\t}\n\n\taddClip( rawClip ) {\n\n\t\tlet tracks = [];\n\n\t\tconst scope = this;\n\t\trawClip.layer.forEach( function ( rawTracks ) {\n\n\t\t\ttracks = tracks.concat( scope.generateTracks( rawTracks ) );\n\n\t\t} );\n\n\t\treturn new AnimationClip( rawClip.name, - 1, tracks );\n\n\t}\n\n\tgenerateTracks( rawTracks ) {\n\n\t\tconst tracks = [];\n\n\t\tlet initialPosition = new Vector3();\n\t\tlet initialRotation = new Quaternion();\n\t\tlet initialScale = new Vector3();\n\n\t\tif ( rawTracks.transform ) rawTracks.transform.decompose( initialPosition, initialRotation, initialScale );\n\n\t\tinitialPosition = initialPosition.toArray();\n\t\tinitialRotation = new Euler().setFromQuaternion( initialRotation, rawTracks.eulerOrder ).toArray();\n\t\tinitialScale = initialScale.toArray();\n\n\t\tif ( rawTracks.T !== undefined && Object.keys( rawTracks.T.curves ).length > 0 ) {\n\n\t\t\tconst positionTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position' );\n\t\t\tif ( positionTrack !== undefined ) tracks.push( positionTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.R !== undefined && Object.keys( rawTracks.R.curves ).length > 0 ) {\n\n\t\t\tconst rotationTrack = this.generateRotationTrack( rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder );\n\t\t\tif ( rotationTrack !== undefined ) tracks.push( rotationTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.S !== undefined && Object.keys( rawTracks.S.curves ).length > 0 ) {\n\n\t\t\tconst scaleTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale' );\n\t\t\tif ( scaleTrack !== undefined ) tracks.push( scaleTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.DeformPercent !== undefined ) {\n\n\t\t\tconst morphTrack = this.generateMorphTrack( rawTracks );\n\t\t\tif ( morphTrack !== undefined ) tracks.push( morphTrack );\n\n\t\t}\n\n\t\treturn tracks;\n\n\t}\n\n\tgenerateVectorTrack( modelName, curves, initialValue, type ) {\n\n\t\tconst times = this.getTimesForAllAxes( curves );\n\t\tconst values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\treturn new VectorKeyframeTrack( modelName + '.' + type, times, values );\n\n\t}\n\n\tgenerateRotationTrack( modelName, curves, initialValue, preRotation, postRotation, eulerOrder ) {\n\n\t\tif ( curves.x !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.x );\n\t\t\tcurves.x.values = curves.x.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tif ( curves.y !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.y );\n\t\t\tcurves.y.values = curves.y.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tif ( curves.z !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.z );\n\t\t\tcurves.z.values = curves.z.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tconst times = this.getTimesForAllAxes( curves );\n\t\tconst values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\tif ( preRotation !== undefined ) {\n\n\t\t\tpreRotation = preRotation.map( MathUtils.degToRad );\n\t\t\tpreRotation.push( eulerOrder );\n\n\t\t\tpreRotation = new Euler().fromArray( preRotation );\n\t\t\tpreRotation = new Quaternion().setFromEuler( preRotation );\n\n\t\t}\n\n\t\tif ( postRotation !== undefined ) {\n\n\t\t\tpostRotation = postRotation.map( MathUtils.degToRad );\n\t\t\tpostRotation.push( eulerOrder );\n\n\t\t\tpostRotation = new Euler().fromArray( postRotation );\n\t\t\tpostRotation = new Quaternion().setFromEuler( postRotation ).invert();\n\n\t\t}\n\n\t\tconst quaternion = new Quaternion();\n\t\tconst euler = new Euler();\n\n\t\tconst quaternionValues = [];\n\n\t\tfor ( let i = 0; i < values.length; i += 3 ) {\n\n\t\t\teuler.set( values[ i ], values[ i + 1 ], values[ i + 2 ], eulerOrder );\n\n\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\tif ( preRotation !== undefined ) quaternion.premultiply( preRotation );\n\t\t\tif ( postRotation !== undefined ) quaternion.multiply( postRotation );\n\n\t\t\tquaternion.toArray( quaternionValues, ( i / 3 ) * 4 );\n\n\t\t}\n\n\t\treturn new QuaternionKeyframeTrack( modelName + '.quaternion', times, quaternionValues );\n\n\t}\n\n\tgenerateMorphTrack( rawTracks ) {\n\n\t\tconst curves = rawTracks.DeformPercent.curves.morph;\n\t\tconst values = curves.values.map( function ( val ) {\n\n\t\t\treturn val / 100;\n\n\t\t} );\n\n\t\tconst morphNum = sceneGraph.getObjectByName( rawTracks.modelName ).morphTargetDictionary[ rawTracks.morphName ];\n\n\t\treturn new NumberKeyframeTrack( rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values );\n\n\t}\n\n\t// For all animated objects, times are defined separately for each axis\n\t// Here we'll combine the times into one sorted array without duplicates\n\tgetTimesForAllAxes( curves ) {\n\n\t\tlet times = [];\n\n\t\t// first join together the times for each axis, if defined\n\t\tif ( curves.x !== undefined ) times = times.concat( curves.x.times );\n\t\tif ( curves.y !== undefined ) times = times.concat( curves.y.times );\n\t\tif ( curves.z !== undefined ) times = times.concat( curves.z.times );\n\n\t\t// then sort them\n\t\ttimes = times.sort( function ( a, b ) {\n\n\t\t\treturn a - b;\n\n\t\t} );\n\n\t\t// and remove duplicates\n\t\tif ( times.length > 1 ) {\n\n\t\t\tlet targetIndex = 1;\n\t\t\tlet lastValue = times[ 0 ];\n\t\t\tfor ( let i = 1; i < times.length; i ++ ) {\n\n\t\t\t\tconst currentValue = times[ i ];\n\t\t\t\tif ( currentValue !== lastValue ) {\n\n\t\t\t\t\ttimes[ targetIndex ] = currentValue;\n\t\t\t\t\tlastValue = currentValue;\n\t\t\t\t\ttargetIndex ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttimes = times.slice( 0, targetIndex );\n\n\t\t}\n\n\t\treturn times;\n\n\t}\n\n\tgetKeyframeTrackValues( times, curves, initialValue ) {\n\n\t\tconst prevValue = initialValue;\n\n\t\tconst values = [];\n\n\t\tlet xIndex = - 1;\n\t\tlet yIndex = - 1;\n\t\tlet zIndex = - 1;\n\n\t\ttimes.forEach( function ( time ) {\n\n\t\t\tif ( curves.x ) xIndex = curves.x.times.indexOf( time );\n\t\t\tif ( curves.y ) yIndex = curves.y.times.indexOf( time );\n\t\t\tif ( curves.z ) zIndex = curves.z.times.indexOf( time );\n\n\t\t\t// if there is an x value defined for this frame, use that\n\t\t\tif ( xIndex !== - 1 ) {\n\n\t\t\t\tconst xValue = curves.x.values[ xIndex ];\n\t\t\t\tvalues.push( xValue );\n\t\t\t\tprevValue[ 0 ] = xValue;\n\n\t\t\t} else {\n\n\t\t\t\t// otherwise use the x value from the previous frame\n\t\t\t\tvalues.push( prevValue[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( yIndex !== - 1 ) {\n\n\t\t\t\tconst yValue = curves.y.values[ yIndex ];\n\t\t\t\tvalues.push( yValue );\n\t\t\t\tprevValue[ 1 ] = yValue;\n\n\t\t\t} else {\n\n\t\t\t\tvalues.push( prevValue[ 1 ] );\n\n\t\t\t}\n\n\t\t\tif ( zIndex !== - 1 ) {\n\n\t\t\t\tconst zValue = curves.z.values[ zIndex ];\n\t\t\t\tvalues.push( zValue );\n\t\t\t\tprevValue[ 2 ] = zValue;\n\n\t\t\t} else {\n\n\t\t\t\tvalues.push( prevValue[ 2 ] );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn values;\n\n\t}\n\n\t// Rotations are defined as Euler angles which can have values  of any size\n\t// These will be converted to quaternions which don't support values greater than\n\t// PI, so we'll interpolate large rotations\n\tinterpolateRotations( curve ) {\n\n\t\tfor ( let i = 1; i < curve.values.length; i ++ ) {\n\n\t\t\tconst initialValue = curve.values[ i - 1 ];\n\t\t\tconst valuesSpan = curve.values[ i ] - initialValue;\n\n\t\t\tconst absoluteSpan = Math.abs( valuesSpan );\n\n\t\t\tif ( absoluteSpan >= 180 ) {\n\n\t\t\t\tconst numSubIntervals = absoluteSpan / 180;\n\n\t\t\t\tconst step = valuesSpan / numSubIntervals;\n\t\t\t\tlet nextValue = initialValue + step;\n\n\t\t\t\tconst initialTime = curve.times[ i - 1 ];\n\t\t\t\tconst timeSpan = curve.times[ i ] - initialTime;\n\t\t\t\tconst interval = timeSpan / numSubIntervals;\n\t\t\t\tlet nextTime = initialTime + interval;\n\n\t\t\t\tconst interpolatedTimes = [];\n\t\t\t\tconst interpolatedValues = [];\n\n\t\t\t\twhile ( nextTime < curve.times[ i ] ) {\n\n\t\t\t\t\tinterpolatedTimes.push( nextTime );\n\t\t\t\t\tnextTime += interval;\n\n\t\t\t\t\tinterpolatedValues.push( nextValue );\n\t\t\t\t\tnextValue += step;\n\n\t\t\t\t}\n\n\t\t\t\tcurve.times = inject( curve.times, i, interpolatedTimes );\n\t\t\t\tcurve.values = inject( curve.values, i, interpolatedValues );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\n// parse an FBX file in ASCII format\nclass TextParser {\n\n\tgetPrevNode() {\n\n\t\treturn this.nodeStack[ this.currentIndent - 2 ];\n\n\t}\n\n\tgetCurrentNode() {\n\n\t\treturn this.nodeStack[ this.currentIndent - 1 ];\n\n\t}\n\n\tgetCurrentProp() {\n\n\t\treturn this.currentProp;\n\n\t}\n\n\tpushStack( node ) {\n\n\t\tthis.nodeStack.push( node );\n\t\tthis.currentIndent += 1;\n\n\t}\n\n\tpopStack() {\n\n\t\tthis.nodeStack.pop();\n\t\tthis.currentIndent -= 1;\n\n\t}\n\n\tsetCurrentProp( val, name ) {\n\n\t\tthis.currentProp = val;\n\t\tthis.currentPropName = name;\n\n\t}\n\n\tparse( text ) {\n\n\t\tthis.currentIndent = 0;\n\n\t\tthis.allNodes = new FBXTree();\n\t\tthis.nodeStack = [];\n\t\tthis.currentProp = [];\n\t\tthis.currentPropName = '';\n\n\t\tconst scope = this;\n\n\t\tconst split = text.split( /[\\r\\n]+/ );\n\n\t\tsplit.forEach( function ( line, i ) {\n\n\t\t\tconst matchComment = line.match( /^[\\s\\t]*;/ );\n\t\t\tconst matchEmpty = line.match( /^[\\s\\t]*$/ );\n\n\t\t\tif ( matchComment || matchEmpty ) return;\n\n\t\t\tconst matchBeginning = line.match( '^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '' );\n\t\t\tconst matchProperty = line.match( '^\\\\t{' + ( scope.currentIndent ) + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)' );\n\t\t\tconst matchEnd = line.match( '^\\\\t{' + ( scope.currentIndent - 1 ) + '}}' );\n\n\t\t\tif ( matchBeginning ) {\n\n\t\t\t\tscope.parseNodeBegin( line, matchBeginning );\n\n\t\t\t} else if ( matchProperty ) {\n\n\t\t\t\tscope.parseNodeProperty( line, matchProperty, split[ ++ i ] );\n\n\t\t\t} else if ( matchEnd ) {\n\n\t\t\t\tscope.popStack();\n\n\t\t\t} else if ( line.match( /^[^\\s\\t}]/ ) ) {\n\n\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\n\t\t\t\t// if this is encountered the line needs to be joined to the previous line\n\t\t\t\tscope.parseNodePropertyContinued( line );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn this.allNodes;\n\n\t}\n\n\tparseNodeBegin( line, property ) {\n\n\t\tconst nodeName = property[ 1 ].trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\tconst nodeAttrs = property[ 2 ].split( ',' ).map( function ( attr ) {\n\n\t\t\treturn attr.trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t} );\n\n\t\tconst node = { name: nodeName };\n\t\tconst attrs = this.parseNodeAttr( nodeAttrs );\n\n\t\tconst currentNode = this.getCurrentNode();\n\n\t\t// a top node\n\t\tif ( this.currentIndent === 0 ) {\n\n\t\t\tthis.allNodes.add( nodeName, node );\n\n\t\t} else { // a subnode\n\n\t\t\t// if the subnode already exists, append it\n\t\t\tif ( nodeName in currentNode ) {\n\n\t\t\t\t// special case Pose needs PoseNodes as an array\n\t\t\t\tif ( nodeName === 'PoseNode' ) {\n\n\t\t\t\t\tcurrentNode.PoseNode.push( node );\n\n\t\t\t\t} else if ( currentNode[ nodeName ].id !== undefined ) {\n\n\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\tcurrentNode[ nodeName ][ currentNode[ nodeName ].id ] = currentNode[ nodeName ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrs.id !== '' ) currentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t} else if ( typeof attrs.id === 'number' ) {\n\n\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\tcurrentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t} else if ( nodeName !== 'Properties70' ) {\n\n\t\t\t\tif ( nodeName === 'PoseNode' )\tcurrentNode[ nodeName ] = [ node ];\n\t\t\t\telse currentNode[ nodeName ] = node;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( typeof attrs.id === 'number' ) node.id = attrs.id;\n\t\tif ( attrs.name !== '' ) node.attrName = attrs.name;\n\t\tif ( attrs.type !== '' ) node.attrType = attrs.type;\n\n\t\tthis.pushStack( node );\n\n\t}\n\n\tparseNodeAttr( attrs ) {\n\n\t\tlet id = attrs[ 0 ];\n\n\t\tif ( attrs[ 0 ] !== '' ) {\n\n\t\t\tid = parseInt( attrs[ 0 ] );\n\n\t\t\tif ( isNaN( id ) ) {\n\n\t\t\t\tid = attrs[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet name = '', type = '';\n\n\t\tif ( attrs.length > 1 ) {\n\n\t\t\tname = attrs[ 1 ].replace( /^(\\w+)::/, '' );\n\t\t\ttype = attrs[ 2 ];\n\n\t\t}\n\n\t\treturn { id: id, name: name, type: type };\n\n\t}\n\n\tparseNodeProperty( line, property, contentLine ) {\n\n\t\tlet propName = property[ 1 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\t\tlet propValue = property[ 2 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\n\t\t// for special case: base64 image data follows \"Content: ,\" line\n\t\t//\tContent: ,\n\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\n\t\tif ( propName === 'Content' && propValue === ',' ) {\n\n\t\t\tpropValue = contentLine.replace( /\"/g, '' ).replace( /,$/, '' ).trim();\n\n\t\t}\n\n\t\tconst currentNode = this.getCurrentNode();\n\t\tconst parentName = currentNode.name;\n\n\t\tif ( parentName === 'Properties70' ) {\n\n\t\t\tthis.parseNodeSpecialProperty( line, propName, propValue );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Connections\n\t\tif ( propName === 'C' ) {\n\n\t\t\tconst connProps = propValue.split( ',' ).slice( 1 );\n\t\t\tconst from = parseInt( connProps[ 0 ] );\n\t\t\tconst to = parseInt( connProps[ 1 ] );\n\n\t\t\tlet rest = propValue.split( ',' ).slice( 3 );\n\n\t\t\trest = rest.map( function ( elem ) {\n\n\t\t\t\treturn elem.trim().replace( /^\"/, '' );\n\n\t\t\t} );\n\n\t\t\tpropName = 'connections';\n\t\t\tpropValue = [ from, to ];\n\t\t\tappend( propValue, rest );\n\n\t\t\tif ( currentNode[ propName ] === undefined ) {\n\n\t\t\t\tcurrentNode[ propName ] = [];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Node\n\t\tif ( propName === 'Node' ) currentNode.id = propValue;\n\n\t\t// connections\n\t\tif ( propName in currentNode && Array.isArray( currentNode[ propName ] ) ) {\n\n\t\t\tcurrentNode[ propName ].push( propValue );\n\n\t\t} else {\n\n\t\t\tif ( propName !== 'a' ) currentNode[ propName ] = propValue;\n\t\t\telse currentNode.a = propValue;\n\n\t\t}\n\n\t\tthis.setCurrentProp( currentNode, propName );\n\n\t\t// convert string to array, unless it ends in ',' in which case more will be added to it\n\t\tif ( propName === 'a' && propValue.slice( - 1 ) !== ',' ) {\n\n\t\t\tcurrentNode.a = parseNumberArray( propValue );\n\n\t\t}\n\n\t}\n\n\tparseNodePropertyContinued( line ) {\n\n\t\tconst currentNode = this.getCurrentNode();\n\n\t\tcurrentNode.a += line;\n\n\t\t// if the line doesn't end in ',' we have reached the end of the property value\n\t\t// so convert the string to an array\n\t\tif ( line.slice( - 1 ) !== ',' ) {\n\n\t\t\tcurrentNode.a = parseNumberArray( currentNode.a );\n\n\t\t}\n\n\t}\n\n\t// parse \"Property70\"\n\tparseNodeSpecialProperty( line, propName, propValue ) {\n\n\t\t// split this\n\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n\t\t// into array like below\n\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n\t\tconst props = propValue.split( '\",' ).map( function ( prop ) {\n\n\t\t\treturn prop.trim().replace( /^\\\"/, '' ).replace( /\\s/, '_' );\n\n\t\t} );\n\n\t\tconst innerPropName = props[ 0 ];\n\t\tconst innerPropType1 = props[ 1 ];\n\t\tconst innerPropType2 = props[ 2 ];\n\t\tconst innerPropFlag = props[ 3 ];\n\t\tlet innerPropValue = props[ 4 ];\n\n\t\t// cast values where needed, otherwise leave as strings\n\t\tswitch ( innerPropType1 ) {\n\n\t\t\tcase 'int':\n\t\t\tcase 'enum':\n\t\t\tcase 'bool':\n\t\t\tcase 'ULongLong':\n\t\t\tcase 'double':\n\t\t\tcase 'Number':\n\t\t\tcase 'FieldOfView':\n\t\t\t\tinnerPropValue = parseFloat( innerPropValue );\n\t\t\t\tbreak;\n\n\t\t\tcase 'Color':\n\t\t\tcase 'ColorRGB':\n\t\t\tcase 'Vector3D':\n\t\t\tcase 'Lcl_Translation':\n\t\t\tcase 'Lcl_Rotation':\n\t\t\tcase 'Lcl_Scaling':\n\t\t\t\tinnerPropValue = parseNumberArray( innerPropValue );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// CAUTION: these props must append to parent's parent\n\t\tthis.getPrevNode()[ innerPropName ] = {\n\n\t\t\t'type': innerPropType1,\n\t\t\t'type2': innerPropType2,\n\t\t\t'flag': innerPropFlag,\n\t\t\t'value': innerPropValue\n\n\t\t};\n\n\t\tthis.setCurrentProp( this.getPrevNode(), innerPropName );\n\n\t}\n\n}\n\n// Parse an FBX file in Binary format\nclass BinaryParser {\n\n\tparse( buffer ) {\n\n\t\tconst reader = new BinaryReader( buffer );\n\t\treader.skip( 23 ); // skip magic 23 bytes\n\n\t\tconst version = reader.getUint32();\n\n\t\tif ( version < 6400 ) {\n\n\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + version );\n\n\t\t}\n\n\t\tconst allNodes = new FBXTree();\n\n\t\twhile ( ! this.endOfContent( reader ) ) {\n\n\t\t\tconst node = this.parseNode( reader, version );\n\t\t\tif ( node !== null ) allNodes.add( node.name, node );\n\n\t\t}\n\n\t\treturn allNodes;\n\n\t}\n\n\t// Check if reader has reached the end of content.\n\tendOfContent( reader ) {\n\n\t\t// footer size: 160bytes + 16-byte alignment padding\n\t\t// - 16bytes: magic\n\t\t// - padding til 16-byte alignment (at least 1byte?)\n\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\n\t\t// - 4bytes: magic\n\t\t// - 4bytes: version\n\t\t// - 120bytes: zero\n\t\t// - 16bytes: magic\n\t\tif ( reader.size() % 16 === 0 ) {\n\n\t\t\treturn ( ( reader.getOffset() + 160 + 16 ) & ~ 0xf ) >= reader.size();\n\n\t\t} else {\n\n\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\n\n\t\t}\n\n\t}\n\n\t// recursively parse nodes until the end of the file is reached\n\tparseNode( reader, version ) {\n\n\t\tconst node = {};\n\n\t\t// The first three data sizes depends on version.\n\t\tconst endOffset = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\t\tconst numProperties = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t( version >= 7500 ) ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\n\n\t\tconst nameLen = reader.getUint8();\n\t\tconst name = reader.getString( nameLen );\n\n\t\t// Regards this node as NULL-record if endOffset is zero\n\t\tif ( endOffset === 0 ) return null;\n\n\t\tconst propertyList = [];\n\n\t\tfor ( let i = 0; i < numProperties; i ++ ) {\n\n\t\t\tpropertyList.push( this.parseProperty( reader ) );\n\n\t\t}\n\n\t\t// Regards the first three elements in propertyList as id, attrName, and attrType\n\t\tconst id = propertyList.length > 0 ? propertyList[ 0 ] : '';\n\t\tconst attrName = propertyList.length > 1 ? propertyList[ 1 ] : '';\n\t\tconst attrType = propertyList.length > 2 ? propertyList[ 2 ] : '';\n\n\t\t// check if this node represents just a single property\n\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\t\tnode.singleProperty = ( numProperties === 1 && reader.getOffset() === endOffset ) ? true : false;\n\n\t\twhile ( endOffset > reader.getOffset() ) {\n\n\t\t\tconst subNode = this.parseNode( reader, version );\n\n\t\t\tif ( subNode !== null ) this.parseSubNode( name, node, subNode );\n\n\t\t}\n\n\t\tnode.propertyList = propertyList; // raw property list used by parent\n\n\t\tif ( typeof id === 'number' ) node.id = id;\n\t\tif ( attrName !== '' ) node.attrName = attrName;\n\t\tif ( attrType !== '' ) node.attrType = attrType;\n\t\tif ( name !== '' ) node.name = name;\n\n\t\treturn node;\n\n\t}\n\n\tparseSubNode( name, node, subNode ) {\n\n\t\t// special case: child node is single property\n\t\tif ( subNode.singleProperty === true ) {\n\n\t\t\tconst value = subNode.propertyList[ 0 ];\n\n\t\t\tif ( Array.isArray( value ) ) {\n\n\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\tsubNode.a = value;\n\n\t\t\t} else {\n\n\t\t\t\tnode[ subNode.name ] = value;\n\n\t\t\t}\n\n\t\t} else if ( name === 'Connections' && subNode.name === 'C' ) {\n\n\t\t\tconst array = [];\n\n\t\t\tsubNode.propertyList.forEach( function ( property, i ) {\n\n\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\n\t\t\t\tif ( i !== 0 ) array.push( property );\n\n\t\t\t} );\n\n\t\t\tif ( node.connections === undefined ) {\n\n\t\t\t\tnode.connections = [];\n\n\t\t\t}\n\n\t\t\tnode.connections.push( array );\n\n\t\t} else if ( subNode.name === 'Properties70' ) {\n\n\t\t\tconst keys = Object.keys( subNode );\n\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tnode[ key ] = subNode[ key ];\n\n\t\t\t} );\n\n\t\t} else if ( name === 'Properties70' && subNode.name === 'P' ) {\n\n\t\t\tlet innerPropName = subNode.propertyList[ 0 ];\n\t\t\tlet innerPropType1 = subNode.propertyList[ 1 ];\n\t\t\tconst innerPropType2 = subNode.propertyList[ 2 ];\n\t\t\tconst innerPropFlag = subNode.propertyList[ 3 ];\n\t\t\tlet innerPropValue;\n\n\t\t\tif ( innerPropName.indexOf( 'Lcl ' ) === 0 ) innerPropName = innerPropName.replace( 'Lcl ', 'Lcl_' );\n\t\t\tif ( innerPropType1.indexOf( 'Lcl ' ) === 0 ) innerPropType1 = innerPropType1.replace( 'Lcl ', 'Lcl_' );\n\n\t\t\tif ( innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf( 'Lcl_' ) === 0 ) {\n\n\t\t\t\tinnerPropValue = [\n\t\t\t\t\tsubNode.propertyList[ 4 ],\n\t\t\t\t\tsubNode.propertyList[ 5 ],\n\t\t\t\t\tsubNode.propertyList[ 6 ]\n\t\t\t\t];\n\n\t\t\t} else {\n\n\t\t\t\tinnerPropValue = subNode.propertyList[ 4 ];\n\n\t\t\t}\n\n\t\t\t// this will be copied to parent, see above\n\t\t\tnode[ innerPropName ] = {\n\n\t\t\t\t'type': innerPropType1,\n\t\t\t\t'type2': innerPropType2,\n\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t'value': innerPropValue\n\n\t\t\t};\n\n\t\t} else if ( node[ subNode.name ] === undefined ) {\n\n\t\t\tif ( typeof subNode.id === 'number' ) {\n\n\t\t\t\tnode[ subNode.name ] = {};\n\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t} else {\n\n\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( subNode.name === 'PoseNode' ) {\n\n\t\t\t\tif ( ! Array.isArray( node[ subNode.name ] ) ) {\n\n\t\t\t\t\tnode[ subNode.name ] = [ node[ subNode.name ] ];\n\n\t\t\t\t}\n\n\t\t\t\tnode[ subNode.name ].push( subNode );\n\n\t\t\t} else if ( node[ subNode.name ][ subNode.id ] === undefined ) {\n\n\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tparseProperty( reader ) {\n\n\t\tconst type = reader.getString( 1 );\n\t\tlet length;\n\n\t\tswitch ( type ) {\n\n\t\t\tcase 'C':\n\t\t\t\treturn reader.getBoolean();\n\n\t\t\tcase 'D':\n\t\t\t\treturn reader.getFloat64();\n\n\t\t\tcase 'F':\n\t\t\t\treturn reader.getFloat32();\n\n\t\t\tcase 'I':\n\t\t\t\treturn reader.getInt32();\n\n\t\t\tcase 'L':\n\t\t\t\treturn reader.getInt64();\n\n\t\t\tcase 'R':\n\t\t\t\tlength = reader.getUint32();\n\t\t\t\treturn reader.getArrayBuffer( length );\n\n\t\t\tcase 'S':\n\t\t\t\tlength = reader.getUint32();\n\t\t\t\treturn reader.getString( length );\n\n\t\t\tcase 'Y':\n\t\t\t\treturn reader.getInt16();\n\n\t\t\tcase 'b':\n\t\t\tcase 'c':\n\t\t\tcase 'd':\n\t\t\tcase 'f':\n\t\t\tcase 'i':\n\t\t\tcase 'l':\n\n\t\t\t\tconst arrayLength = reader.getUint32();\n\t\t\t\tconst encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\t\t\t\tconst compressedLength = reader.getUint32();\n\n\t\t\t\tif ( encoding === 0 ) {\n\n\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\treturn reader.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn reader.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\treturn reader.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\treturn reader.getInt32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\treturn reader.getInt64Array( arrayLength );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( typeof fflate === 'undefined' ) {\n\n\t\t\t\t\tconsole.error( 'THREE.FBXLoader: External library fflate.min.js required.' );\n\n\t\t\t\t}\n\n\t\t\t\tconst data = fflate.unzlibSync( new Uint8Array( reader.getArrayBuffer( compressedLength ) ) ); // eslint-disable-line no-undef\n\t\t\t\tconst reader2 = new BinaryReader( data.buffer );\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'b':\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\treturn reader2.getBooleanArray( arrayLength );\n\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\treturn reader2.getFloat64Array( arrayLength );\n\n\t\t\t\t\tcase 'f':\n\t\t\t\t\t\treturn reader2.getFloat32Array( arrayLength );\n\n\t\t\t\t\tcase 'i':\n\t\t\t\t\t\treturn reader2.getInt32Array( arrayLength );\n\n\t\t\t\t\tcase 'l':\n\t\t\t\t\t\treturn reader2.getInt64Array( arrayLength );\n\n\t\t\t\t}\n\n\t\t\t\tbreak; // cannot happen but is required by the DeepScan\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown property type ' + type );\n\n\t\t}\n\n\t}\n\n}\n\nclass BinaryReader {\n\n\tconstructor( buffer, littleEndian ) {\n\n\t\tthis.dv = new DataView( buffer );\n\t\tthis.offset = 0;\n\t\tthis.littleEndian = ( littleEndian !== undefined ) ? littleEndian : true;\n\n\t}\n\n\tgetOffset() {\n\n\t\treturn this.offset;\n\n\t}\n\n\tsize() {\n\n\t\treturn this.dv.buffer.byteLength;\n\n\t}\n\n\tskip( length ) {\n\n\t\tthis.offset += length;\n\n\t}\n\n\t// seems like true/false representation depends on exporter.\n\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n\t// then sees LSB.\n\tgetBoolean() {\n\n\t\treturn ( this.getUint8() & 1 ) === 1;\n\n\t}\n\n\tgetBooleanArray( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getBoolean() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetUint8() {\n\n\t\tconst value = this.dv.getUint8( this.offset );\n\t\tthis.offset += 1;\n\t\treturn value;\n\n\t}\n\n\tgetInt16() {\n\n\t\tconst value = this.dv.getInt16( this.offset, this.littleEndian );\n\t\tthis.offset += 2;\n\t\treturn value;\n\n\t}\n\n\tgetInt32() {\n\n\t\tconst value = this.dv.getInt32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\tgetInt32Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getInt32() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetUint32() {\n\n\t\tconst value = this.dv.getUint32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\t// JavaScript doesn't support 64-bit integer so calculate this here\n\t// 1 << 32 will return 1 so using multiply operation instead here.\n\t// There's a possibility that this method returns wrong value if the value\n\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n\t// TODO: safely handle 64-bit integer\n\tgetInt64() {\n\n\t\tlet low, high;\n\n\t\tif ( this.littleEndian ) {\n\n\t\t\tlow = this.getUint32();\n\t\t\thigh = this.getUint32();\n\n\t\t} else {\n\n\t\t\thigh = this.getUint32();\n\t\t\tlow = this.getUint32();\n\n\t\t}\n\n\t\t// calculate negative value\n\t\tif ( high & 0x80000000 ) {\n\n\t\t\thigh = ~ high & 0xFFFFFFFF;\n\t\t\tlow = ~ low & 0xFFFFFFFF;\n\n\t\t\tif ( low === 0xFFFFFFFF ) high = ( high + 1 ) & 0xFFFFFFFF;\n\n\t\t\tlow = ( low + 1 ) & 0xFFFFFFFF;\n\n\t\t\treturn - ( high * 0x100000000 + low );\n\n\t\t}\n\n\t\treturn high * 0x100000000 + low;\n\n\t}\n\n\tgetInt64Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getInt64() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\t// Note: see getInt64() comment\n\tgetUint64() {\n\n\t\tlet low, high;\n\n\t\tif ( this.littleEndian ) {\n\n\t\t\tlow = this.getUint32();\n\t\t\thigh = this.getUint32();\n\n\t\t} else {\n\n\t\t\thigh = this.getUint32();\n\t\t\tlow = this.getUint32();\n\n\t\t}\n\n\t\treturn high * 0x100000000 + low;\n\n\t}\n\n\tgetFloat32() {\n\n\t\tconst value = this.dv.getFloat32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\tgetFloat32Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getFloat32() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetFloat64() {\n\n\t\tconst value = this.dv.getFloat64( this.offset, this.littleEndian );\n\t\tthis.offset += 8;\n\t\treturn value;\n\n\t}\n\n\tgetFloat64Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getFloat64() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetArrayBuffer( size ) {\n\n\t\tconst value = this.dv.buffer.slice( this.offset, this.offset + size );\n\t\tthis.offset += size;\n\t\treturn value;\n\n\t}\n\n\tgetString( size ) {\n\n\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n\t\tlet a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta[ i ] = this.getUint8();\n\n\t\t}\n\n\t\tconst nullByte = a.indexOf( 0 );\n\t\tif ( nullByte >= 0 ) a = a.slice( 0, nullByte );\n\n\t\treturn LoaderUtils.decodeText( new Uint8Array( a ) );\n\n\t}\n\n}\n\n// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n// and BinaryParser( FBX Binary format)\nclass FBXTree {\n\n\tadd( key, val ) {\n\n\t\tthis[ key ] = val;\n\n\t}\n\n}\n\n// ************** UTILITY FUNCTIONS **************\n\nfunction isFbxFormatBinary( buffer ) {\n\n\tconst CORRECT = 'Kaydara\\u0020FBX\\u0020Binary\\u0020\\u0020\\0';\n\n\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString( buffer, 0, CORRECT.length );\n\n}\n\nfunction isFbxFormatASCII( text ) {\n\n\tconst CORRECT = [ 'K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\' ];\n\n\tlet cursor = 0;\n\n\tfunction read( offset ) {\n\n\t\tconst result = text[ offset - 1 ];\n\t\ttext = text.slice( cursor + offset );\n\t\tcursor ++;\n\t\treturn result;\n\n\t}\n\n\tfor ( let i = 0; i < CORRECT.length; ++ i ) {\n\n\t\tconst num = read( 1 );\n\t\tif ( num === CORRECT[ i ] ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nfunction getFbxVersion( text ) {\n\n\tconst versionRegExp = /FBXVersion: (\\d+)/;\n\tconst match = text.match( versionRegExp );\n\n\tif ( match ) {\n\n\t\tconst version = parseInt( match[ 1 ] );\n\t\treturn version;\n\n\t}\n\n\tthrow new Error( 'THREE.FBXLoader: Cannot find the version number for the file given.' );\n\n}\n\n// Converts FBX ticks into real time seconds.\nfunction convertFBXTimeToSeconds( time ) {\n\n\treturn time / 46186158000;\n\n}\n\nconst dataArray = [];\n\n// extracts the data from the correct position in the FBX array based on indexing type\nfunction getData( polygonVertexIndex, polygonIndex, vertexIndex, infoObject ) {\n\n\tlet index;\n\n\tswitch ( infoObject.mappingType ) {\n\n\t\tcase 'ByPolygonVertex' :\n\t\t\tindex = polygonVertexIndex;\n\t\t\tbreak;\n\t\tcase 'ByPolygon' :\n\t\t\tindex = polygonIndex;\n\t\t\tbreak;\n\t\tcase 'ByVertice' :\n\t\t\tindex = vertexIndex;\n\t\t\tbreak;\n\t\tcase 'AllSame' :\n\t\t\tindex = infoObject.indices[ 0 ];\n\t\t\tbreak;\n\t\tdefault :\n\t\t\tconsole.warn( 'THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType );\n\n\t}\n\n\tif ( infoObject.referenceType === 'IndexToDirect' ) index = infoObject.indices[ index ];\n\n\tconst from = index * infoObject.dataSize;\n\tconst to = from + infoObject.dataSize;\n\n\treturn slice( dataArray, infoObject.buffer, from, to );\n\n}\n\nconst tempEuler = new Euler();\nconst tempVec = new Vector3();\n\n// generate transformation from FBX transform data\n// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\nfunction generateTransform( transformData ) {\n\n\tconst lTranslationM = new Matrix4();\n\tconst lPreRotationM = new Matrix4();\n\tconst lRotationM = new Matrix4();\n\tconst lPostRotationM = new Matrix4();\n\n\tconst lScalingM = new Matrix4();\n\tconst lScalingPivotM = new Matrix4();\n\tconst lScalingOffsetM = new Matrix4();\n\tconst lRotationOffsetM = new Matrix4();\n\tconst lRotationPivotM = new Matrix4();\n\n\tconst lParentGX = new Matrix4();\n\tconst lParentLX = new Matrix4();\n\tconst lGlobalT = new Matrix4();\n\n\tconst inheritType = ( transformData.inheritType ) ? transformData.inheritType : 0;\n\n\tif ( transformData.translation ) lTranslationM.setPosition( tempVec.fromArray( transformData.translation ) );\n\n\tif ( transformData.preRotation ) {\n\n\t\tconst array = transformData.preRotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlPreRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t}\n\n\tif ( transformData.rotation ) {\n\n\t\tconst array = transformData.rotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t}\n\n\tif ( transformData.postRotation ) {\n\n\t\tconst array = transformData.postRotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlPostRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\t\tlPostRotationM.invert();\n\n\t}\n\n\tif ( transformData.scale ) lScalingM.scale( tempVec.fromArray( transformData.scale ) );\n\n\t// Pivots and offsets\n\tif ( transformData.scalingOffset ) lScalingOffsetM.setPosition( tempVec.fromArray( transformData.scalingOffset ) );\n\tif ( transformData.scalingPivot ) lScalingPivotM.setPosition( tempVec.fromArray( transformData.scalingPivot ) );\n\tif ( transformData.rotationOffset ) lRotationOffsetM.setPosition( tempVec.fromArray( transformData.rotationOffset ) );\n\tif ( transformData.rotationPivot ) lRotationPivotM.setPosition( tempVec.fromArray( transformData.rotationPivot ) );\n\n\t// parent transform\n\tif ( transformData.parentMatrixWorld ) {\n\n\t\tlParentLX.copy( transformData.parentMatrix );\n\t\tlParentGX.copy( transformData.parentMatrixWorld );\n\n\t}\n\n\tconst lLRM = lPreRotationM.clone().multiply( lRotationM ).multiply( lPostRotationM );\n\t// Global Rotation\n\tconst lParentGRM = new Matrix4();\n\tlParentGRM.extractRotation( lParentGX );\n\n\t// Global Shear*Scaling\n\tconst lParentTM = new Matrix4();\n\tlParentTM.copyPosition( lParentGX );\n\n\tconst lParentGRSM = lParentTM.clone().invert().multiply( lParentGX );\n\tconst lParentGSM = lParentGRM.clone().invert().multiply( lParentGRSM );\n\tconst lLSM = lScalingM;\n\n\tconst lGlobalRS = new Matrix4();\n\n\tif ( inheritType === 0 ) {\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM ).multiply( lLSM );\n\n\t} else if ( inheritType === 1 ) {\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lParentGSM ).multiply( lLRM ).multiply( lLSM );\n\n\t} else {\n\n\t\tconst lParentLSM = new Matrix4().scale( new Vector3().setFromMatrixScale( lParentLX ) );\n\t\tconst lParentLSM_inv = lParentLSM.clone().invert();\n\t\tconst lParentGSM_noLocal = lParentGSM.clone().multiply( lParentLSM_inv );\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM_noLocal ).multiply( lLSM );\n\n\t}\n\n\tconst lRotationPivotM_inv = lRotationPivotM.clone().invert();\n\tconst lScalingPivotM_inv = lScalingPivotM.clone().invert();\n\t// Calculate the local transform matrix\n\tlet lTransform = lTranslationM.clone().multiply( lRotationOffsetM ).multiply( lRotationPivotM ).multiply( lPreRotationM ).multiply( lRotationM ).multiply( lPostRotationM ).multiply( lRotationPivotM_inv ).multiply( lScalingOffsetM ).multiply( lScalingPivotM ).multiply( lScalingM ).multiply( lScalingPivotM_inv );\n\n\tconst lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition( lTransform );\n\n\tconst lGlobalTranslation = lParentGX.clone().multiply( lLocalTWithAllPivotAndOffsetInfo );\n\tlGlobalT.copyPosition( lGlobalTranslation );\n\n\tlTransform = lGlobalT.clone().multiply( lGlobalRS );\n\n\t// from global to local\n\tlTransform.premultiply( lParentGX.invert() );\n\n\treturn lTransform;\n\n}\n\n// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\nfunction getEulerOrder( order ) {\n\n\torder = order || 0;\n\n\tconst enums = [\n\t\t'ZYX', // -> XYZ extrinsic\n\t\t'YZX', // -> XZY extrinsic\n\t\t'XZY', // -> YZX extrinsic\n\t\t'ZXY', // -> YXZ extrinsic\n\t\t'YXZ', // -> ZXY extrinsic\n\t\t'XYZ', // -> ZYX extrinsic\n\t\t//'SphericXYZ', // not possible to support\n\t];\n\n\tif ( order === 6 ) {\n\n\t\tconsole.warn( 'THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.' );\n\t\treturn enums[ 0 ];\n\n\t}\n\n\treturn enums[ order ];\n\n}\n\n// Parses comma separated list of numbers and returns them an array.\n// Used internally by the TextParser\nfunction parseNumberArray( value ) {\n\n\tconst array = value.split( ',' ).map( function ( val ) {\n\n\t\treturn parseFloat( val );\n\n\t} );\n\n\treturn array;\n\n}\n\nfunction convertArrayBufferToString( buffer, from, to ) {\n\n\tif ( from === undefined ) from = 0;\n\tif ( to === undefined ) to = buffer.byteLength;\n\n\treturn LoaderUtils.decodeText( new Uint8Array( buffer, from, to ) );\n\n}\n\nfunction append( a, b ) {\n\n\tfor ( let i = 0, j = a.length, l = b.length; i < l; i ++, j ++ ) {\n\n\t\ta[ j ] = b[ i ];\n\n\t}\n\n}\n\nfunction slice( a, b, from, to ) {\n\n\tfor ( let i = from, j = 0; i < to; i ++, j ++ ) {\n\n\t\ta[ j ] = b[ i ];\n\n\t}\n\n\treturn a;\n\n}\n\n// inject array a2 into array a1 at index\nfunction inject( a1, index, a2 ) {\n\n\treturn a1.slice( 0, index ).concat( a2 ).concat( a1.slice( index ) );\n\n}\n\nexport { FBXLoader };\n","import {\n\tDataTextureLoader,\n\tLinearMipmapLinearFilter\n} from 'three';\n\nclass TGALoader extends DataTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tparse( buffer ) {\n\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\n\n\t\tfunction tgaCheckHeader( header ) {\n\n\t\t\tswitch ( header.image_type ) {\n\n\t\t\t\t// check indexed type\n\n\t\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// check colormap type\n\n\t\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\t\tif ( header.colormap_type ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// What the need of a file without data ?\n\n\t\t\t\tcase TGA_TYPE_NO_DATA:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t\t\t\t// Invalid type ?\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\n\n\t\t\t}\n\n\t\t\t// check image width and height\n\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\n\n\t\t\t}\n\n\t\t\t// check image pixel size\n\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// parse tga image buffer\n\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\n\n\t\t\tlet pixel_data,\n\t\t\t\tpalettes;\n\n\t\t\tconst pixel_size = header.pixel_size >> 3;\n\t\t\tconst pixel_total = header.width * header.height * pixel_size;\n\n\t\t\t // read palettes\n\n\t\t\t if ( use_pal ) {\n\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\n\n\t\t\t }\n\n\t\t\t // read RLE\n\n\t\t\t if ( use_rle ) {\n\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\n\n\t\t\t\tlet c, count, i;\n\t\t\t\tlet shift = 0;\n\t\t\t\tconst pixels = new Uint8Array( pixel_size );\n\n\t\t\t\twhile ( shift < pixel_total ) {\n\n\t\t\t\t\tc = data[ offset ++ ];\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\n\n\t\t\t\t\t// RLE pixels\n\n\t\t\t\t\tif ( c & 0x80 ) {\n\n\t\t\t\t\t\t// bind pixel tmp array\n\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\n\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// copy pixel array\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += pixel_size * count;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// raw pixels\n\n\t\t\t\t\t\tcount *= pixel_size;\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += count;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t } else {\n\n\t\t\t\t// raw pixels\n\n\t\t\t\tpixel_data = data.subarray(\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\n\t\t\t\t);\n\n\t\t\t }\n\n\t\t\t return {\n\t\t\t\tpixel_data: pixel_data,\n\t\t\t\tpalettes: palettes\n\t\t\t };\n\n\t\t}\n\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\n\n\t\t\tconst colormap = palettes;\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 );\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) << 3;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\n\n\t\t\tlet x_start,\n\t\t\t\ty_start,\n\t\t\t\tx_step,\n\t\t\t\ty_step,\n\t\t\t\tx_end,\n\t\t\t\ty_end;\n\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\n\n\t\t\t\tdefault:\n\t\t\t\tcase TGA_ORIGIN_UL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_UR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( use_grey ) {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 24:\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Load image data according to specific method\n\t\t\t// let func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// TGA constants\n\n\t\tconst TGA_TYPE_NO_DATA = 0,\n\t\t\tTGA_TYPE_INDEXED = 1,\n\t\t\tTGA_TYPE_RGB = 2,\n\t\t\tTGA_TYPE_GREY = 3,\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\n\t\t\tTGA_TYPE_RLE_RGB = 10,\n\t\t\tTGA_TYPE_RLE_GREY = 11,\n\n\t\t\tTGA_ORIGIN_MASK = 0x30,\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\n\t\t\tTGA_ORIGIN_BL = 0x00,\n\t\t\tTGA_ORIGIN_BR = 0x01,\n\t\t\tTGA_ORIGIN_UL = 0x02,\n\t\t\tTGA_ORIGIN_UR = 0x03;\n\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\n\n\t\tlet offset = 0;\n\n\t\tconst content = new Uint8Array( buffer ),\n\t\t\theader = {\n\t\t\t\tid_length: content[ offset ++ ],\n\t\t\t\tcolormap_type: content[ offset ++ ],\n\t\t\t\timage_type: content[ offset ++ ],\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_size: content[ offset ++ ],\n\t\t\t\torigin: [\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\n\t\t\t\t],\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tpixel_size: content[ offset ++ ],\n\t\t\t\tflags: content[ offset ++ ]\n\t\t\t};\n\n\t\t// check tga if it is valid format\n\n\t\ttgaCheckHeader( header );\n\n\t\tif ( header.id_length + offset > buffer.length ) {\n\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t}\n\n\t\t// skip the needn't data\n\n\t\toffset += header.id_length;\n\n\t\t// get targa information about RLE compression and palette\n\n\t\tlet use_rle = false,\n\t\t\tuse_pal = false,\n\t\t\tuse_grey = false;\n\n\t\tswitch ( header.image_type ) {\n\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tuse_rle = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//\n\n\t\tconst imageData = new Uint8Array( header.width * header.height * 4 );\n\t\tconst result = tgaParse( use_rle, use_pal, header, offset, content );\n\t\tgetTgaRGBA( imageData, header.width, header.height, result.pixel_data, result.palettes );\n\n\t\treturn {\n\n\t\t\tdata: imageData,\n\t\t\twidth: header.width,\n\t\t\theight: header.height,\n\t\t\tflipY: true,\n\t\t\tgenerateMipmaps: true,\n\t\t\tminFilter: LinearMipmapLinearFilter,\n\n\t\t};\n\n\t}\n\n}\n\nexport { TGALoader };\n","import {\n\tAmbientLight,\n\tAnimationClip,\n\tBone,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tEuler,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tFrontSide,\n\tGroup,\n\tLine,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tLoaderUtils,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshLambertMaterial,\n\tMeshPhongMaterial,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tScene,\n\tSkeleton,\n\tSkinnedMesh,\n\tSpotLight,\n\tTextureLoader,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\nimport { TGALoader } from '../loaders/TGALoader.js';\n\nclass ColladaLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( text, path ) {\n\n\t\tfunction getElementsByTagName( xml, name ) {\n\n\t\t\t// Non recursive xml.getElementsByTagName() ...\n\n\t\t\tconst array = [];\n\t\t\tconst childNodes = xml.childNodes;\n\n\t\t\tfor ( let i = 0, l = childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = childNodes[ i ];\n\n\t\t\t\tif ( child.nodeName === name ) {\n\n\t\t\t\t\tarray.push( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseStrings( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parts[ i ];\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseFloats( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseFloat( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseInts( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseInt( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseId( text ) {\n\n\t\t\treturn text.substring( 1 );\n\n\t\t}\n\n\t\tfunction generateId() {\n\n\t\t\treturn 'three_default_' + ( count ++ );\n\n\t\t}\n\n\t\tfunction isEmpty( object ) {\n\n\t\t\treturn Object.keys( object ).length === 0;\n\n\t\t}\n\n\t\t// asset\n\n\t\tfunction parseAsset( xml ) {\n\n\t\t\treturn {\n\t\t\t\tunit: parseAssetUnit( getElementsByTagName( xml, 'unit' )[ 0 ] ),\n\t\t\t\tupAxis: parseAssetUpAxis( getElementsByTagName( xml, 'up_axis' )[ 0 ] )\n\t\t\t};\n\n\t\t}\n\n\t\tfunction parseAssetUnit( xml ) {\n\n\t\t\tif ( ( xml !== undefined ) && ( xml.hasAttribute( 'meter' ) === true ) ) {\n\n\t\t\t\treturn parseFloat( xml.getAttribute( 'meter' ) );\n\n\t\t\t} else {\n\n\t\t\t\treturn 1; // default 1 meter\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAssetUpAxis( xml ) {\n\n\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\n\n\t\t}\n\n\t\t// library\n\n\t\tfunction parseLibrary( xml, libraryName, nodeName, parser ) {\n\n\t\t\tconst library = getElementsByTagName( xml, libraryName )[ 0 ];\n\n\t\t\tif ( library !== undefined ) {\n\n\t\t\t\tconst elements = getElementsByTagName( library, nodeName );\n\n\t\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\t\tparser( elements[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildLibrary( data, builder ) {\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tconst object = data[ name ];\n\t\t\t\tobject.build = builder( data[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// get\n\n\t\tfunction getBuild( data, builder ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\tdata.build = builder( data );\n\n\t\t\treturn data.build;\n\n\t\t}\n\n\t\t// animation\n\n\t\tfunction parseAnimation( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsources: {},\n\t\t\t\tsamplers: {},\n\t\t\t\tchannels: {}\n\t\t\t};\n\n\t\t\tlet hasChildren = false;\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet id;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.samplers[ id ] = parseAnimationSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'channel':\n\t\t\t\t\t\tid = child.getAttribute( 'target' );\n\t\t\t\t\t\tdata.channels[ id ] = parseAnimationChannel( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'animation':\n\t\t\t\t\t\t// hierarchy of related animations\n\t\t\t\t\t\tparseAnimation( child );\n\t\t\t\t\t\thasChildren = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasChildren === false ) {\n\n\t\t\t\t// since 'id' attributes can be optional, it's necessary to generate a UUID for unqiue assignment\n\n\t\t\t\tlibrary.animations[ xml.getAttribute( 'id' ) || MathUtils.generateUUID() ] = data;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAnimationSampler( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {},\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseAnimationChannel( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tconst target = xml.getAttribute( 'target' );\n\n\t\t\t// parsing SID Addressing Syntax\n\n\t\t\tlet parts = target.split( '/' );\n\n\t\t\tconst id = parts.shift();\n\t\t\tlet sid = parts.shift();\n\n\t\t\t// check selection syntax\n\n\t\t\tconst arraySyntax = ( sid.indexOf( '(' ) !== - 1 );\n\t\t\tconst memberSyntax = ( sid.indexOf( '.' ) !== - 1 );\n\n\t\t\tif ( memberSyntax ) {\n\n\t\t\t\t//  member selection access\n\n\t\t\t\tparts = sid.split( '.' );\n\t\t\t\tsid = parts.shift();\n\t\t\t\tdata.member = parts.shift();\n\n\t\t\t} else if ( arraySyntax ) {\n\n\t\t\t\t// array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\n\n\t\t\t\tconst indices = sid.split( '(' );\n\t\t\t\tsid = indices.shift();\n\n\t\t\t\tfor ( let i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\t\tindices[ i ] = parseInt( indices[ i ].replace( /\\)/, '' ) );\n\n\t\t\t\t}\n\n\t\t\t\tdata.indices = indices;\n\n\t\t\t}\n\n\t\t\tdata.id = id;\n\t\t\tdata.sid = sid;\n\n\t\t\tdata.arraySyntax = arraySyntax;\n\t\t\tdata.memberSyntax = memberSyntax;\n\n\t\t\tdata.sampler = parseId( xml.getAttribute( 'source' ) );\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildAnimation( data ) {\n\n\t\t\tconst tracks = [];\n\n\t\t\tconst channels = data.channels;\n\t\t\tconst samplers = data.samplers;\n\t\t\tconst sources = data.sources;\n\n\t\t\tfor ( const target in channels ) {\n\n\t\t\t\tif ( channels.hasOwnProperty( target ) ) {\n\n\t\t\t\t\tconst channel = channels[ target ];\n\t\t\t\t\tconst sampler = samplers[ channel.sampler ];\n\n\t\t\t\t\tconst inputId = sampler.inputs.INPUT;\n\t\t\t\t\tconst outputId = sampler.inputs.OUTPUT;\n\n\t\t\t\t\tconst inputSource = sources[ inputId ];\n\t\t\t\t\tconst outputSource = sources[ outputId ];\n\n\t\t\t\t\tconst animation = buildAnimationChannel( channel, inputSource, outputSource );\n\n\t\t\t\t\tcreateKeyframeTracks( animation, tracks );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction getAnimation( id ) {\n\n\t\t\treturn getBuild( library.animations[ id ], buildAnimation );\n\n\t\t}\n\n\t\tfunction buildAnimationChannel( channel, inputSource, outputSource ) {\n\n\t\t\tconst node = library.nodes[ channel.id ];\n\t\t\tconst object3D = getNode( node.id );\n\n\t\t\tconst transform = node.transforms[ channel.sid ];\n\t\t\tconst defaultMatrix = node.matrix.clone().transpose();\n\n\t\t\tlet time, stride;\n\t\t\tlet i, il, j, jl;\n\n\t\t\tconst data = {};\n\n\t\t\t// the collada spec allows the animation of data in various ways.\n\t\t\t// depending on the transform type (matrix, translate, rotate, scale), we execute different logic\n\n\t\t\tswitch ( transform ) {\n\n\t\t\t\tcase 'matrix':\n\n\t\t\t\t\tfor ( i = 0, il = inputSource.array.length; i < il; i ++ ) {\n\n\t\t\t\t\t\ttime = inputSource.array[ i ];\n\t\t\t\t\t\tstride = i * outputSource.stride;\n\n\t\t\t\t\t\tif ( data[ time ] === undefined ) data[ time ] = {};\n\n\t\t\t\t\t\tif ( channel.arraySyntax === true ) {\n\n\t\t\t\t\t\t\tconst value = outputSource.array[ stride ];\n\t\t\t\t\t\t\tconst index = channel.indices[ 0 ] + 4 * channel.indices[ 1 ];\n\n\t\t\t\t\t\t\tdata[ time ][ index ] = value;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( j = 0, jl = outputSource.stride; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\t\tdata[ time ][ j ] = outputSource.array[ stride + j ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'scale':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tconst keyframes = prepareAnimationData( data, defaultMatrix );\n\n\t\t\tconst animation = {\n\t\t\t\tname: object3D.uuid,\n\t\t\t\tkeyframes: keyframes\n\t\t\t};\n\n\t\t\treturn animation;\n\n\t\t}\n\n\t\tfunction prepareAnimationData( data, defaultMatrix ) {\n\n\t\t\tconst keyframes = [];\n\n\t\t\t// transfer data into a sortable array\n\n\t\t\tfor ( const time in data ) {\n\n\t\t\t\tkeyframes.push( { time: parseFloat( time ), value: data[ time ] } );\n\n\t\t\t}\n\n\t\t\t// ensure keyframes are sorted by time\n\n\t\t\tkeyframes.sort( ascending );\n\n\t\t\t// now we clean up all animation data, so we can use them for keyframe tracks\n\n\t\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\t\ttransformAnimationData( keyframes, i, defaultMatrix.elements[ i ] );\n\n\t\t\t}\n\n\t\t\treturn keyframes;\n\n\t\t\t// array sort function\n\n\t\t\tfunction ascending( a, b ) {\n\n\t\t\t\treturn a.time - b.time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst position = new Vector3();\n\t\tconst scale = new Vector3();\n\t\tconst quaternion = new Quaternion();\n\n\t\tfunction createKeyframeTracks( animation, tracks ) {\n\n\t\t\tconst keyframes = animation.keyframes;\n\t\t\tconst name = animation.name;\n\n\t\t\tconst times = [];\n\t\t\tconst positionData = [];\n\t\t\tconst quaternionData = [];\n\t\t\tconst scaleData = [];\n\n\t\t\tfor ( let i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tconst time = keyframe.time;\n\t\t\t\tconst value = keyframe.value;\n\n\t\t\t\tmatrix.fromArray( value ).transpose();\n\t\t\t\tmatrix.decompose( position, quaternion, scale );\n\n\t\t\t\ttimes.push( time );\n\t\t\t\tpositionData.push( position.x, position.y, position.z );\n\t\t\t\tquaternionData.push( quaternion.x, quaternion.y, quaternion.z, quaternion.w );\n\t\t\t\tscaleData.push( scale.x, scale.y, scale.z );\n\n\t\t\t}\n\n\t\t\tif ( positionData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.position', times, positionData ) );\n\t\t\tif ( quaternionData.length > 0 ) tracks.push( new QuaternionKeyframeTrack( name + '.quaternion', times, quaternionData ) );\n\t\t\tif ( scaleData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.scale', times, scaleData ) );\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction transformAnimationData( keyframes, property, defaultValue ) {\n\n\t\t\tlet keyframe;\n\n\t\t\tlet empty = true;\n\t\t\tlet i, l;\n\n\t\t\t// check, if values of a property are missing in our keyframes\n\n\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === undefined ) {\n\n\t\t\t\t\tkeyframe.value[ property ] = null; // mark as missing\n\n\t\t\t\t} else {\n\n\t\t\t\t\tempty = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( empty === true ) {\n\n\t\t\t\t// no values at all, so we set a default value\n\n\t\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\t\tkeyframe.value[ property ] = defaultValue;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// filling gaps\n\n\t\t\t\tcreateMissingKeyframes( keyframes, property );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction createMissingKeyframes( keyframes, property ) {\n\n\t\t\tlet prev, next;\n\n\t\t\tfor ( let i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === null ) {\n\n\t\t\t\t\tprev = getPrev( keyframes, i, property );\n\t\t\t\t\tnext = getNext( keyframes, i, property );\n\n\t\t\t\t\tif ( prev === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = next.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( next === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = prev.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tinterpolate( keyframe, prev, next, property );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getPrev( keyframes, i, property ) {\n\n\t\t\twhile ( i >= 0 ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti --;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction getNext( keyframes, i, property ) {\n\n\t\t\twhile ( i < keyframes.length ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction interpolate( key, prev, next, property ) {\n\n\t\t\tif ( ( next.time - prev.time ) === 0 ) {\n\n\t\t\t\tkey.value[ property ] = prev.value[ property ];\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tkey.value[ property ] = ( ( key.time - prev.time ) * ( next.value[ property ] - prev.value[ property ] ) / ( next.time - prev.time ) ) + prev.value[ property ];\n\n\t\t}\n\n\t\t// animation clips\n\n\t\tfunction parseAnimationClip( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'id' ) || 'default',\n\t\t\t\tstart: parseFloat( xml.getAttribute( 'start' ) || 0 ),\n\t\t\t\tend: parseFloat( xml.getAttribute( 'end' ) || 0 ),\n\t\t\t\tanimations: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_animation':\n\t\t\t\t\t\tdata.animations.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.clips[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildAnimationClip( data ) {\n\n\t\t\tconst tracks = [];\n\n\t\t\tconst name = data.name;\n\t\t\tconst duration = ( data.end - data.start ) || - 1;\n\t\t\tconst animations = data.animations;\n\n\t\t\tfor ( let i = 0, il = animations.length; i < il; i ++ ) {\n\n\t\t\t\tconst animationTracks = getAnimation( animations[ i ] );\n\n\t\t\t\tfor ( let j = 0, jl = animationTracks.length; j < jl; j ++ ) {\n\n\t\t\t\t\ttracks.push( animationTracks[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new AnimationClip( name, duration, tracks );\n\n\t\t}\n\n\t\tfunction getAnimationClip( id ) {\n\n\t\t\treturn getBuild( library.clips[ id ], buildAnimationClip );\n\n\t\t}\n\n\t\t// controller\n\n\t\tfunction parseController( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'skin':\n\t\t\t\t\t\t// there is exactly one skin per controller\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.skin = parseSkin( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'morph':\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Morph target animation not supported yet.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.controllers[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSkin( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsources: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_shape_matrix':\n\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tconst id = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'joints':\n\t\t\t\t\t\tdata.joints = parseJoints( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertex_weights':\n\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseJoints( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseVertexWeights( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = { id: id, offset: offset };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tdata.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tdata.v = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildController( data ) {\n\n\t\t\tconst build = {\n\t\t\t\tid: data.id\n\t\t\t};\n\n\t\t\tconst geometry = library.geometries[ build.id ];\n\n\t\t\tif ( data.skin !== undefined ) {\n\n\t\t\t\tbuild.skin = buildSkin( data.skin );\n\n\t\t\t\t// we enhance the 'sources' property of the corresponding geometry with our skin data\n\n\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\n\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildSkin( data ) {\n\n\t\t\tconst BONE_LIMIT = 4;\n\n\t\t\tconst build = {\n\t\t\t\tjoints: [], // this must be an array to preserve the joint order\n\t\t\t\tindices: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t},\n\t\t\t\tweights: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst sources = data.sources;\n\t\t\tconst vertexWeights = data.vertexWeights;\n\n\t\t\tconst vcount = vertexWeights.vcount;\n\t\t\tconst v = vertexWeights.v;\n\t\t\tconst jointOffset = vertexWeights.inputs.JOINT.offset;\n\t\t\tconst weightOffset = vertexWeights.inputs.WEIGHT.offset;\n\n\t\t\tconst jointSource = data.sources[ data.joints.inputs.JOINT ];\n\t\t\tconst inverseSource = data.sources[ data.joints.inputs.INV_BIND_MATRIX ];\n\n\t\t\tconst weights = sources[ vertexWeights.inputs.WEIGHT.id ].array;\n\t\t\tlet stride = 0;\n\n\t\t\tlet i, j, l;\n\n\t\t\t// procces skin data for each vertex\n\n\t\t\tfor ( i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\tconst jointCount = vcount[ i ]; // this is the amount of joints that affect a single vertex\n\t\t\t\tconst vertexSkinData = [];\n\n\t\t\t\tfor ( j = 0; j < jointCount; j ++ ) {\n\n\t\t\t\t\tconst skinIndex = v[ stride + jointOffset ];\n\t\t\t\t\tconst weightId = v[ stride + weightOffset ];\n\t\t\t\t\tconst skinWeight = weights[ weightId ];\n\n\t\t\t\t\tvertexSkinData.push( { index: skinIndex, weight: skinWeight } );\n\n\t\t\t\t\tstride += 2;\n\n\t\t\t\t}\n\n\t\t\t\t// we sort the joints in descending order based on the weights.\n\t\t\t\t// this ensures, we only procced the most important joints of the vertex\n\n\t\t\t\tvertexSkinData.sort( descending );\n\n\t\t\t\t// now we provide for each vertex a set of four index and weight values.\n\t\t\t\t// the order of the skin data matches the order of vertices\n\n\t\t\t\tfor ( j = 0; j < BONE_LIMIT; j ++ ) {\n\n\t\t\t\t\tconst d = vertexSkinData[ j ];\n\n\t\t\t\t\tif ( d !== undefined ) {\n\n\t\t\t\t\t\tbuild.indices.array.push( d.index );\n\t\t\t\t\t\tbuild.weights.array.push( d.weight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbuild.indices.array.push( 0 );\n\t\t\t\t\t\tbuild.weights.array.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup bind matrix\n\n\t\t\tif ( data.bindShapeMatrix ) {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().fromArray( data.bindShapeMatrix ).transpose();\n\n\t\t\t} else {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().identity();\n\n\t\t\t}\n\n\t\t\t// process bones and inverse bind matrix data\n\n\t\t\tfor ( i = 0, l = jointSource.array.length; i < l; i ++ ) {\n\n\t\t\t\tconst name = jointSource.array[ i ];\n\t\t\t\tconst boneInverse = new Matrix4().fromArray( inverseSource.array, i * inverseSource.stride ).transpose();\n\n\t\t\t\tbuild.joints.push( { name: name, boneInverse: boneInverse } );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t\t// array sort function\n\n\t\t\tfunction descending( a, b ) {\n\n\t\t\t\treturn b.weight - a.weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getController( id ) {\n\n\t\t\treturn getBuild( library.controllers[ id ], buildController );\n\n\t\t}\n\n\t\t// image\n\n\t\tfunction parseImage( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinit_from: getElementsByTagName( xml, 'init_from' )[ 0 ].textContent\n\t\t\t};\n\n\t\t\tlibrary.images[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildImage( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data.init_from;\n\n\t\t}\n\n\t\tfunction getImage( id ) {\n\n\t\t\tconst data = library.images[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildImage );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find image with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// effect\n\n\t\tfunction parseEffect( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'profile_COMMON':\n\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.effects[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseEffectProfileCOMMON( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsurfaces: {},\n\t\t\t\tsamplers: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'newparam':\n\t\t\t\t\t\tparseEffectNewparam( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tdata.extra = parseEffectExtra( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectNewparam( xml, data ) {\n\n\t\t\tconst sid = xml.getAttribute( 'sid' );\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'surface':\n\t\t\t\t\t\tdata.surfaces[ sid ] = parseEffectSurface( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler2D':\n\t\t\t\t\t\tdata.samplers[ sid ] = parseEffectSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectSurface( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'init_from':\n\t\t\t\t\t\tdata.init_from = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectSampler( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.source = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'constant':\n\t\t\t\t\tcase 'lambert':\n\t\t\t\t\tcase 'blinn':\n\t\t\t\t\tcase 'phong':\n\t\t\t\t\t\tdata.type = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseEffectParameters( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tdata.extra = parseEffectExtra( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectParameter( child );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\tdata[ child.nodeName ] = {\n\t\t\t\t\t\t\topaque: child.hasAttribute( 'opaque' ) ? child.getAttribute( 'opaque' ) : 'A_ONE',\n\t\t\t\t\t\t\tdata: parseEffectParameter( child )\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameter( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'float':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), extra: parseEffectParameterTexture( child ) };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTexture( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttechnique: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tparseEffectParameterTextureExtra( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtra( xml, data ) {\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtraTechnique( xml, data ) {\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'repeatU':\n\t\t\t\t\tcase 'repeatV':\n\t\t\t\t\tcase 'offsetU':\n\t\t\t\t\tcase 'offsetV':\n\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'wrapU':\n\t\t\t\t\tcase 'wrapV':\n\n\t\t\t\t\t\t// some files have values for wrapU/wrapV which become NaN via parseInt\n\n\t\t\t\t\t\tif ( child.textContent.toUpperCase() === 'TRUE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 1;\n\n\t\t\t\t\t\t} else if ( child.textContent.toUpperCase() === 'FALSE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 0;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseInt( child.textContent );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectExtraTechniqueBump( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectExtra( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectExtraTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectExtraTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'double_sided':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseInt( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectExtraTechniqueBump( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectExtraTechniqueBump( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), texcoord: child.getAttribute( 'texcoord' ), extra: parseEffectParameterTexture( child ) };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildEffect( data ) {\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getEffect( id ) {\n\n\t\t\treturn getBuild( library.effects[ id ], buildEffect );\n\n\t\t}\n\n\t\t// material\n\n\t\tfunction parseMaterial( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_effect':\n\t\t\t\t\t\tdata.url = parseId( child.getAttribute( 'url' ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.materials[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction getTextureLoader( image ) {\n\n\t\t\tlet loader;\n\n\t\t\tlet extension = image.slice( ( image.lastIndexOf( '.' ) - 1 >>> 0 ) + 2 ); // http://www.jstips.co/en/javascript/get-file-extension/\n\t\t\textension = extension.toLowerCase();\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'tga':\n\t\t\t\t\tloader = tgaLoader;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tloader = textureLoader;\n\n\t\t\t}\n\n\t\t\treturn loader;\n\n\t\t}\n\n\t\tfunction buildMaterial( data ) {\n\n\t\t\tconst effect = getEffect( data.url );\n\t\t\tconst technique = effect.profile.technique;\n\n\t\t\tlet material;\n\n\t\t\tswitch ( technique.type ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\tcase 'blinn':\n\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tmaterial = new MeshBasicMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.name = data.name || '';\n\n\t\t\tfunction getTexture( textureObject, encoding = null ) {\n\n\t\t\t\tconst sampler = effect.profile.samplers[ textureObject.id ];\n\t\t\t\tlet image = null;\n\n\t\t\t\t// get image\n\n\t\t\t\tif ( sampler !== undefined ) {\n\n\t\t\t\t\tconst surface = effect.profile.surfaces[ sampler.source ];\n\t\t\t\t\timage = getImage( surface.init_from );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).' );\n\t\t\t\t\timage = getImage( textureObject.id );\n\n\t\t\t\t}\n\n\t\t\t\t// create texture if image is avaiable\n\n\t\t\t\tif ( image !== null ) {\n\n\t\t\t\t\tconst loader = getTextureLoader( image );\n\n\t\t\t\t\tif ( loader !== undefined ) {\n\n\t\t\t\t\t\tconst texture = loader.load( image );\n\n\t\t\t\t\t\tconst extra = textureObject.extra;\n\n\t\t\t\t\t\tif ( extra !== undefined && extra.technique !== undefined && isEmpty( extra.technique ) === false ) {\n\n\t\t\t\t\t\t\tconst technique = extra.technique;\n\n\t\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? RepeatWrapping : ClampToEdgeWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\t\t\t\t\t\ttexture.offset.set( technique.offsetU || 0, technique.offsetV || 0 );\n\t\t\t\t\t\t\ttexture.repeat.set( technique.repeatU || 1, technique.repeatV || 1 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttexture.wrapS = RepeatWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = RepeatWrapping;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( encoding !== null ) {\n\n\t\t\t\t\t\t\ttexture.encoding = encoding;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Loader for texture %s not found.', image );\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id );\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst parameters = technique.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tconst parameter = parameters[ key ];\n\n\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\t\tif ( parameter.color ) material.color.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.map = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\t\tif ( parameter.color && material.specular ) material.specular.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.specularMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tif ( parameter.texture ) material.normalMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\t\tif ( parameter.texture ) material.lightMap = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\t\tif ( parameter.float && material.shininess ) material.shininess = parameter.float;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\t\tif ( parameter.color && material.emissive ) material.emissive.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.emissiveMap = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterial.color.convertSRGBToLinear();\n\t\t\tif ( material.specular ) material.specular.convertSRGBToLinear();\n\t\t\tif ( material.emissive ) material.emissive.convertSRGBToLinear();\n\n\t\t\t//\n\n\t\t\tlet transparent = parameters[ 'transparent' ];\n\t\t\tlet transparency = parameters[ 'transparency' ];\n\n\t\t\t// <transparency> does not exist but <transparent>\n\n\t\t\tif ( transparency === undefined && transparent ) {\n\n\t\t\t\ttransparency = {\n\t\t\t\t\tfloat: 1\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\t// <transparent> does not exist but <transparency>\n\n\t\t\tif ( transparent === undefined && transparency ) {\n\n\t\t\t\ttransparent = {\n\t\t\t\t\topaque: 'A_ONE',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcolor: [ 1, 1, 1, 1 ]\n\t\t\t\t\t} };\n\n\t\t\t}\n\n\t\t\tif ( transparent && transparency ) {\n\n\t\t\t\t// handle case if a texture exists but no color\n\n\t\t\t\tif ( transparent.data.texture ) {\n\n\t\t\t\t\t// we do not set an alpha map (see #13792)\n\n\t\t\t\t\tmaterial.transparent = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst color = transparent.data.color;\n\n\t\t\t\t\tswitch ( transparent.opaque ) {\n\n\t\t\t\t\t\tcase 'A_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 3 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 0 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 3 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 0 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material.opacity < 1 ) material.transparent = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\n\t\t\tif ( technique.extra !== undefined && technique.extra.technique !== undefined ) {\n\n\t\t\t\tconst techniques = technique.extra.technique;\n\n\t\t\t\tfor ( const k in techniques ) {\n\n\t\t\t\t\tconst v = techniques[ k ];\n\n\t\t\t\t\tswitch ( k ) {\n\n\t\t\t\t\t\tcase 'double_sided':\n\t\t\t\t\t\t\tmaterial.side = ( v === 1 ? DoubleSide : FrontSide );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\t\tmaterial.normalMap = getTexture( v.texture );\n\t\t\t\t\t\t\tmaterial.normalScale = new Vector2( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn material;\n\n\t\t}\n\n\t\tfunction getMaterial( id ) {\n\n\t\t\treturn getBuild( library.materials[ id ], buildMaterial );\n\n\t\t}\n\n\t\t// camera\n\n\t\tfunction parseCamera( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'optics':\n\t\t\t\t\t\tdata.optics = parseCameraOptics( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.cameras[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseCameraOptics( xml ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\treturn parseCameraTechnique( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {};\n\n\t\t}\n\n\t\tfunction parseCameraTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'perspective':\n\t\t\t\t\tcase 'orthographic':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseCameraParameters( child );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseCameraParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'xfov':\n\t\t\t\t\tcase 'yfov':\n\t\t\t\t\tcase 'xmag':\n\t\t\t\t\tcase 'ymag':\n\t\t\t\t\tcase 'znear':\n\t\t\t\t\tcase 'zfar':\n\t\t\t\t\tcase 'aspect_ratio':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildCamera( data ) {\n\n\t\t\tlet camera;\n\n\t\t\tswitch ( data.optics.technique ) {\n\n\t\t\t\tcase 'perspective':\n\t\t\t\t\tcamera = new PerspectiveCamera(\n\t\t\t\t\t\tdata.optics.parameters.yfov,\n\t\t\t\t\t\tdata.optics.parameters.aspect_ratio,\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'orthographic':\n\t\t\t\t\tlet ymag = data.optics.parameters.ymag;\n\t\t\t\t\tlet xmag = data.optics.parameters.xmag;\n\t\t\t\t\tconst aspectRatio = data.optics.parameters.aspect_ratio;\n\n\t\t\t\t\txmag = ( xmag === undefined ) ? ( ymag * aspectRatio ) : xmag;\n\t\t\t\t\tymag = ( ymag === undefined ) ? ( xmag / aspectRatio ) : ymag;\n\n\t\t\t\t\txmag *= 0.5;\n\t\t\t\t\tymag *= 0.5;\n\n\t\t\t\t\tcamera = new OrthographicCamera(\n\t\t\t\t\t\t- xmag, xmag, ymag, - ymag, // left, right, top, bottom\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcamera.name = data.name || '';\n\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tfunction getCamera( id ) {\n\n\t\t\tconst data = library.cameras[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildCamera );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find camera with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// light\n\n\t\tfunction parseLight( xml ) {\n\n\t\t\tlet data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tdata = parseLightTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.lights[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseLightTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'directional':\n\t\t\t\t\tcase 'point':\n\t\t\t\t\tcase 'spot':\n\t\t\t\t\tcase 'ambient':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseLightParameters( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseLightParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tconst array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.color = new Color().fromArray( array ).convertSRGBToLinear();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'falloff_angle':\n\t\t\t\t\t\tdata.falloffAngle = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'quadratic_attenuation':\n\t\t\t\t\t\tconst f = parseFloat( child.textContent );\n\t\t\t\t\t\tdata.distance = f ? Math.sqrt( 1 / f ) : 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildLight( data ) {\n\n\t\t\tlet light;\n\n\t\t\tswitch ( data.technique ) {\n\n\t\t\t\tcase 'directional':\n\t\t\t\t\tlight = new DirectionalLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'point':\n\t\t\t\t\tlight = new PointLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'spot':\n\t\t\t\t\tlight = new SpotLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ambient':\n\t\t\t\t\tlight = new AmbientLight();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( data.parameters.color ) light.color.copy( data.parameters.color );\n\t\t\tif ( data.parameters.distance ) light.distance = data.parameters.distance;\n\n\t\t\treturn light;\n\n\t\t}\n\n\t\tfunction getLight( id ) {\n\n\t\t\tconst data = library.lights[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildLight );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find light with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// geometry\n\n\t\tfunction parseGeometry( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tsources: {},\n\t\t\t\tvertices: {},\n\t\t\t\tprimitives: []\n\t\t\t};\n\n\t\t\tconst mesh = getElementsByTagName( xml, 'mesh' )[ 0 ];\n\n\t\t\t// the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\n\t\t\tif ( mesh === undefined ) return;\n\n\t\t\tfor ( let i = 0; i < mesh.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = mesh.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tconst id = child.getAttribute( 'id' );\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertices':\n\t\t\t\t\t\t// data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\n\t\t\t\t\t\tdata.vertices = parseGeometryVertices( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polygons':\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tdata.primitives.push( parseGeometryPrimitive( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.geometries[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSource( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tarray: [],\n\t\t\t\tstride: 3\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'float_array':\n\t\t\t\t\t\tdata.array = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Name_array':\n\t\t\t\t\t\tdata.array = parseStrings( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tconst accessor = getElementsByTagName( child, 'accessor' )[ 0 ];\n\n\t\t\t\t\t\tif ( accessor !== undefined ) {\n\n\t\t\t\t\t\t\tdata.stride = parseInt( accessor.getAttribute( 'stride' ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryVertices( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tdata[ child.getAttribute( 'semantic' ) ] = parseId( child.getAttribute( 'source' ) );\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryPrimitive( xml ) {\n\n\t\t\tconst primitive = {\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tmaterial: xml.getAttribute( 'material' ),\n\t\t\t\tcount: parseInt( xml.getAttribute( 'count' ) ),\n\t\t\t\tinputs: {},\n\t\t\t\tstride: 0,\n\t\t\t\thasUV: false\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tconst set = parseInt( child.getAttribute( 'set' ) );\n\t\t\t\t\t\tconst inputname = ( set > 0 ? semantic + set : semantic );\n\t\t\t\t\t\tprimitive.inputs[ inputname ] = { id: id, offset: offset };\n\t\t\t\t\t\tprimitive.stride = Math.max( primitive.stride, offset + 1 );\n\t\t\t\t\t\tif ( semantic === 'TEXCOORD' ) primitive.hasUV = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tprimitive.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tprimitive.p = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn primitive;\n\n\t\t}\n\n\t\tfunction groupPrimitives( primitives ) {\n\n\t\t\tconst build = {};\n\n\t\t\tfor ( let i = 0; i < primitives.length; i ++ ) {\n\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\tif ( build[ primitive.type ] === undefined ) build[ primitive.type ] = [];\n\n\t\t\t\tbuild[ primitive.type ].push( primitive );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction checkUVCoordinates( primitives ) {\n\n\t\t\tlet count = 0;\n\n\t\t\tfor ( let i = 0, l = primitives.length; i < l; i ++ ) {\n\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\tif ( primitive.hasUV === true ) {\n\n\t\t\t\t\tcount ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( count > 0 && count < primitives.length ) {\n\n\t\t\t\tprimitives.uvsNeedsFix = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildGeometry( data ) {\n\n\t\t\tconst build = {};\n\n\t\t\tconst sources = data.sources;\n\t\t\tconst vertices = data.vertices;\n\t\t\tconst primitives = data.primitives;\n\n\t\t\tif ( primitives.length === 0 ) return {};\n\n\t\t\t// our goal is to create one buffer geometry for a single type of primitives\n\t\t\t// first, we group all primitives by their type\n\n\t\t\tconst groupedPrimitives = groupPrimitives( primitives );\n\n\t\t\tfor ( const type in groupedPrimitives ) {\n\n\t\t\t\tconst primitiveType = groupedPrimitives[ type ];\n\n\t\t\t\t// second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\n\n\t\t\t\tcheckUVCoordinates( primitiveType );\n\n\t\t\t\t// third, create a buffer geometry for each type of primitives\n\n\t\t\t\tbuild[ type ] = buildGeometryType( primitiveType, sources, vertices );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryType( primitives, sources, vertices ) {\n\n\t\t\tconst build = {};\n\n\t\t\tconst position = { array: [], stride: 0 };\n\t\t\tconst normal = { array: [], stride: 0 };\n\t\t\tconst uv = { array: [], stride: 0 };\n\t\t\tconst uv2 = { array: [], stride: 0 };\n\t\t\tconst color = { array: [], stride: 0 };\n\n\t\t\tconst skinIndex = { array: [], stride: 4 };\n\t\t\tconst skinWeight = { array: [], stride: 4 };\n\n\t\t\tconst geometry = new BufferGeometry();\n\n\t\t\tconst materialKeys = [];\n\n\t\t\tlet start = 0;\n\n\t\t\tfor ( let p = 0; p < primitives.length; p ++ ) {\n\n\t\t\t\tconst primitive = primitives[ p ];\n\t\t\t\tconst inputs = primitive.inputs;\n\n\t\t\t\t// groups\n\n\t\t\t\tlet count = 0;\n\n\t\t\t\tswitch ( primitive.type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tcount = primitive.count * 2;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tcount = primitive.count * 3;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polylist':\n\n\t\t\t\t\t\tfor ( let g = 0; g < primitive.count; g ++ ) {\n\n\t\t\t\t\t\t\tconst vc = primitive.vcount[ g ];\n\n\t\t\t\t\t\t\tswitch ( vc ) {\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tcount += 3; // single triangle\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tcount += 6; // quad, subdivided into two triangles\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tcount += ( vc - 2 ) * 3; // polylist with more than four vertices\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknow primitive type:', primitive.type );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addGroup( start, count, p );\n\t\t\t\tstart += count;\n\n\t\t\t\t// material\n\n\t\t\t\tif ( primitive.material ) {\n\n\t\t\t\t\tmaterialKeys.push( primitive.material );\n\n\t\t\t\t}\n\n\t\t\t\t// geometry data\n\n\t\t\t\tfor ( const name in inputs ) {\n\n\t\t\t\t\tconst input = inputs[ name ];\n\n\t\t\t\t\tswitch ( name )\t{\n\n\t\t\t\t\t\tcase 'VERTEX':\n\t\t\t\t\t\t\tfor ( const key in vertices ) {\n\n\t\t\t\t\t\t\t\tconst id = vertices[ key ];\n\n\t\t\t\t\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\t\tconst prevLength = position.array.length;\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, position.array );\n\t\t\t\t\t\t\t\t\t\tposition.stride = sources[ id ].stride;\n\n\t\t\t\t\t\t\t\t\t\tif ( sources.skinWeights && sources.skinIndices ) {\n\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinIndices, input.offset, skinIndex.array );\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinWeights, input.offset, skinWeight.array );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// see #3803\n\n\t\t\t\t\t\t\t\t\t\tif ( primitive.hasUV === false && primitives.uvsNeedsFix === true ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst count = ( position.array.length - prevLength ) / position.stride;\n\n\t\t\t\t\t\t\t\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// fill missing uv coordinates\n\n\t\t\t\t\t\t\t\t\t\t\t\tuv.array.push( 0, 0 );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, normal.array );\n\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, color.array );\n\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv2.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, normal.array );\n\t\t\t\t\t\t\tnormal.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, color.array, true );\n\t\t\t\t\t\t\tcolor.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv.array );\n\t\t\t\t\t\t\tuv.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv2.array );\n\t\t\t\t\t\t\tuv2.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tif ( position.array.length > 0 ) geometry.setAttribute( 'position', new Float32BufferAttribute( position.array, position.stride ) );\n\t\t\tif ( normal.array.length > 0 ) geometry.setAttribute( 'normal', new Float32BufferAttribute( normal.array, normal.stride ) );\n\t\t\tif ( color.array.length > 0 ) geometry.setAttribute( 'color', new Float32BufferAttribute( color.array, color.stride ) );\n\t\t\tif ( uv.array.length > 0 ) geometry.setAttribute( 'uv', new Float32BufferAttribute( uv.array, uv.stride ) );\n\t\t\tif ( uv2.array.length > 0 ) geometry.setAttribute( 'uv2', new Float32BufferAttribute( uv2.array, uv2.stride ) );\n\n\t\t\tif ( skinIndex.array.length > 0 ) geometry.setAttribute( 'skinIndex', new Float32BufferAttribute( skinIndex.array, skinIndex.stride ) );\n\t\t\tif ( skinWeight.array.length > 0 ) geometry.setAttribute( 'skinWeight', new Float32BufferAttribute( skinWeight.array, skinWeight.stride ) );\n\n\t\t\tbuild.data = geometry;\n\t\t\tbuild.type = primitives[ 0 ].type;\n\t\t\tbuild.materialKeys = materialKeys;\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryData( primitive, source, offset, array, isColor = false ) {\n\n\t\t\tconst indices = primitive.p;\n\t\t\tconst stride = primitive.stride;\n\t\t\tconst vcount = primitive.vcount;\n\n\t\t\tfunction pushVector( i ) {\n\n\t\t\t\tlet index = indices[ i + offset ] * sourceStride;\n\t\t\t\tconst length = index + sourceStride;\n\n\t\t\t\tfor ( ; index < length; index ++ ) {\n\n\t\t\t\t\tarray.push( sourceArray[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isColor ) {\n\n\t\t\t\t\t// convert the vertex colors from srgb to linear if present\n\t\t\t\t\tconst startIndex = array.length - sourceStride - 1;\n\t\t\t\t\ttempColor.setRGB(\n\t\t\t\t\t\tarray[ startIndex + 0 ],\n\t\t\t\t\t\tarray[ startIndex + 1 ],\n\t\t\t\t\t\tarray[ startIndex + 2 ]\n\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\tarray[ startIndex + 0 ] = tempColor.r;\n\t\t\t\t\tarray[ startIndex + 1 ] = tempColor.g;\n\t\t\t\t\tarray[ startIndex + 2 ] = tempColor.b;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst sourceArray = source.array;\n\t\t\tconst sourceStride = source.stride;\n\n\t\t\tif ( primitive.vcount !== undefined ) {\n\n\t\t\t\tlet index = 0;\n\n\t\t\t\tfor ( let i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst count = vcount[ i ];\n\n\t\t\t\t\tif ( count === 4 ) {\n\n\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\tconst b = index + stride * 1;\n\t\t\t\t\t\tconst c = index + stride * 2;\n\t\t\t\t\t\tconst d = index + stride * 3;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( d );\n\t\t\t\t\t\tpushVector( b ); pushVector( c ); pushVector( d );\n\n\t\t\t\t\t} else if ( count === 3 ) {\n\n\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\tconst b = index + stride * 1;\n\t\t\t\t\t\tconst c = index + stride * 2;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t} else if ( count > 4 ) {\n\n\t\t\t\t\t\tfor ( let k = 1, kl = ( count - 2 ); k <= kl; k ++ ) {\n\n\t\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\t\tconst b = index + stride * k;\n\t\t\t\t\t\t\tconst c = index + stride * ( k + 1 );\n\n\t\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tindex += stride * count;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = indices.length; i < l; i += stride ) {\n\n\t\t\t\t\tpushVector( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getGeometry( id ) {\n\n\t\t\treturn getBuild( library.geometries[ id ], buildGeometry );\n\n\t\t}\n\n\t\t// kinematics\n\n\t\tfunction parseKinematicsModel( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tjoints: {},\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparseKinematicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildKinematicsModel( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsModel( id ) {\n\n\t\t\treturn getBuild( library.kinematicsModels[ id ], buildKinematicsModel );\n\n\t\t}\n\n\t\tfunction parseKinematicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'joint':\n\t\t\t\t\t\tdata.joints[ child.getAttribute( 'sid' ) ] = parseKinematicsJoint( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseKinematicsJoint( xml ) {\n\n\t\t\tlet data;\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\tdata = parseKinematicsJointParameter( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsJointParameter( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\taxis: new Vector3(),\n\t\t\t\tlimits: {\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 0\n\t\t\t\t},\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tstatic: false,\n\t\t\t\tzeroPosition: 0,\n\t\t\t\tmiddlePosition: 0\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tconst array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.axis.fromArray( array );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'limits':\n\t\t\t\t\t\tconst max = child.getElementsByTagName( 'max' )[ 0 ];\n\t\t\t\t\t\tconst min = child.getElementsByTagName( 'min' )[ 0 ];\n\n\t\t\t\t\t\tdata.limits.max = parseFloat( max.textContent );\n\t\t\t\t\t\tdata.limits.min = parseFloat( min.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// if min is equal to or greater than max, consider the joint static\n\n\t\t\tif ( data.limits.min >= data.limits.max ) {\n\n\t\t\t\tdata.static = true;\n\n\t\t\t}\n\n\t\t\t// calculate middle position\n\n\t\t\tdata.middlePosition = ( data.limits.min + data.limits.max ) / 2.0;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsLink( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tattachments: [],\n\t\t\t\ttransforms: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'attachment_full':\n\t\t\t\t\t\tdata.attachments.push( parseKinematicsAttachment( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsAttachment( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tjoint: xml.getAttribute( 'joint' ).split( '/' ).pop(),\n\t\t\t\ttransforms: [],\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsTransform( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttype: xml.nodeName\n\t\t\t};\n\n\t\t\tconst array = parseFloats( xml.textContent );\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tdata.obj = new Matrix4();\n\t\t\t\t\tdata.obj.fromArray( array ).transpose();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tdata.angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// physics\n\n\t\tfunction parsePhysicsModel( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\trigidBodies: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'rigid_body':\n\t\t\t\t\t\tdata.rigidBodies[ child.getAttribute( 'name' ) ] = {};\n\t\t\t\t\t\tparsePhysicsRigidBody( child, data.rigidBodies[ child.getAttribute( 'name' ) ] );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.physicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parsePhysicsRigidBody( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparsePhysicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parsePhysicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'inertia':\n\t\t\t\t\t\tdata.inertia = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'mass':\n\t\t\t\t\t\tdata.mass = parseFloats( child.textContent )[ 0 ];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// scene\n\n\t\tfunction parseKinematicsScene( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tbindJointAxis: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_joint_axis':\n\t\t\t\t\t\tdata.bindJointAxis.push( parseKinematicsBindJointAxis( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsScenes[ parseId( xml.getAttribute( 'url' ) ) ] = data;\n\n\t\t}\n\n\t\tfunction parseKinematicsBindJointAxis( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttarget: xml.getAttribute( 'target' ).split( '/' ).pop()\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tconst param = child.getElementsByTagName( 'param' )[ 0 ];\n\t\t\t\t\t\tdata.axis = param.textContent;\n\t\t\t\t\t\tconst tmpJointIndex = data.axis.split( 'inst_' ).pop().split( 'axis' )[ 0 ];\n\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substring( 0, tmpJointIndex.length - 1 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildKinematicsScene( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsScene( id ) {\n\n\t\t\treturn getBuild( library.kinematicsScenes[ id ], buildKinematicsScene );\n\n\t\t}\n\n\t\tfunction setupKinematics() {\n\n\t\t\tconst kinematicsModelId = Object.keys( library.kinematicsModels )[ 0 ];\n\t\t\tconst kinematicsSceneId = Object.keys( library.kinematicsScenes )[ 0 ];\n\t\t\tconst visualSceneId = Object.keys( library.visualScenes )[ 0 ];\n\n\t\t\tif ( kinematicsModelId === undefined || kinematicsSceneId === undefined ) return;\n\n\t\t\tconst kinematicsModel = getKinematicsModel( kinematicsModelId );\n\t\t\tconst kinematicsScene = getKinematicsScene( kinematicsSceneId );\n\t\t\tconst visualScene = getVisualScene( visualSceneId );\n\n\t\t\tconst bindJointAxis = kinematicsScene.bindJointAxis;\n\t\t\tconst jointMap = {};\n\n\t\t\tfor ( let i = 0, l = bindJointAxis.length; i < l; i ++ ) {\n\n\t\t\t\tconst axis = bindJointAxis[ i ];\n\n\t\t\t\t// the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\n\n\t\t\t\tconst targetElement = collada.querySelector( '[sid=\"' + axis.target + '\"]' );\n\n\t\t\t\tif ( targetElement ) {\n\n\t\t\t\t\t// get the parent of the transform element\n\n\t\t\t\t\tconst parentVisualElement = targetElement.parentElement;\n\n\t\t\t\t\t// connect the joint of the kinematics model with the element in the visual scene\n\n\t\t\t\t\tconnect( axis.jointIndex, parentVisualElement );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction connect( jointIndex, visualElement ) {\n\n\t\t\t\tconst visualElementName = visualElement.getAttribute( 'name' );\n\t\t\t\tconst joint = kinematicsModel.joints[ jointIndex ];\n\n\t\t\t\tvisualScene.traverse( function ( object ) {\n\n\t\t\t\t\tif ( object.name === visualElementName ) {\n\n\t\t\t\t\t\tjointMap[ jointIndex ] = {\n\t\t\t\t\t\t\tobject: object,\n\t\t\t\t\t\t\ttransforms: buildTransformList( visualElement ),\n\t\t\t\t\t\t\tjoint: joint,\n\t\t\t\t\t\t\tposition: joint.zeroPosition\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst m0 = new Matrix4();\n\n\t\t\tkinematics = {\n\n\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\n\n\t\t\t\tgetJointValue: function ( jointIndex ) {\n\n\t\t\t\t\tconst jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\treturn jointData.position;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tsetJointValue: function ( jointIndex, value ) {\n\n\t\t\t\t\tconst jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\tconst joint = jointData.joint;\n\n\t\t\t\t\t\tif ( value > joint.limits.max || value < joint.limits.min ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').' );\n\n\t\t\t\t\t\t} else if ( joint.static ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' is static.' );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconst object = jointData.object;\n\t\t\t\t\t\t\tconst axis = joint.axis;\n\t\t\t\t\t\t\tconst transforms = jointData.transforms;\n\n\t\t\t\t\t\t\tmatrix.identity();\n\n\t\t\t\t\t\t\t// each update, we have to apply all transforms in the correct order\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < transforms.length; i ++ ) {\n\n\t\t\t\t\t\t\t\tconst transform = transforms[ i ];\n\n\t\t\t\t\t\t\t\t// if there is a connection of the transform node with a joint, apply the joint value\n\n\t\t\t\t\t\t\t\tif ( transform.sid && transform.sid.indexOf( jointIndex ) !== - 1 ) {\n\n\t\t\t\t\t\t\t\t\tswitch ( joint.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( axis, MathUtils.degToRad( value ) ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( axis.x * value, axis.y * value, axis.z * value ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknown joint type: ' + joint.type );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tswitch ( transform.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( transform.obj.x, transform.obj.y, transform.obj.z ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.scale( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( transform.obj, transform.angle ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobject.matrix.copy( matrix );\n\t\t\t\t\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t\t\t\t\tjointMap[ jointIndex ].position = value;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.log( 'THREE.ColladaLoader: ' + jointIndex + ' does not exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction buildTransformList( node ) {\n\n\t\t\tconst transforms = [];\n\n\t\t\tconst xml = collada.querySelector( '[id=\"' + node.id + '\"]' );\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet array, vector;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tconst matrix = new Matrix4().fromArray( array ).transpose();\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: matrix\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector = new Vector3().fromArray( array );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector = new Vector3().fromArray( array );\n\t\t\t\t\t\tconst angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector,\n\t\t\t\t\t\t\tangle: angle\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn transforms;\n\n\t\t}\n\n\t\t// nodes\n\n\t\tfunction prepareNodes( xml ) {\n\n\t\t\tconst elements = xml.getElementsByTagName( 'node' );\n\n\t\t\t// ensure all node elements have id attributes\n\n\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tconst element = elements[ i ];\n\n\t\t\t\tif ( element.hasAttribute( 'id' ) === false ) {\n\n\t\t\t\t\telement.setAttribute( 'id', generateId() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst matrix = new Matrix4();\n\t\tconst vector = new Vector3();\n\n\t\tfunction parseNode( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\ttype: xml.getAttribute( 'type' ),\n\t\t\t\tid: xml.getAttribute( 'id' ),\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tmatrix: new Matrix4(),\n\t\t\t\tnodes: [],\n\t\t\t\tinstanceCameras: [],\n\t\t\t\tinstanceControllers: [],\n\t\t\t\tinstanceLights: [],\n\t\t\t\tinstanceGeometries: [],\n\t\t\t\tinstanceNodes: [],\n\t\t\t\ttransforms: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet array;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'node':\n\t\t\t\t\t\tdata.nodes.push( child.getAttribute( 'id' ) );\n\t\t\t\t\t\tparseNode( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_camera':\n\t\t\t\t\t\tdata.instanceCameras.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_controller':\n\t\t\t\t\t\tdata.instanceControllers.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_light':\n\t\t\t\t\t\tdata.instanceLights.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_geometry':\n\t\t\t\t\t\tdata.instanceGeometries.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_node':\n\t\t\t\t\t\tdata.instanceNodes.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.fromArray( array ).transpose() );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector.fromArray( array );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeTranslation( vector.x, vector.y, vector.z ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tconst angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeRotationAxis( vector.fromArray( array ), angle ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.scale( vector.fromArray( array ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasNode( data.id ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id );\n\n\t\t\t} else {\n\n\t\t\t\tlibrary.nodes[ data.id ] = data;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseNodeInstance( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tid: parseId( xml.getAttribute( 'url' ) ),\n\t\t\t\tmaterials: {},\n\t\t\t\tskeletons: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_material':\n\t\t\t\t\t\tconst instances = child.getElementsByTagName( 'instance_material' );\n\n\t\t\t\t\t\tfor ( let j = 0; j < instances.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst instance = instances[ j ];\n\t\t\t\t\t\t\tconst symbol = instance.getAttribute( 'symbol' );\n\t\t\t\t\t\t\tconst target = instance.getAttribute( 'target' );\n\n\t\t\t\t\t\t\tdata.materials[ symbol ] = parseId( target );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'skeleton':\n\t\t\t\t\t\tdata.skeletons.push( parseId( child.textContent ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildSkeleton( skeletons, joints ) {\n\n\t\t\tconst boneData = [];\n\t\t\tconst sortedBoneData = [];\n\n\t\t\tlet i, j, data;\n\n\t\t\t// a skeleton can have multiple root bones. collada expresses this\n\t\t\t// situtation with multiple \"skeleton\" tags per controller instance\n\n\t\t\tfor ( i = 0; i < skeletons.length; i ++ ) {\n\n\t\t\t\tconst skeleton = skeletons[ i ];\n\n\t\t\t\tlet root;\n\n\t\t\t\tif ( hasNode( skeleton ) ) {\n\n\t\t\t\t\troot = getNode( skeleton );\n\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t} else if ( hasVisualScene( skeleton ) ) {\n\n\t\t\t\t\t// handle case where the skeleton refers to the visual scene (#13335)\n\n\t\t\t\t\tconst visualScene = library.visualScenes[ skeleton ];\n\t\t\t\t\tconst children = visualScene.children;\n\n\t\t\t\t\tfor ( let j = 0; j < children.length; j ++ ) {\n\n\t\t\t\t\t\tconst child = children[ j ];\n\n\t\t\t\t\t\tif ( child.type === 'JOINT' ) {\n\n\t\t\t\t\t\t\tconst root = getNode( child.id );\n\t\t\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// sort bone data (the order is defined in the corresponding controller)\n\n\t\t\tfor ( i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < boneData.length; j ++ ) {\n\n\t\t\t\t\tdata = boneData[ j ];\n\n\t\t\t\t\tif ( data.bone.name === joints[ i ].name ) {\n\n\t\t\t\t\t\tsortedBoneData[ i ] = data;\n\t\t\t\t\t\tdata.processed = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add unprocessed bone data at the end of the list\n\n\t\t\tfor ( i = 0; i < boneData.length; i ++ ) {\n\n\t\t\t\tdata = boneData[ i ];\n\n\t\t\t\tif ( data.processed === false ) {\n\n\t\t\t\t\tsortedBoneData.push( data );\n\t\t\t\t\tdata.processed = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup arrays for skeleton creation\n\n\t\t\tconst bones = [];\n\t\t\tconst boneInverses = [];\n\n\t\t\tfor ( i = 0; i < sortedBoneData.length; i ++ ) {\n\n\t\t\t\tdata = sortedBoneData[ i ];\n\n\t\t\t\tbones.push( data.bone );\n\t\t\t\tboneInverses.push( data.boneInverse );\n\n\t\t\t}\n\n\t\t\treturn new Skeleton( bones, boneInverses );\n\n\t\t}\n\n\t\tfunction buildBoneHierarchy( root, joints, boneData ) {\n\n\t\t\t// setup bone data from visual scene\n\n\t\t\troot.traverse( function ( object ) {\n\n\t\t\t\tif ( object.isBone === true ) {\n\n\t\t\t\t\tlet boneInverse;\n\n\t\t\t\t\t// retrieve the boneInverse from the controller data\n\n\t\t\t\t\tfor ( let i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\t\t\tconst joint = joints[ i ];\n\n\t\t\t\t\t\tif ( joint.name === object.name ) {\n\n\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( boneInverse === undefined ) {\n\n\t\t\t\t\t\t// Unfortunately, there can be joints in the visual scene that are not part of the\n\t\t\t\t\t\t// corresponding controller. In this case, we have to create a dummy boneInverse matrix\n\t\t\t\t\t\t// for the respective bone. This bone won't affect any vertices, because there are no skin indices\n\t\t\t\t\t\t// and weights defined for it. But we still have to add the bone to the sorted bone list in order to\n\t\t\t\t\t\t// ensure a correct animation of the model.\n\n\t\t\t\t\t\tboneInverse = new Matrix4();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tboneData.push( { bone: object, boneInverse: boneInverse, processed: false } );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction buildNode( data ) {\n\n\t\t\tconst objects = [];\n\n\t\t\tconst matrix = data.matrix;\n\t\t\tconst nodes = data.nodes;\n\t\t\tconst type = data.type;\n\t\t\tconst instanceCameras = data.instanceCameras;\n\t\t\tconst instanceControllers = data.instanceControllers;\n\t\t\tconst instanceLights = data.instanceLights;\n\t\t\tconst instanceGeometries = data.instanceGeometries;\n\t\t\tconst instanceNodes = data.instanceNodes;\n\n\t\t\t// nodes\n\n\t\t\tfor ( let i = 0, l = nodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( nodes[ i ] ) );\n\n\t\t\t}\n\n\t\t\t// instance cameras\n\n\t\t\tfor ( let i = 0, l = instanceCameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst instanceCamera = getCamera( instanceCameras[ i ] );\n\n\t\t\t\tif ( instanceCamera !== null ) {\n\n\t\t\t\t\tobjects.push( instanceCamera.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance controllers\n\n\t\t\tfor ( let i = 0, l = instanceControllers.length; i < l; i ++ ) {\n\n\t\t\t\tconst instance = instanceControllers[ i ];\n\t\t\t\tconst controller = getController( instance.id );\n\t\t\t\tconst geometries = getGeometry( controller.id );\n\t\t\t\tconst newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tconst skeletons = instance.skeletons;\n\t\t\t\tconst joints = controller.skin.joints;\n\n\t\t\t\tconst skeleton = buildSkeleton( skeletons, joints );\n\n\t\t\t\tfor ( let j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst object = newObjects[ j ];\n\n\t\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t\tobject.bind( skeleton, controller.skin.bindMatrix );\n\t\t\t\t\t\tobject.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance lights\n\n\t\t\tfor ( let i = 0, l = instanceLights.length; i < l; i ++ ) {\n\n\t\t\t\tconst instanceLight = getLight( instanceLights[ i ] );\n\n\t\t\t\tif ( instanceLight !== null ) {\n\n\t\t\t\t\tobjects.push( instanceLight.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance geometries\n\n\t\t\tfor ( let i = 0, l = instanceGeometries.length; i < l; i ++ ) {\n\n\t\t\t\tconst instance = instanceGeometries[ i ];\n\n\t\t\t\t// a single geometry instance in collada can lead to multiple object3Ds.\n\t\t\t\t// this is the case when primitives are combined like triangles and lines\n\n\t\t\t\tconst geometries = getGeometry( instance.id );\n\t\t\t\tconst newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tfor ( let j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tobjects.push( newObjects[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance nodes\n\n\t\t\tfor ( let i = 0, l = instanceNodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( instanceNodes[ i ] ).clone() );\n\n\t\t\t}\n\n\t\t\tlet object;\n\n\t\t\tif ( nodes.length === 0 && objects.length === 1 ) {\n\n\t\t\t\tobject = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tobject = ( type === 'JOINT' ) ? new Bone() : new Group();\n\n\t\t\t\tfor ( let i = 0; i < objects.length; i ++ ) {\n\n\t\t\t\t\tobject.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobject.name = ( type === 'JOINT' ) ? data.sid : data.name;\n\t\t\tobject.matrix.copy( matrix );\n\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\treturn object;\n\n\t\t}\n\n\t\tconst fallbackMaterial = new MeshBasicMaterial( { color: 0xff00ff } );\n\n\t\tfunction resolveMaterialBinding( keys, instanceMaterials ) {\n\n\t\t\tconst materials = [];\n\n\t\t\tfor ( let i = 0, l = keys.length; i < l; i ++ ) {\n\n\t\t\t\tconst id = instanceMaterials[ keys[ i ] ];\n\n\t\t\t\tif ( id === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[ i ] );\n\t\t\t\t\tmaterials.push( fallbackMaterial );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials.push( getMaterial( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materials;\n\n\t\t}\n\n\t\tfunction buildObjects( geometries, instanceMaterials ) {\n\n\t\t\tconst objects = [];\n\n\t\t\tfor ( const type in geometries ) {\n\n\t\t\t\tconst geometry = geometries[ type ];\n\n\t\t\t\tconst materials = resolveMaterialBinding( geometry.materialKeys, instanceMaterials );\n\n\t\t\t\t// handle case if no materials are defined\n\n\t\t\t\tif ( materials.length === 0 ) {\n\n\t\t\t\t\tif ( type === 'lines' || type === 'linestrips' ) {\n\n\t\t\t\t\t\tmaterials.push( new LineBasicMaterial() );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterials.push( new MeshPhongMaterial() );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// regard skinning\n\n\t\t\t\tconst skinning = ( geometry.data.attributes.skinIndex !== undefined );\n\n\t\t\t\t// choose between a single or multi materials (material array)\n\n\t\t\t\tconst material = ( materials.length === 1 ) ? materials[ 0 ] : materials;\n\n\t\t\t\t// now create a specific 3D object\n\n\t\t\t\tlet object;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\t\tobject = new LineSegments( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tobject = new Line( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\t\tif ( skinning ) {\n\n\t\t\t\t\t\t\tobject = new SkinnedMesh( geometry.data, material );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tobject = new Mesh( geometry.data, material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tobjects.push( object );\n\n\t\t\t}\n\n\t\t\treturn objects;\n\n\t\t}\n\n\t\tfunction hasNode( id ) {\n\n\t\t\treturn library.nodes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getNode( id ) {\n\n\t\t\treturn getBuild( library.nodes[ id ], buildNode );\n\n\t\t}\n\n\t\t// visual scenes\n\n\t\tfunction parseVisualScene( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tchildren: []\n\t\t\t};\n\n\t\t\tprepareNodes( xml );\n\n\t\t\tconst elements = getElementsByTagName( xml, 'node' );\n\n\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tdata.children.push( parseNode( elements[ i ] ) );\n\n\t\t\t}\n\n\t\t\tlibrary.visualScenes[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildVisualScene( data ) {\n\n\t\t\tconst group = new Group();\n\t\t\tgroup.name = data.name;\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tgroup.add( getNode( child.id ) );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t}\n\n\t\tfunction hasVisualScene( id ) {\n\n\t\t\treturn library.visualScenes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getVisualScene( id ) {\n\n\t\t\treturn getBuild( library.visualScenes[ id ], buildVisualScene );\n\n\t\t}\n\n\t\t// scenes\n\n\t\tfunction parseScene( xml ) {\n\n\t\t\tconst instance = getElementsByTagName( xml, 'instance_visual_scene' )[ 0 ];\n\t\t\treturn getVisualScene( parseId( instance.getAttribute( 'url' ) ) );\n\n\t\t}\n\n\t\tfunction setupAnimations() {\n\n\t\t\tconst clips = library.clips;\n\n\t\t\tif ( isEmpty( clips ) === true ) {\n\n\t\t\t\tif ( isEmpty( library.animations ) === false ) {\n\n\t\t\t\t\t// if there are animations but no clips, we create a default clip for playback\n\n\t\t\t\t\tconst tracks = [];\n\n\t\t\t\t\tfor ( const id in library.animations ) {\n\n\t\t\t\t\t\tconst animationTracks = getAnimation( id );\n\n\t\t\t\t\t\tfor ( let i = 0, l = animationTracks.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\ttracks.push( animationTracks[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tanimations.push( new AnimationClip( 'default', - 1, tracks ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( const id in clips ) {\n\n\t\t\t\t\tanimations.push( getAnimationClip( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// convert the parser error element into text with each child elements text\n\t\t// separated by new lines.\n\n\t\tfunction parserErrorToText( parserError ) {\n\n\t\t\tlet result = '';\n\t\t\tconst stack = [ parserError ];\n\n\t\t\twhile ( stack.length ) {\n\n\t\t\t\tconst node = stack.shift();\n\n\t\t\t\tif ( node.nodeType === Node.TEXT_NODE ) {\n\n\t\t\t\t\tresult += node.textContent;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult += '\\n';\n\t\t\t\t\tstack.push.apply( stack, node.childNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result.trim();\n\n\t\t}\n\n\t\tif ( text.length === 0 ) {\n\n\t\t\treturn { scene: new Scene() };\n\n\t\t}\n\n\t\tconst xml = new DOMParser().parseFromString( text, 'application/xml' );\n\n\t\tconst collada = getElementsByTagName( xml, 'COLLADA' )[ 0 ];\n\n\t\tconst parserError = xml.getElementsByTagName( 'parsererror' )[ 0 ];\n\t\tif ( parserError !== undefined ) {\n\n\t\t\t// Chrome will return parser error with a div in it\n\n\t\t\tconst errorElement = getElementsByTagName( parserError, 'div' )[ 0 ];\n\t\t\tlet errorText;\n\n\t\t\tif ( errorElement ) {\n\n\t\t\t\terrorText = errorElement.textContent;\n\n\t\t\t} else {\n\n\t\t\t\terrorText = parserErrorToText( parserError );\n\n\t\t\t}\n\n\t\t\tconsole.error( 'THREE.ColladaLoader: Failed to parse collada file.\\n', errorText );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// metadata\n\n\t\tconst version = collada.getAttribute( 'version' );\n\t\tconsole.log( 'THREE.ColladaLoader: File version', version );\n\n\t\tconst asset = parseAsset( getElementsByTagName( collada, 'asset' )[ 0 ] );\n\t\tconst textureLoader = new TextureLoader( this.manager );\n\t\ttextureLoader.setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\tlet tgaLoader;\n\n\t\tif ( TGALoader ) {\n\n\t\t\ttgaLoader = new TGALoader( this.manager );\n\t\t\ttgaLoader.setPath( this.resourcePath || path );\n\n\t\t}\n\n\t\t//\n\n\t\tconst tempColor = new Color();\n\t\tconst animations = [];\n\t\tlet kinematics = {};\n\t\tlet count = 0;\n\n\t\t//\n\n\t\tconst library = {\n\t\t\tanimations: {},\n\t\t\tclips: {},\n\t\t\tcontrollers: {},\n\t\t\timages: {},\n\t\t\teffects: {},\n\t\t\tmaterials: {},\n\t\t\tcameras: {},\n\t\t\tlights: {},\n\t\t\tgeometries: {},\n\t\t\tnodes: {},\n\t\t\tvisualScenes: {},\n\t\t\tkinematicsModels: {},\n\t\t\tphysicsModels: {},\n\t\t\tkinematicsScenes: {}\n\t\t};\n\n\t\tparseLibrary( collada, 'library_animations', 'animation', parseAnimation );\n\t\tparseLibrary( collada, 'library_animation_clips', 'animation_clip', parseAnimationClip );\n\t\tparseLibrary( collada, 'library_controllers', 'controller', parseController );\n\t\tparseLibrary( collada, 'library_images', 'image', parseImage );\n\t\tparseLibrary( collada, 'library_effects', 'effect', parseEffect );\n\t\tparseLibrary( collada, 'library_materials', 'material', parseMaterial );\n\t\tparseLibrary( collada, 'library_cameras', 'camera', parseCamera );\n\t\tparseLibrary( collada, 'library_lights', 'light', parseLight );\n\t\tparseLibrary( collada, 'library_geometries', 'geometry', parseGeometry );\n\t\tparseLibrary( collada, 'library_nodes', 'node', parseNode );\n\t\tparseLibrary( collada, 'library_visual_scenes', 'visual_scene', parseVisualScene );\n\t\tparseLibrary( collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel );\n\t\tparseLibrary( collada, 'library_physics_models', 'physics_model', parsePhysicsModel );\n\t\tparseLibrary( collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene );\n\n\t\tbuildLibrary( library.animations, buildAnimation );\n\t\tbuildLibrary( library.clips, buildAnimationClip );\n\t\tbuildLibrary( library.controllers, buildController );\n\t\tbuildLibrary( library.images, buildImage );\n\t\tbuildLibrary( library.effects, buildEffect );\n\t\tbuildLibrary( library.materials, buildMaterial );\n\t\tbuildLibrary( library.cameras, buildCamera );\n\t\tbuildLibrary( library.lights, buildLight );\n\t\tbuildLibrary( library.geometries, buildGeometry );\n\t\tbuildLibrary( library.visualScenes, buildVisualScene );\n\n\t\tsetupAnimations();\n\t\tsetupKinematics();\n\n\t\tconst scene = parseScene( getElementsByTagName( collada, 'scene' )[ 0 ] );\n\t\tscene.animations = animations;\n\n\t\tif ( asset.upAxis === 'Z_UP' ) {\n\n\t\t\tscene.quaternion.setFromEuler( new Euler( - Math.PI / 2, 0, 0 ) );\n\n\t\t}\n\n\t\tscene.scale.multiplyScalar( asset.unit );\n\n\t\treturn {\n\t\t\tget animations() {\n\n\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Please access animations over scene.animations now.' );\n\t\t\t\treturn animations;\n\n\t\t\t},\n\t\t\tkinematics: kinematics,\n\t\t\tlibrary: library,\n\t\t\tscene: scene\n\t\t};\n\n\t}\n\n}\n\nexport { ColladaLoader };\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsEmissiveStrengthExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIridescenceExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tKHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst emissiveStrength = materialDef.extensions[ this.name ].emissiveStrength;\n\n\t\tif ( emissiveStrength !== undefined ) {\n\n\t\t\tmaterialParams.emissiveIntensity = emissiveStrength;\n\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.iridescenceFactor !== undefined ) {\n\n\t\t\tmaterialParams.iridescence = extension.iridescenceFactor;\n\n\t\t}\n\n\t\tif ( extension.iridescenceTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceMap', extension.iridescenceTexture ) );\n\n\t\t}\n\n\t\tif ( extension.iridescenceIor !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceIOR = extension.iridescenceIor;\n\n\t\t}\n\n\t\tif ( materialParams.iridescenceThicknessRange === undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange = [ 100, 400 ];\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMinimum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 0 ] = extension.iridescenceThicknessMinimum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMaximum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 1 ] = extension.iridescenceThicknessMaximum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenColor.fromArray( extension.sheenColorFactor );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.roughness += geometryRoughness;',\n\t\t\t'material.roughness = min( material.roughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity'\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = materialParams.emissiveIntensity === undefined ? 1.0 : materialParams.emissiveIntensity;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer;\n\t\tconst values = this.sampleValues;\n\t\tconst stride = this.valueSize;\n\n\t\tconst stride2 = stride * 2;\n\t\tconst stride3 = stride * 3;\n\n\t\tconst td = t1 - t0;\n\n\t\tconst p = ( t - t0 ) / td;\n\t\tconst pp = p * p;\n\t\tconst ppp = pp * p;\n\n\t\tconst offset1 = i1 * stride3;\n\t\tconst offset0 = offset1 - stride3;\n\n\t\tconst s2 = - 2 * ppp + 3 * pp;\n\t\tconst s3 = ppp - pp;\n\t\tconst s0 = 1 - s2;\n\t\tconst s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\n\treturn 'image/png';\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\n\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test( navigator.userAgent ) === true;\n\t\tconst isFirefox = navigator.userAgent.indexOf( 'Firefox' ) > - 1;\n\t\tconst firefoxVersion = isFirefox ? navigator.userAgent.match( /Firefox\\/([0-9]+)\\./ )[ 1 ] : - 1;\n\n\t\tif ( typeof createImageBitmap === 'undefined' || isSafari || ( isFirefox && firefoxVersion < 98 ) ) {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadAnimation && ext.loadAnimation( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( ( texture ) => texture.clone() );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef, encoding ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = encoding;\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\t\t\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierarchy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierarchy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierarchy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3,\n\tColor\n} from 'three';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\nconst _face_vertex_data_separator_pattern = /\\s+/;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nconst _color = new Color();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet result = [];\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tconst line = lines[ i ].trimStart();\n\n\t\t\tif ( line.length === 0 ) continue;\n\n\t\t\tconst lineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( _face_vertex_data_separator_pattern );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\t\t\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\t\t\tstate.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( _face_vertex_data_separator_pattern );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].slice( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].slice( 1 ).trim() ).slice( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","import {\n\tCompressedTextureLoader,\n\tRGBAFormat,\n\tRGBA_S3TC_DXT3_Format,\n\tRGBA_S3TC_DXT5_Format,\n\tRGB_ETC1_Format,\n\tRGB_S3TC_DXT1_Format\n} from 'three';\n\nclass DDSLoader extends CompressedTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tparse( buffer, loadMipmaps ) {\n\n\t\tconst dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n\t\t// Adapted from @toji's DDS utils\n\t\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\n\n\t\t// All values and structures referenced from:\n\t\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\n\n\t\tconst DDS_MAGIC = 0x20534444;\n\n\t\t// const DDSD_CAPS = 0x1;\n\t\t// const DDSD_HEIGHT = 0x2;\n\t\t// const DDSD_WIDTH = 0x4;\n\t\t// const DDSD_PITCH = 0x8;\n\t\t// const DDSD_PIXELFORMAT = 0x1000;\n\t\tconst DDSD_MIPMAPCOUNT = 0x20000;\n\t\t// const DDSD_LINEARSIZE = 0x80000;\n\t\t// const DDSD_DEPTH = 0x800000;\n\n\t\t// const DDSCAPS_COMPLEX = 0x8;\n\t\t// const DDSCAPS_MIPMAP = 0x400000;\n\t\t// const DDSCAPS_TEXTURE = 0x1000;\n\n\t\tconst DDSCAPS2_CUBEMAP = 0x200;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEX = 0x400;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000;\n\t\t// const DDSCAPS2_VOLUME = 0x200000;\n\n\t\t// const DDPF_ALPHAPIXELS = 0x1;\n\t\t// const DDPF_ALPHA = 0x2;\n\t\t// const DDPF_FOURCC = 0x4;\n\t\t// const DDPF_RGB = 0x40;\n\t\t// const DDPF_YUV = 0x200;\n\t\t// const DDPF_LUMINANCE = 0x20000;\n\n\t\tfunction fourCCToInt32( value ) {\n\n\t\t\treturn value.charCodeAt( 0 ) +\n\t\t\t\t( value.charCodeAt( 1 ) << 8 ) +\n\t\t\t\t( value.charCodeAt( 2 ) << 16 ) +\n\t\t\t\t( value.charCodeAt( 3 ) << 24 );\n\n\t\t}\n\n\t\tfunction int32ToFourCC( value ) {\n\n\t\t\treturn String.fromCharCode(\n\t\t\t\tvalue & 0xff,\n\t\t\t\t( value >> 8 ) & 0xff,\n\t\t\t\t( value >> 16 ) & 0xff,\n\t\t\t\t( value >> 24 ) & 0xff\n\t\t\t);\n\n\t\t}\n\n\t\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\n\n\t\t\tconst dataLength = width * height * 4;\n\t\t\tconst srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\n\t\t\tconst byteArray = new Uint8Array( dataLength );\n\t\t\tlet dst = 0;\n\t\t\tlet src = 0;\n\t\t\tfor ( let y = 0; y < height; y ++ ) {\n\n\t\t\t\tfor ( let x = 0; x < width; x ++ ) {\n\n\t\t\t\t\tconst b = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst g = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst r = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst a = srcBuffer[ src ]; src ++;\n\t\t\t\t\tbyteArray[ dst ] = r; dst ++;\t//r\n\t\t\t\t\tbyteArray[ dst ] = g; dst ++;\t//g\n\t\t\t\t\tbyteArray[ dst ] = b; dst ++;\t//b\n\t\t\t\t\tbyteArray[ dst ] = a; dst ++;\t//a\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn byteArray;\n\n\t\t}\n\n\t\tconst FOURCC_DXT1 = fourCCToInt32( 'DXT1' );\n\t\tconst FOURCC_DXT3 = fourCCToInt32( 'DXT3' );\n\t\tconst FOURCC_DXT5 = fourCCToInt32( 'DXT5' );\n\t\tconst FOURCC_ETC1 = fourCCToInt32( 'ETC1' );\n\n\t\tconst headerLengthInt = 31; // The header length in 32 bit ints\n\n\t\t// Offsets into the header array\n\n\t\tconst off_magic = 0;\n\n\t\tconst off_size = 1;\n\t\tconst off_flags = 2;\n\t\tconst off_height = 3;\n\t\tconst off_width = 4;\n\n\t\tconst off_mipmapCount = 7;\n\n\t\t// const off_pfFlags = 20;\n\t\tconst off_pfFourCC = 21;\n\t\tconst off_RGBBitCount = 22;\n\t\tconst off_RBitMask = 23;\n\t\tconst off_GBitMask = 24;\n\t\tconst off_BBitMask = 25;\n\t\tconst off_ABitMask = 26;\n\n\t\t// const off_caps = 27;\n\t\tconst off_caps2 = 28;\n\t\t// const off_caps3 = 29;\n\t\t// const off_caps4 = 30;\n\n\t\t// Parse header\n\n\t\tconst header = new Int32Array( buffer, 0, headerLengthInt );\n\n\t\tif ( header[ off_magic ] !== DDS_MAGIC ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Invalid magic number in DDS header.' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tlet blockBytes;\n\n\t\tconst fourCC = header[ off_pfFourCC ];\n\n\t\tlet isRGBAUncompressed = false;\n\n\t\tswitch ( fourCC ) {\n\n\t\t\tcase FOURCC_DXT1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_S3TC_DXT1_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT3:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT3_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT5:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT5_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_ETC1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_ETC1_Format;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tif ( header[ off_RGBBitCount ] === 32\n\t\t\t\t\t&& header[ off_RBitMask ] & 0xff0000\n\t\t\t\t\t&& header[ off_GBitMask ] & 0xff00\n\t\t\t\t\t&& header[ off_BBitMask ] & 0xff\n\t\t\t\t\t&& header[ off_ABitMask ] & 0xff000000 ) {\n\n\t\t\t\t\tisRGBAUncompressed = true;\n\t\t\t\t\tblockBytes = 64;\n\t\t\t\t\tdds.format = RGBAFormat;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\n\t\t\t\t\treturn dds;\n\n\t\t\t\t}\n\n\t\t}\n\n\t\tdds.mipmapCount = 1;\n\n\t\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\n\n\t\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\n\n\t\t}\n\n\t\tconst caps2 = header[ off_caps2 ];\n\t\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\n\t\tif ( dds.isCubemap && (\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\n\t\t) ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Incomplete cubemap faces' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tdds.width = header[ off_width ];\n\t\tdds.height = header[ off_height ];\n\n\t\tlet dataOffset = header[ off_size ] + 4;\n\n\t\t// Extract mipmaps buffers\n\n\t\tconst faces = dds.isCubemap ? 6 : 1;\n\n\t\tfor ( let face = 0; face < faces; face ++ ) {\n\n\t\t\tlet width = dds.width;\n\t\t\tlet height = dds.height;\n\n\t\t\tfor ( let i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\tlet byteArray, dataLength;\n\n\t\t\t\tif ( isRGBAUncompressed ) {\n\n\t\t\t\t\tbyteArray = loadARGBMip( buffer, dataOffset, width, height );\n\t\t\t\t\tdataLength = byteArray.length;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\n\t\t\t\t\tbyteArray = new Uint8Array( buffer, dataOffset, dataLength );\n\n\t\t\t\t}\n\n\t\t\t\tconst mipmap = { 'data': byteArray, 'width': width, 'height': height };\n\t\t\t\tdds.mipmaps.push( mipmap );\n\n\t\t\t\tdataOffset += dataLength;\n\n\t\t\t\twidth = Math.max( width >> 1, 1 );\n\t\t\t\theight = Math.max( height >> 1, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn dds;\n\n\t}\n\n}\n\nexport { DDSLoader };\n","class LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nexport { DefaultLoadingManager, LoadingManager };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tLoaderUtils,\n\tColor\n} from 'three';\n\n/**\n * Description: A THREE loader for PLY ASCII files (known as the Polygon\n * File Format or the Stanford Triangle Format).\n *\n * Limitations: ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *\tconst loader = new PLYLoader();\n *\tloader.load('./models/ply/ascii/dolphins.ply', function (geometry) {\n *\n *\t\tscene.add( new THREE.Mesh( geometry ) );\n *\n *\t} );\n *\n * If the PLY file uses non standard property names, they can be mapped while\n * loading. For example, the following maps the properties\n * diffuse_(red|green|blue) in the file to standard color names.\n *\n * loader.setPropertyNameMapping( {\n *\tdiffuse_red: 'red',\n *\tdiffuse_green: 'green',\n *\tdiffuse_blue: 'blue'\n * } );\n *\n */\n\nconst _color = new Color();\n\nclass PLYLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.propertyNameMapping = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetPropertyNameMapping( mapping ) {\n\n\t\tthis.propertyNameMapping = mapping;\n\n\t}\n\n\tparse( data ) {\n\n\t\tfunction parseHeader( data ) {\n\n\t\t\tconst patternHeader = /^ply([\\s\\S]*)end_header(\\r\\n|\\r|\\n)/;\n\t\t\tlet headerText = '';\n\t\t\tlet headerLength = 0;\n\t\t\tconst result = patternHeader.exec( data );\n\n\t\t\tif ( result !== null ) {\n\n\t\t\t\theaderText = result[ 1 ];\n\t\t\t\theaderLength = new Blob( [ result[ 0 ] ] ).size;\n\n\t\t\t}\n\n\t\t\tconst header = {\n\t\t\t\tcomments: [],\n\t\t\t\telements: [],\n\t\t\t\theaderLength: headerLength,\n\t\t\t\tobjInfo: ''\n\t\t\t};\n\n\t\t\tconst lines = headerText.split( /\\r\\n|\\r|\\n/ );\n\t\t\tlet currentElement;\n\n\t\t\tfunction make_ply_element_property( propertValues, propertyNameMapping ) {\n\n\t\t\t\tconst property = { type: propertValues[ 0 ] };\n\n\t\t\t\tif ( property.type === 'list' ) {\n\n\t\t\t\t\tproperty.name = propertValues[ 3 ];\n\t\t\t\t\tproperty.countType = propertValues[ 1 ];\n\t\t\t\t\tproperty.itemType = propertValues[ 2 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tproperty.name = propertValues[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( property.name in propertyNameMapping ) {\n\n\t\t\t\t\tproperty.name = propertyNameMapping[ property.name ];\n\n\t\t\t\t}\n\n\t\t\t\treturn property;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tlet line = lines[ i ];\n\t\t\t\tline = line.trim();\n\n\t\t\t\tif ( line === '' ) continue;\n\n\t\t\t\tconst lineValues = line.split( /\\s+/ );\n\t\t\t\tconst lineType = lineValues.shift();\n\t\t\t\tline = lineValues.join( ' ' );\n\n\t\t\t\tswitch ( lineType ) {\n\n\t\t\t\t\tcase 'format':\n\n\t\t\t\t\t\theader.format = lineValues[ 0 ];\n\t\t\t\t\t\theader.version = lineValues[ 1 ];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'comment':\n\n\t\t\t\t\t\theader.comments.push( line );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'element':\n\n\t\t\t\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentElement = {};\n\t\t\t\t\t\tcurrentElement.name = lineValues[ 0 ];\n\t\t\t\t\t\tcurrentElement.count = parseInt( lineValues[ 1 ] );\n\t\t\t\t\t\tcurrentElement.properties = [];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'property':\n\n\t\t\t\t\t\tcurrentElement.properties.push( make_ply_element_property( lineValues, scope.propertyNameMapping ) );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'obj_info':\n\n\t\t\t\t\t\theader.objInfo = line;\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.log( 'unhandled', lineType, lineValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t}\n\n\t\t\treturn header;\n\n\t\t}\n\n\t\tfunction parseASCIINumber( n, type ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'char': case 'uchar': case 'short': case 'ushort': case 'int': case 'uint':\n\t\t\t\tcase 'int8': case 'uint8': case 'int16': case 'uint16': case 'int32': case 'uint32':\n\n\t\t\t\t\treturn parseInt( n );\n\n\t\t\t\tcase 'float': case 'double': case 'float32': case 'float64':\n\n\t\t\t\t\treturn parseFloat( n );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseASCIIElement( properties, line ) {\n\n\t\t\tconst values = line.split( /\\s+/ );\n\n\t\t\tconst element = {};\n\n\t\t\tfor ( let i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tconst list = [];\n\t\t\t\t\tconst n = parseASCIINumber( values.shift(), properties[ i ].countType );\n\n\t\t\t\t\tfor ( let j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tlist.push( parseASCIINumber( values.shift(), properties[ i ].itemType ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\telement[ properties[ i ].name ] = parseASCIINumber( values.shift(), properties[ i ].type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn element;\n\n\t\t}\n\n\t\tfunction parseASCII( data, header ) {\n\n\t\t\t// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\n\n\t\t\tconst buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tlet result;\n\n\t\t\tconst patternBody = /end_header\\s([\\s\\S]*)$/;\n\t\t\tlet body = '';\n\t\t\tif ( ( result = patternBody.exec( data ) ) !== null ) {\n\n\t\t\t\tbody = result[ 1 ];\n\n\t\t\t}\n\n\t\t\tconst lines = body.split( /\\r\\n|\\r|\\n/ );\n\t\t\tlet currentElement = 0;\n\t\t\tlet currentElementCount = 0;\n\n\t\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tlet line = lines[ i ];\n\t\t\t\tline = line.trim();\n\t\t\t\tif ( line === '' ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tif ( currentElementCount >= header.elements[ currentElement ].count ) {\n\n\t\t\t\t\tcurrentElement ++;\n\t\t\t\t\tcurrentElementCount = 0;\n\n\t\t\t\t}\n\n\t\t\t\tconst element = parseASCIIElement( header.elements[ currentElement ].properties, line );\n\n\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\tcurrentElementCount ++;\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\tfunction postProcess( buffer ) {\n\n\t\t\tlet geometry = new BufferGeometry();\n\n\t\t\t// mandatory buffer data\n\n\t\t\tif ( buffer.indices.length > 0 ) {\n\n\t\t\t\tgeometry.setIndex( buffer.indices );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( buffer.vertices, 3 ) );\n\n\t\t\t// optional buffer data\n\n\t\t\tif ( buffer.normals.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( buffer.normals, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.uvs.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.uvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.colors.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( buffer.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.faceVertexUvs.length > 0 ) {\n\n\t\t\t\tgeometry = geometry.toNonIndexed();\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.faceVertexUvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction handleElement( buffer, elementName, element ) {\n\n\t\t\tfunction findAttrName( names ) {\n\n\t\t\t\tfor ( let i = 0, l = names.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst name = names[ i ];\n\n\t\t\t\t\tif ( name in element ) return name;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tconst attrX = findAttrName( [ 'x', 'px', 'posx' ] ) || 'x';\n\t\t\tconst attrY = findAttrName( [ 'y', 'py', 'posy' ] ) || 'y';\n\t\t\tconst attrZ = findAttrName( [ 'z', 'pz', 'posz' ] ) || 'z';\n\t\t\tconst attrNX = findAttrName( [ 'nx', 'normalx' ] );\n\t\t\tconst attrNY = findAttrName( [ 'ny', 'normaly' ] );\n\t\t\tconst attrNZ = findAttrName( [ 'nz', 'normalz' ] );\n\t\t\tconst attrS = findAttrName( [ 's', 'u', 'texture_u', 'tx' ] );\n\t\t\tconst attrT = findAttrName( [ 't', 'v', 'texture_v', 'ty' ] );\n\t\t\tconst attrR = findAttrName( [ 'red', 'diffuse_red', 'r', 'diffuse_r' ] );\n\t\t\tconst attrG = findAttrName( [ 'green', 'diffuse_green', 'g', 'diffuse_g' ] );\n\t\t\tconst attrB = findAttrName( [ 'blue', 'diffuse_blue', 'b', 'diffuse_b' ] );\n\n\t\t\tif ( elementName === 'vertex' ) {\n\n\t\t\t\tbuffer.vertices.push( element[ attrX ], element[ attrY ], element[ attrZ ] );\n\n\t\t\t\tif ( attrNX !== null && attrNY !== null && attrNZ !== null ) {\n\n\t\t\t\t\tbuffer.normals.push( element[ attrNX ], element[ attrNY ], element[ attrNZ ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrS !== null && attrT !== null ) {\n\n\t\t\t\t\tbuffer.uvs.push( element[ attrS ], element[ attrT ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrR !== null && attrG !== null && attrB !== null ) {\n\n\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\telement[ attrR ] / 255.0,\n\t\t\t\t\t\telement[ attrG ] / 255.0,\n\t\t\t\t\t\telement[ attrB ] / 255.0\n\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\tbuffer.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t}\n\n\t\t\t} else if ( elementName === 'face' ) {\n\n\t\t\t\tconst vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338\n\t\t\t\tconst texcoord = element.texcoord;\n\n\t\t\t\tif ( vertex_indices.length === 3 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 2 ] );\n\n\t\t\t\t\tif ( texcoord && texcoord.length === 6 ) {\n\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 0 ], texcoord[ 1 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 2 ], texcoord[ 3 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 4 ], texcoord[ 5 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( vertex_indices.length === 4 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 3 ] );\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 1 ], vertex_indices[ 2 ], vertex_indices[ 3 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryRead( dataview, at, type, little_endian ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\t// corespondences for non-specific length types here match rply:\n\t\t\t\tcase 'int8':\t\tcase 'char':\t return [ dataview.getInt8( at ), 1 ];\n\t\t\t\tcase 'uint8':\t\tcase 'uchar':\t return [ dataview.getUint8( at ), 1 ];\n\t\t\t\tcase 'int16':\t\tcase 'short':\t return [ dataview.getInt16( at, little_endian ), 2 ];\n\t\t\t\tcase 'uint16':\tcase 'ushort': return [ dataview.getUint16( at, little_endian ), 2 ];\n\t\t\t\tcase 'int32':\t\tcase 'int':\t\t return [ dataview.getInt32( at, little_endian ), 4 ];\n\t\t\t\tcase 'uint32':\tcase 'uint':\t return [ dataview.getUint32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float32': case 'float':\t return [ dataview.getFloat32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float64': case 'double': return [ dataview.getFloat64( at, little_endian ), 8 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryReadElement( dataview, at, properties, little_endian ) {\n\n\t\t\tconst element = {};\n\t\t\tlet result, read = 0;\n\n\t\t\tfor ( let i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tconst list = [];\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].countType, little_endian );\n\t\t\t\t\tconst n = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\tfor ( let j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].itemType, little_endian );\n\t\t\t\t\t\tlist.push( result[ 0 ] );\n\t\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].type, little_endian );\n\t\t\t\t\telement[ properties[ i ].name ] = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn [ element, read ];\n\n\t\t}\n\n\t\tfunction parseBinary( data, header ) {\n\n\t\t\tconst buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tconst little_endian = ( header.format === 'binary_little_endian' );\n\t\t\tconst body = new DataView( data, header.headerLength );\n\t\t\tlet result, loc = 0;\n\n\t\t\tfor ( let currentElement = 0; currentElement < header.elements.length; currentElement ++ ) {\n\n\t\t\t\tfor ( let currentElementCount = 0; currentElementCount < header.elements[ currentElement ].count; currentElementCount ++ ) {\n\n\t\t\t\t\tresult = binaryReadElement( body, loc, header.elements[ currentElement ].properties, little_endian );\n\t\t\t\t\tloc += result[ 1 ];\n\t\t\t\t\tconst element = result[ 0 ];\n\n\t\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\t//\n\n\t\tlet geometry;\n\t\tconst scope = this;\n\n\t\tif ( data instanceof ArrayBuffer ) {\n\n\t\t\tconst text = LoaderUtils.decodeText( new Uint8Array( data ) );\n\t\t\tconst header = parseHeader( text );\n\n\t\t\tgeometry = header.format === 'ascii' ? parseASCII( text, header ) : parseBinary( data, header );\n\n\t\t} else {\n\n\t\t\tgeometry = parseASCII( data, parseHeader( data ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nexport { PLYLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tLoaderUtils,\n\tVector3\n} from 'three';\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  const loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  const mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * const mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  const materials = [];\n *  const nGeometryGroups = geometry.groups.length;\n *\n *  const colorMap = ...; // Some logic to index colors.\n *\n *  for (let i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tconst material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  const mesh = new THREE.Mesh(geometry, materials);\n */\n\n\nclass STLLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( data ) {\n\n\t\tfunction isBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst face_size = ( 32 / 8 * 3 ) + ( ( 32 / 8 * 3 ) * 3 ) + ( 16 / 8 );\n\t\t\tconst n_faces = reader.getUint32( 80, true );\n\t\t\tconst expect = 80 + ( 32 / 8 ) + ( n_faces * face_size );\n\n\t\t\tif ( expect === reader.byteLength ) {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\t// An ASCII STL data must begin with 'solid ' as the first six bytes.\n\t\t\t// However, ASCII STLs lacking the SPACE after the 'd' are known to be\n\t\t\t// plentiful.  So, check the first 5 bytes for 'solid'.\n\n\t\t\t// Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n\t\t\t// https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n\t\t\t// Search for \"solid\" to start anywhere after those prefixes.\n\n\t\t\t// US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\t\t\tconst solid = [ 115, 111, 108, 105, 100 ];\n\n\t\t\tfor ( let off = 0; off < 5; off ++ ) {\n\n\t\t\t\t// If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n\n\t\t\t\tif ( matchDataViewAt( solid, reader, off ) ) return false;\n\n\t\t\t}\n\n\t\t\t// Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction matchDataViewAt( query, reader, offset ) {\n\n\t\t\t// Check if each byte in query matches the corresponding byte from the current offset\n\n\t\t\tfor ( let i = 0, il = query.length; i < il; i ++ ) {\n\n\t\t\t\tif ( query[ i ] !== reader.getUint8( offset + i ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction parseBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst faces = reader.getUint32( 80, true );\n\n\t\t\tlet r, g, b, hasColors = false, colors;\n\t\t\tlet defaultR, defaultG, defaultB, alpha;\n\n\t\t\t// process STL header\n\t\t\t// check for default color in header (\"COLOR=rgba\" sequence).\n\n\t\t\tfor ( let index = 0; index < 80 - 10; index ++ ) {\n\n\t\t\t\tif ( ( reader.getUint32( index, false ) == 0x434F4C4F /*COLO*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 4 ) == 0x52 /*'R'*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 5 ) == 0x3D /*'='*/ ) ) {\n\n\t\t\t\t\thasColors = true;\n\t\t\t\t\tcolors = new Float32Array( faces * 3 * 3 );\n\n\t\t\t\t\tdefaultR = reader.getUint8( index + 6 ) / 255;\n\t\t\t\t\tdefaultG = reader.getUint8( index + 7 ) / 255;\n\t\t\t\t\tdefaultB = reader.getUint8( index + 8 ) / 255;\n\t\t\t\t\talpha = reader.getUint8( index + 9 ) / 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst dataOffset = 84;\n\t\t\tconst faceLength = 12 * 4 + 2;\n\n\t\t\tconst geometry = new BufferGeometry();\n\n\t\t\tconst vertices = new Float32Array( faces * 3 * 3 );\n\t\t\tconst normals = new Float32Array( faces * 3 * 3 );\n\n\t\t\tfor ( let face = 0; face < faces; face ++ ) {\n\n\t\t\t\tconst start = dataOffset + face * faceLength;\n\t\t\t\tconst normalX = reader.getFloat32( start, true );\n\t\t\t\tconst normalY = reader.getFloat32( start + 4, true );\n\t\t\t\tconst normalZ = reader.getFloat32( start + 8, true );\n\n\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\tconst packedColor = reader.getUint16( start + 48, true );\n\n\t\t\t\t\tif ( ( packedColor & 0x8000 ) === 0 ) {\n\n\t\t\t\t\t\t// facet has its own unique color\n\n\t\t\t\t\t\tr = ( packedColor & 0x1F ) / 31;\n\t\t\t\t\t\tg = ( ( packedColor >> 5 ) & 0x1F ) / 31;\n\t\t\t\t\t\tb = ( ( packedColor >> 10 ) & 0x1F ) / 31;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tr = defaultR;\n\t\t\t\t\t\tg = defaultG;\n\t\t\t\t\t\tb = defaultB;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 1; i <= 3; i ++ ) {\n\n\t\t\t\t\tconst vertexstart = start + i * 12;\n\t\t\t\t\tconst componentIdx = ( face * 3 * 3 ) + ( ( i - 1 ) * 3 );\n\n\t\t\t\t\tvertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n\t\t\t\t\tvertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n\t\t\t\t\tvertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n\n\t\t\t\t\tnormals[ componentIdx ] = normalX;\n\t\t\t\t\tnormals[ componentIdx + 1 ] = normalY;\n\t\t\t\t\tnormals[ componentIdx + 2 ] = normalZ;\n\n\t\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\t\tcolors[ componentIdx ] = r;\n\t\t\t\t\t\tcolors[ componentIdx + 1 ] = g;\n\t\t\t\t\t\tcolors[ componentIdx + 2 ] = b;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\n\n\t\t\tif ( hasColors ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\t\t\t\tgeometry.hasColors = true;\n\t\t\t\tgeometry.alpha = alpha;\n\n\t\t\t}\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction parseASCII( data ) {\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst patternSolid = /solid([\\s\\S]*?)endsolid/g;\n\t\t\tconst patternFace = /facet([\\s\\S]*?)endfacet/g;\n\t\t\tlet faceCounter = 0;\n\n\t\t\tconst patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n\t\t\tconst patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n\t\t\tconst patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\n\t\t\tconst normal = new Vector3();\n\n\t\t\tlet result;\n\n\t\t\tlet groupCount = 0;\n\t\t\tlet startVertex = 0;\n\t\t\tlet endVertex = 0;\n\n\t\t\twhile ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n\t\t\t\tstartVertex = endVertex;\n\n\t\t\t\tconst solid = result[ 0 ];\n\n\t\t\t\twhile ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n\t\t\t\t\tlet vertexCountPerFace = 0;\n\t\t\t\t\tlet normalCountPerFace = 0;\n\n\t\t\t\t\tconst text = result[ 0 ];\n\n\t\t\t\t\twhile ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tnormal.x = parseFloat( result[ 1 ] );\n\t\t\t\t\t\tnormal.y = parseFloat( result[ 2 ] );\n\t\t\t\t\t\tnormal.z = parseFloat( result[ 3 ] );\n\t\t\t\t\t\tnormalCountPerFace ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tvertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n\t\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\t\t\t\t\t\tvertexCountPerFace ++;\n\t\t\t\t\t\tendVertex ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// every face have to own ONE valid normal\n\n\t\t\t\t\tif ( normalCountPerFace !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// each face have to own THREE valid vertices\n\n\t\t\t\t\tif ( vertexCountPerFace !== 3 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceCounter ++;\n\n\t\t\t\t}\n\n\t\t\t\tconst start = startVertex;\n\t\t\t\tconst count = endVertex - startVertex;\n\n\t\t\t\tgeometry.addGroup( start, count, groupCount );\n\t\t\t\tgroupCount ++;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction ensureString( buffer ) {\n\n\t\t\tif ( typeof buffer !== 'string' ) {\n\n\t\t\t\treturn LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n\t\t\t}\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\t\tfunction ensureBinary( buffer ) {\n\n\t\t\tif ( typeof buffer === 'string' ) {\n\n\t\t\t\tconst array_buffer = new Uint8Array( buffer.length );\n\t\t\t\tfor ( let i = 0; i < buffer.length; i ++ ) {\n\n\t\t\t\t\tarray_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n\t\t\t\t}\n\n\t\t\t\treturn array_buffer.buffer || array_buffer;\n\n\t\t\t} else {\n\n\t\t\t\treturn buffer;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// start\n\n\t\tconst binData = ensureBinary( data );\n\n\t\treturn isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n\t}\n\n}\n\nexport { STLLoader };\n","import {\n\tColor,\n\tDefaultLoadingManager,\n\tFileLoader,\n\tFrontSide,\n\tLoader,\n\tLoaderUtils,\n\tMeshPhongMaterial,\n\tRepeatWrapping,\n\tTextureLoader,\n\tVector2,\n\tsRGBEncoding\n} from 'three';\n\n/**\n * Loads a Wavefront .mtl file specifying materials\n */\n\nclass MTLLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\t/**\n\t * Loads and parses a MTL asset from a URL.\n\t *\n\t * @param {String} url - URL to the MTL file.\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\n\t * @param {Function} [onProgress] - Callback for download progress.\n\t * @param {Function} [onError] - Callback for download errors.\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to load.\n\t */\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterialOptions( value ) {\n\n\t\tthis.materialOptions = value;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Parses a MTL file.\n\t *\n\t * @param {String} text - Content of MTL file\n\t * @return {MaterialCreator}\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to parse.\n\t */\n\tparse( text, path ) {\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet info = {};\n\t\tconst delimiter_pattern = /\\s+/;\n\t\tconst materialsInfo = {};\n\n\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\tlet line = lines[ i ];\n\t\t\tline = line.trim();\n\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t// Blank line or comment ignore\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst pos = line.indexOf( ' ' );\n\n\t\t\tlet key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n\t\t\tkey = key.toLowerCase();\n\n\t\t\tlet value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n\t\t\tvalue = value.trim();\n\n\t\t\tif ( key === 'newmtl' ) {\n\n\t\t\t\t// New material\n\n\t\t\t\tinfo = { name: value };\n\t\t\t\tmaterialsInfo[ value ] = info;\n\n\t\t\t} else {\n\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke' ) {\n\n\t\t\t\t\tconst ss = value.split( delimiter_pattern, 3 );\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinfo[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst materialCreator = new MaterialCreator( this.resourcePath || path, this.materialOptions );\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\n\t\tmaterialCreator.setManager( this.manager );\n\t\tmaterialCreator.setMaterials( materialsInfo );\n\t\treturn materialCreator;\n\n\t}\n\n}\n\n/**\n * Create a new MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nclass MaterialCreator {\n\n\tconstructor( baseUrl = '', options = {} ) {\n\n\t\tthis.baseUrl = baseUrl;\n\t\tthis.options = options;\n\t\tthis.materialsInfo = {};\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t\tthis.crossOrigin = 'anonymous';\n\n\t\tthis.side = ( this.options.side !== undefined ) ? this.options.side : FrontSide;\n\t\tthis.wrap = ( this.options.wrap !== undefined ) ? this.options.wrap : RepeatWrapping;\n\n\t}\n\n\tsetCrossOrigin( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t}\n\n\tsetManager( value ) {\n\n\t\tthis.manager = value;\n\n\t}\n\n\tsetMaterials( materialsInfo ) {\n\n\t\tthis.materialsInfo = this.convert( materialsInfo );\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t}\n\n\tconvert( materialsInfo ) {\n\n\t\tif ( ! this.options ) return materialsInfo;\n\n\t\tconst converted = {};\n\n\t\tfor ( const mn in materialsInfo ) {\n\n\t\t\t// Convert materials info into normalized form based on options\n\n\t\t\tconst mat = materialsInfo[ mn ];\n\n\t\t\tconst covmat = {};\n\n\t\t\tconverted[ mn ] = covmat;\n\n\t\t\tfor ( const prop in mat ) {\n\n\t\t\t\tlet save = true;\n\t\t\t\tlet value = mat[ prop ];\n\t\t\t\tconst lprop = prop.toLowerCase();\n\n\t\t\t\tswitch ( lprop ) {\n\n\t\t\t\t\tcase 'kd':\n\t\t\t\t\tcase 'ka':\n\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\n\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\n\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n\t\t\t\t\t\t\t\t// ignore\n\n\t\t\t\t\t\t\t\tsave = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( save ) {\n\n\t\t\t\t\tcovmat[ lprop ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn converted;\n\n\t}\n\n\tpreload() {\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.create( mn );\n\n\t\t}\n\n\t}\n\n\tgetIndex( materialName ) {\n\n\t\treturn this.nameLookup[ materialName ];\n\n\t}\n\n\tgetAsArray() {\n\n\t\tlet index = 0;\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\n\t\t\tthis.nameLookup[ mn ] = index;\n\t\t\tindex ++;\n\n\t\t}\n\n\t\treturn this.materialsArray;\n\n\t}\n\n\tcreate( materialName ) {\n\n\t\tif ( this.materials[ materialName ] === undefined ) {\n\n\t\t\tthis.createMaterial_( materialName );\n\n\t\t}\n\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tcreateMaterial_( materialName ) {\n\n\t\t// Create material\n\n\t\tconst scope = this;\n\t\tconst mat = this.materialsInfo[ materialName ];\n\t\tconst params = {\n\n\t\t\tname: materialName,\n\t\t\tside: this.side\n\n\t\t};\n\n\t\tfunction resolveURL( baseUrl, url ) {\n\n\t\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\t\treturn '';\n\n\t\t\t// Absolute URL\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\n\n\t\t\treturn baseUrl + url;\n\n\t\t}\n\n\t\tfunction setMapForType( mapType, value ) {\n\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\n\n\t\t\tconst texParams = scope.getTextureParams( value, params );\n\t\t\tconst map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n\t\t\tmap.repeat.copy( texParams.scale );\n\t\t\tmap.offset.copy( texParams.offset );\n\n\t\t\tmap.wrapS = scope.wrap;\n\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\tif ( mapType === 'map' || mapType === 'emissiveMap' ) {\n\n\t\t\t\tmap.encoding = sRGBEncoding;\n\n\t\t\t}\n\n\t\t\tparams[ mapType ] = map;\n\n\t\t}\n\n\t\tfor ( const prop in mat ) {\n\n\t\t\tconst value = mat[ prop ];\n\t\t\tlet n;\n\n\t\t\tif ( value === '' ) continue;\n\n\t\t\tswitch ( prop.toLowerCase() ) {\n\n\t\t\t\t// Ns is material specular exponent\n\n\t\t\t\tcase 'kd':\n\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\tparams.color = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ks':\n\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\n\t\t\t\t\tparams.specular = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ke':\n\n\t\t\t\t\t// Emissive using RGB values\n\t\t\t\t\tparams.emissive = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t// Diffuse texture map\n\n\t\t\t\t\tsetMapForType( 'map', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t// Specular map\n\n\t\t\t\t\tsetMapForType( 'specularMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ke':\n\n\t\t\t\t\t// Emissive map\n\n\t\t\t\t\tsetMapForType( 'emissiveMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'norm':\n\n\t\t\t\t\tsetMapForType( 'normalMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_bump':\n\t\t\t\tcase 'bump':\n\n\t\t\t\t\t// Bump texture map\n\n\t\t\t\t\tsetMapForType( 'bumpMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_d':\n\n\t\t\t\t\t// Alpha map\n\n\t\t\t\t\tsetMapForType( 'alphaMap', value );\n\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ns':\n\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n\t\t\t\t\tparams.shininess = parseFloat( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'd':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( n < 1 ) {\n\n\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tr':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\n\n\t\t\t\t\tif ( n > 0 ) {\n\n\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.materials[ materialName ] = new MeshPhongMaterial( params );\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tgetTextureParams( value, matParams ) {\n\n\t\tconst texParams = {\n\n\t\t\tscale: new Vector2( 1, 1 ),\n\t\t\toffset: new Vector2( 0, 0 )\n\n\t\t };\n\n\t\tconst items = value.split( /\\s+/ );\n\t\tlet pos;\n\n\t\tpos = items.indexOf( '-bm' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\n\t\t\titems.splice( pos, 2 );\n\n\t\t}\n\n\t\tpos = items.indexOf( '-s' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\tpos = items.indexOf( '-o' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\ttexParams.url = items.join( ' ' ).trim();\n\t\treturn texParams;\n\n\t}\n\n\tloadTexture( url, mapping, onLoad, onProgress, onError ) {\n\n\t\tconst manager = ( this.manager !== undefined ) ? this.manager : DefaultLoadingManager;\n\t\tlet loader = manager.getHandler( url );\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = new TextureLoader( manager );\n\n\t\t}\n\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n\n\t\tconst texture = loader.load( url, onLoad, onProgress, onError );\n\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t}\n\n}\n\nexport { MTLLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tLoader\n} from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.decoderPath = '';\n\t\tthis.decoderConfig = {};\n\t\tthis.decoderBinary = null;\n\t\tthis.decoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\n\t\tthis.defaultAttributeIDs = {\n\t\t\tposition: 'POSITION',\n\t\t\tnormal: 'NORMAL',\n\t\t\tcolor: 'COLOR',\n\t\t\tuv: 'TEX_COORD'\n\t\t};\n\t\tthis.defaultAttributeTypes = {\n\t\t\tposition: 'Float32Array',\n\t\t\tnormal: 'Float32Array',\n\t\t\tcolor: 'Float32Array',\n\t\t\tuv: 'Float32Array'\n\t\t};\n\n\t}\n\n\tsetDecoderPath( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetDecoderConfig( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tconst taskConfig = {\n\t\t\t\tattributeIDs: this.defaultAttributeIDs,\n\t\t\t\tattributeTypes: this.defaultAttributeTypes,\n\t\t\t\tuseUniqueIDs: false\n\t\t\t};\n\n\t\t\tthis.decodeGeometry( buffer, taskConfig )\n\t\t\t\t.then( onLoad )\n\t\t\t\t.catch( onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\tdecodeDracoFile( buffer, callback, attributeIDs, attributeTypes ) {\n\n\t\tconst taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs\n\t\t};\n\n\t\tthis.decodeGeometry( buffer, taskConfig ).then( callback );\n\n\t}\n\n\tdecodeGeometry( buffer, taskConfig ) {\n\n\t\t// TODO: For backward-compatibility, support 'attributeTypes' objects containing\n\t\t// references (rather than names) to typed array constructors. These must be\n\t\t// serialized before sending them to the worker.\n\t\tfor ( const attribute in taskConfig.attributeTypes ) {\n\n\t\t\tconst type = taskConfig.attributeTypes[ attribute ];\n\n\t\t\tif ( type.BYTES_PER_ELEMENT !== undefined ) {\n\n\t\t\t\ttaskConfig.attributeTypes[ attribute ] = type.name;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet worker;\n\t\tconst taskID = this.workerNextTaskID ++;\n\t\tconst taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tconst geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t}\n\n\t_createGeometry( geometryData ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tconst attribute = geometryData.attributes[ i ];\n\t\t\tconst name = attribute.name;\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tgeometry.setAttribute( name, new BufferAttribute( array, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n\t_loadLibrary( url, responseType ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t}\n\n\tpreload() {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t}\n\n\t_initDecoder() {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tconst useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tconst librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tconst jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tconst fn = DRACOWorker.toString();\n\n\t\t\t\tconst body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t}\n\n\t_getWorker( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\t_releaseTask( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t}\n\n\tdebug() {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n\n\tlet decoderConfig;\n\tlet decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tconst buffer = message.buffer;\n\t\t\t\tconst taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tconst draco = module.draco;\n\t\t\t\t\tconst decoder = new draco.Decoder();\n\t\t\t\t\tconst decoderBuffer = new draco.DecoderBuffer();\n\t\t\t\t\tdecoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );\n\n\t\t\t\t\t\tconst buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoderBuffer );\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {\n\n\t\tconst attributeIDs = taskConfig.attributeIDs;\n\t\tconst attributeTypes = taskConfig.attributeTypes;\n\n\t\tlet dracoGeometry;\n\t\tlet decodingStatus;\n\n\t\tconst geometryType = decoder.GetEncodedGeometryType( decoderBuffer );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tconst geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( const attributeName in attributeIDs ) {\n\n\t\t\tconst attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tlet attribute;\n\t\t\tlet attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tconst numFaces = dracoGeometry.num_faces();\n\t\tconst numIndices = numFaces * 3;\n\t\tconst byteLength = numIndices * 4;\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tconst index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tconst numComponents = attribute.num_components();\n\t\tconst numPoints = dracoGeometry.num_points();\n\t\tconst numValues = numPoints * numComponents;\n\t\tconst byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tconst dataType = getDracoDataType( draco, attributeType );\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tconst array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n}\n\nexport { DRACOLoader };\n","import { Box3, Vector3, Mesh, MeshPhongMaterial, MeshStandardMaterial, ObjectLoader } from \"three\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\r\nimport { ColladaLoader } from \"three/examples/jsm/loaders/ColladaLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { DDSLoader } from \"three/examples/jsm/loaders/DDSLoader\";\r\nimport { LoadingManager } from \"three/src/loaders/LoadingManager\";\r\nimport { PLYLoader } from \"three/examples/jsm/loaders/PLYLoader\";\r\nimport { STLLoader } from \"three/examples/jsm/loaders/STLLoader\";\r\nimport { MTLLoader } from \"three/examples/jsm/loaders/MTLLoader\";\r\nimport { TGALoader } from \"three/examples/jsm/loaders/TGALoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\n\r\nconst box = new Box3();\r\nconst manager = new LoadingManager();\r\nmanager.addHandler(/\\.dds$/i, new DDSLoader());\r\nmanager.addHandler(/\\.tga$/i, new TGALoader());\r\n\r\n// get box size\r\nfunction getSize(obj) {\r\n  box.setFromObject(obj);\r\n  return box.getSize(new Vector3());\r\n}\r\n\r\n// get box center\r\nfunction getCenter(obj) {\r\n  box.setFromObject(obj);\r\n  return box.getCenter(new Vector3());\r\n}\r\n\r\nfunction getExtension(str) { \r\n  const pathSplit = str.split('.');\r\n  if (pathSplit.length <= 1){\r\n    return \"\";\r\n  } else {\r\n    let extension = pathSplit.pop();\r\n    extension = extension.toLowerCase();\r\n    return extension;\r\n  }\r\n}\r\n\r\n// auto select model loader\r\nfunction getLoader(filePath, fileType, isDraco, dracoDir = '') {\r\n  let fileExtension\r\n  if (fileType) {\r\n    fileExtension = fileType\r\n  } else {\r\n    // Get file extension\r\n    fileExtension = getExtension(filePath);\r\n  }\r\n  // gltf type has two formats, .gltf and .glb, so make fileExtension glb to gltf\r\n  if (fileExtension === \"glb\") {\r\n    fileExtension = \"gltf\";\r\n  }\r\n  let obj = {\r\n    loader: null,\r\n    getObject: null\r\n  }; // obj {loader, getObject}\r\n  switch (fileExtension) {\r\n    case \"dae\":\r\n      obj = {\r\n        loader: new ColladaLoader(manager),\r\n        getObject: (collada) => {\r\n          return collada.scene;\r\n        }\r\n      };\r\n      break;\r\n    case \"fbx\":\r\n      obj = {\r\n        loader: new FBXLoader(manager)\r\n      };\r\n      break;\r\n    case \"gltf\":\r\n      obj = {\r\n        loader: new GLTFLoader(manager),\r\n        getObject: (gltf) => {\r\n          const object = gltf.scene\r\n          // resolve the gltf animations\r\n          if (gltf.animations) {\r\n            object.animations = gltf.animations\r\n          }\r\n          return object;\r\n        }\r\n      };\r\n      enableDraco(isDraco, obj, dracoDir)\r\n      break;\r\n    case \"obj\":\r\n      obj = {\r\n        loader: new OBJLoader(manager)\r\n      };\r\n      break;\r\n    case \"ply\":\r\n      obj = {\r\n        loader: new PLYLoader(manager),\r\n        getObject: (geometry) => { // geometry\r\n          geometry.computeVertexNormals();\r\n          return new Mesh(geometry, new MeshStandardMaterial());\r\n        }\r\n      };\r\n      break;\r\n    case \"stl\":\r\n      obj = {\r\n        loader: new STLLoader(manager),\r\n        getObject: (geometry) => { // geometry\r\n          return new Mesh(geometry, new MeshPhongMaterial());\r\n        }\r\n      };\r\n      break;\r\n    case \"json\":\r\n      obj = {\r\n        loader: new ObjectLoader(manager)\r\n      }\r\n      break;\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction getMTLLoader() {\r\n  const mtlLoader = new MTLLoader(manager);\r\n  return mtlLoader;\r\n}\r\n\r\nfunction enableDraco(isDraco, obj, dir = '') {\r\n  // draco loader\r\n  if (isDraco) {\r\n    const dracoLoader = new DRACOLoader()\r\n    dracoLoader.setDecoderPath(dir || \"assets/draco/gltf/\");\r\n    dracoLoader.setDecoderConfig({ type: \"js\" });\r\n    obj.loader.setDRACOLoader(dracoLoader);\r\n  }\r\n}\r\n\r\nexport {\r\n  getSize,\r\n  getCenter,\r\n  getLoader,\r\n  getMTLLoader\r\n}","<template>\r\n  <div class=\"viewer-container\" ref=\"container\">\r\n    <canvas ref=\"canvas\" class=\"viewer-canvas\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  Object3D,\r\n  Vector2,\r\n  Vector3,\r\n  Color,\r\n  Scene,\r\n  Raycaster,\r\n  WebGLRenderer,\r\n  PerspectiveCamera,\r\n  AmbientLight,\r\n  PointLight,\r\n  HemisphereLight,\r\n  DirectionalLight,\r\n  LinearEncoding,\r\n  Texture,\r\n  TextureLoader,\r\n  AnimationMixer,\r\n  Clock,\r\n  Sprite,\r\n  SpriteMaterial,\r\n  sRGBEncoding,\r\n  Group\r\n} from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport Stats from \"three/examples/jsm/libs/stats.module\";\r\nimport { getSize, getCenter, getLoader, getMTLLoader } from \"./loadModel\";\r\nexport default {\r\n  name: \"vue3dLoader\",\r\n  props: {\r\n    filePath: { type: [String, Array] }, // supports one or more filePath\r\n    fileType: { type: [String, Array] },\r\n    width: Number,\r\n    height: Number,\r\n    position: { type: [Object, Array] },\r\n    rotation: { type: [Object, Array] },\r\n    scale: {\r\n      type: [Object, Array],\r\n      default: () => {\r\n        return { x: 1, y: 1, z: 1 };\r\n      },\r\n    },\r\n    lights: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          {\r\n            type: \"AmbientLight\",\r\n            color: 0xaaaaaa,\r\n          },\r\n          {\r\n            type: \"DirectionalLight\",\r\n            position: { x: 1, y: 1, z: 1 },\r\n            color: 0xffffff,\r\n            intensity: 0.8,\r\n          },\r\n        ];\r\n      },\r\n    },\r\n    cameraPosition: {\r\n      type: Object,\r\n      default: () => {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    cameraRotation: Object,\r\n    cameraUp: Object,\r\n    cameraLookAt: Object,\r\n    backgroundColor: {\r\n      typeof: [Number, String],\r\n      default: () => {\r\n        return 0xffffff;\r\n      },\r\n    },\r\n    backgroundAlpha: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    controlsOptions: Object,\r\n    crossOrigin: {\r\n      type: String,\r\n      default: \"anonymous\",\r\n    },\r\n    requestHeader: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    outputEncoding: {\r\n      type: String,\r\n      default: \"linear\",\r\n    },\r\n    webGLRendererOptions: Object,\r\n    mtlPath: {\r\n      type: [String, Array],\r\n    },\r\n    showFps: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    textureImage: {\r\n      type: [String, Array],\r\n    },\r\n    clearScene: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n    parallelLoad: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n    labels: Array,\r\n    autoPlay: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return true;\r\n      },\r\n    },\r\n    enableDraco: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n    dracoDir: String,\r\n    intersectRecursive: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    // threeJS\r\n    const result = {\r\n      size: {\r\n        width: this.width,\r\n        height: this.height,\r\n      },\r\n      object: null,\r\n      raycaster: new Raycaster(),\r\n      camera: new PerspectiveCamera(45, 1, 1, 100000),\r\n      scene: new Scene(),\r\n      wrapper: null,\r\n      renderer: null,\r\n      controls: null,\r\n      allLights: [],\r\n      clock: new Clock(),\r\n      loader: null,\r\n      requestAnimationId: null,\r\n      stats: null,\r\n      mixers: null,\r\n      textureLoader: null,\r\n      css2DRenderer: null,\r\n    };\r\n    Object.assign(this, result);\r\n    // \r\n    return {\r\n      loaderIndex: 0,\r\n      timer: null,\r\n      objectPositionHasSet: false,\r\n      isMultipleModels: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  beforeDestroy() {\r\n    this.destroyScene();\r\n  },\r\n  watch: {\r\n    filePath() {\r\n      this.destroyScene();\r\n      this.init();\r\n    },\r\n    fileType() {\r\n      this.destroyScene();\r\n      this.init();\r\n    },\r\n    rotation: {\r\n      deep: true,\r\n      handler(val) {\r\n        this.setObjectAttr(\"rotation\", val);\r\n      },\r\n    },\r\n    position: {\r\n      deep: true,\r\n      handler(val) {\r\n        this.setObjectAttr(\"position\", val);\r\n      },\r\n    },\r\n    scale: {\r\n      deep: true,\r\n      handler(val) {\r\n        this.setObjectAttr(\"scale\", val);\r\n      },\r\n    },\r\n    lights: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateLights();\r\n      },\r\n    },\r\n    size: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n        this.updateRenderer();\r\n      },\r\n    },\r\n    controlsOptions: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateControls();\r\n      },\r\n    },\r\n    backgroundAlpha() {\r\n      this.updateRenderer();\r\n    },\r\n    backgroundColor() {\r\n      this.updateRenderer();\r\n    },\r\n    cameraRotation: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n      },\r\n    },\r\n    cameraPosition: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n      },\r\n    },\r\n    clearScene(val) {\r\n      if (val) {\r\n        this.clearSceneWrapper();\r\n      }\r\n    },\r\n    autoPlay() {\r\n      this.playAnimations();\r\n    },\r\n    width(val) {\r\n      this.size.width = val;\r\n      this.updateRenderer();\r\n    },\r\n    height(val) {\r\n      this.size.height = val;\r\n      this.updateRenderer();\r\n    },\r\n    labels: {\r\n      deep: true,\r\n      handler() {\r\n        this.clearSprite();\r\n        this.setSpriteLabel();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.filePath && typeof this.filePath === \"object\") {\r\n        this.isMultipleModels = true;\r\n      }\r\n      const el = this.$refs.container;\r\n      // init canvas width and height\r\n      this.onResize();\r\n      const WEB_GL_OPTIONS = { antialias: true, alpha: true };\r\n      const options = Object.assign(\r\n        {},\r\n        WEB_GL_OPTIONS,\r\n        this.webGLRendererOptions,\r\n        {\r\n          canvas: this.$refs.canvas,\r\n        }\r\n      );\r\n\r\n      if (!this.renderer) {\r\n        this.renderer = new WebGLRenderer(options);\r\n        this.renderer.hadowMapEnabled = true;\r\n        this.renderer.shadowMap.enabled = true;\r\n        this.renderer.outputEncoding =\r\n          this.outputEncoding === \"linear\" ? LinearEncoding : sRGBEncoding;\r\n      }\r\n\r\n      if (!this.controls) {\r\n        this.controls = new OrbitControls(this.camera, el);\r\n      }\r\n\r\n      this.wrapper = new Object3D();\r\n      this.scene.add(this.wrapper);\r\n\r\n      this.loadModelSelect();\r\n      this.update();\r\n\r\n      el.addEventListener(\"mousedown\", this.onMouseDown, false);\r\n      // el.addEventListener(\"mousemove\", this.onMouseMove, false);\r\n      this.enableMousemoveEvent(this.enableMousemove);\r\n      el.addEventListener(\"mouseup\", this.onMouseUp, false);\r\n      el.addEventListener(\"click\", this.onClick, false);\r\n      el.addEventListener(\"dblclick\", this.onDblclick, false);\r\n      window.addEventListener(\"resize\", this.onResize, false);\r\n      // stats\r\n      if (this.showFps) {\r\n        this.stats = new Stats();\r\n        el.appendChild(this.stats.dom);\r\n      }\r\n      this.animate();\r\n    },\r\n    destroyScene() {\r\n      if (this.requestAnimationId) {\r\n        cancelAnimationFrame(this.requestAnimationId);\r\n      }\r\n      if (this.renderer) {\r\n        this.renderer.dispose();\r\n      }\r\n      if (this.controls) {\r\n        this.controls.dispose();\r\n        this.controls = null;\r\n      }\r\n      const el = this.$refs.container;\r\n      this.enableMousemoveEvent(true);\r\n      el.removeEventListener(\"mousedown\", this.onMouseDown, false);\r\n      el.removeEventListener(\"mousemove\", this.onMouseMove, false);\r\n      el.removeEventListener(\"mouseup\", this.onMouseUp, false);\r\n      el.removeEventListener(\"click\", this.onClick, false);\r\n      el.removeEventListener(\"dblclick\", this.onDblclick, false);\r\n      window.removeEventListener(\"resize\", this.onResize, false);\r\n      this.wrapper = null;\r\n      this.object = null;\r\n      if (this.scene) {\r\n        this.scene.clear();\r\n      }\r\n    },\r\n    onResize() {\r\n      if (!this.width || !this.height) {\r\n        this.$nextTick(() => {\r\n          let el = this.$refs.container;\r\n          this.size = {\r\n            width: this.width ? this.width : el.offsetWidth,\r\n            height: this.height ? this.height : el.offsetHeight,\r\n          };\r\n          this.update(true);\r\n        });\r\n      }\r\n    },\r\n    // mouse move event listener\r\n    enableMousemoveEvent(enable) {\r\n      const el = this.$refs.container;\r\n      if (enable) {\r\n        el.addEventListener(\"mousemove\", this.onMouseMove, false);\r\n      } else {\r\n        el.removeEventListener(\"mousemove\", this.onMouseMove, false);\r\n      }\r\n    },\r\n    onMouseDown(event) {\r\n      this.enableMousemoveEvent(false);\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mousedown\", event, intersected);\r\n    },\r\n    onMouseMove(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mousemove\", event, intersected);\r\n    },\r\n    onMouseUp(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mouseup\", event, intersected);\r\n      this.enableMousemoveEvent(true);\r\n    },\r\n    onClick(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"click\", event, intersected);\r\n    },\r\n    onDblclick(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"dblclick\", event, intersected);\r\n    },\r\n    pick(x, y) {\r\n      let obj = this.returnObject();\r\n      if (!obj) return null;\r\n      if (!this.$refs.container) return;\r\n      const rect = this.$refs.container.getBoundingClientRect();\r\n      x -= rect.left;\r\n      y -= rect.top;\r\n      const mouse = new Vector2(0, 0);\r\n      mouse.x = (x / this.size.width) * 2 - 1;\r\n      mouse.y = -(y / this.size.height) * 2 + 1;\r\n      this.raycaster.setFromCamera(mouse, this.camera);\r\n      const intersects = this.raycaster.intersectObject(\r\n        obj,\r\n        this.intersectRecursive\r\n      );\r\n      return (intersects && intersects.length) > 0 ? intersects[0] : null;\r\n    },\r\n    update(isResize = false) {\r\n      this.updateRenderer();\r\n      this.updateCamera(isResize);\r\n      this.updateLights();\r\n      this.updateControls();\r\n    },\r\n    updateModel() {\r\n      const { object, position, rotation, scale } = this;\r\n      if (!object) return;\r\n      const isArray = (arg) => {\r\n        return arg instanceof Array;\r\n      };\r\n      const index = this.isMultipleModels ? this.getObjectIndex(object) : null;\r\n      if (position) {\r\n        if (isArray(position)) {\r\n          // position value is array\r\n          if (position[index]) {\r\n            object.position.set(\r\n              position[index].x,\r\n              position[index].y,\r\n              position[index].z\r\n            );\r\n          } else {\r\n            object.position.set(0, 0, 0);\r\n          }\r\n        } else {\r\n          // position value is object\r\n          object.position.set(position.x, position.y, position.z);\r\n        }\r\n      }\r\n      if (rotation) {\r\n        if (isArray(rotation)) {\r\n          // rotation value is array\r\n          if (rotation[index]) {\r\n            object.rotation.set(\r\n              rotation[index].x,\r\n              rotation[index].y,\r\n              rotation[index].z\r\n            );\r\n          } else {\r\n            object.rotation.set(0, 0, 0);\r\n          }\r\n        } else {\r\n          // rotation value is object\r\n          object.rotation.set(rotation.x, rotation.y, rotation.z);\r\n        }\r\n      }\r\n      if (scale) {\r\n        if (isArray(scale)) {\r\n          // scale value is array\r\n          if (scale[index]) {\r\n            object.scale.set(scale[index].x, scale[index].y, scale[index].z);\r\n          } else {\r\n            object.scale.set(1, 1, 1);\r\n          }\r\n        } else {\r\n          // scale value is object\r\n          object.scale.set(scale.x, scale.y, scale.z);\r\n        }\r\n      }\r\n    },\r\n    // get index for current object\r\n    getObjectIndex(object) {\r\n      return this.filePath\r\n        .map((item, index) => {\r\n          if (item.indexOf(object.fileName) > -1) {\r\n            return index;\r\n          }\r\n        })\r\n        .filter((i) => i != undefined)[0];\r\n    },\r\n    updateRenderer() {\r\n      const { renderer, size, backgroundAlpha, backgroundColor } = this;\r\n      if (renderer) {\r\n        renderer.setSize(size.width, size.height);\r\n        renderer.setPixelRatio(window.devicePixelRatio || 1);\r\n        renderer.setClearColor(new Color(backgroundColor).getHex());\r\n        renderer.setClearAlpha(backgroundAlpha);\r\n      }\r\n    },\r\n    updateCamera(isResize = false) {\r\n      const {\r\n        size,\r\n        camera,\r\n        object,\r\n        cameraLookAt,\r\n        cameraUp,\r\n        cameraPosition,\r\n        cameraRotation,\r\n      } = this;\r\n      camera.aspect = size.width / size.height;\r\n      camera.updateProjectionMatrix();\r\n      if (isResize) return;\r\n      if (!cameraLookAt || !cameraUp) {\r\n        if (!object) return;\r\n        const distance = getSize(object).length();\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z\r\n        );\r\n        if (cameraRotation) {\r\n          camera.rotation.set(\r\n            cameraRotation.x,\r\n            cameraRotation.y,\r\n            cameraRotation.z\r\n          );\r\n        }\r\n        if (\r\n          cameraPosition.x === 0 &&\r\n          cameraPosition.y === 0 &&\r\n          cameraPosition.z === 0\r\n        ) {\r\n          camera.position.z = distance;\r\n        }\r\n        camera.lookAt(new Vector3());\r\n      } else {\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z\r\n        );\r\n        if (cameraRotation) {\r\n          camera.rotation.set(\r\n            cameraRotation.x,\r\n            cameraRotation.y,\r\n            cameraRotation.z\r\n          );\r\n        }\r\n\r\n        camera.up.set(cameraUp.x, cameraUp.y, cameraUp.z);\r\n        camera.lookAt(\r\n          new Vector3(cameraLookAt.x, cameraLookAt.y, cameraLookAt.z)\r\n        );\r\n      }\r\n    },\r\n    updateLights() {\r\n      this.scene.remove(...this.allLights);\r\n      this.allLights = [];\r\n      this.lights.forEach((item) => {\r\n        if (!item.type) return;\r\n        const type = item.type.toLowerCase();\r\n        let light = null;\r\n        if (type === \"ambient\" || type === \"ambientlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0x404040;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n          light = new AmbientLight(color, intensity);\r\n        } else if (type === \"point\" || type === \"pointlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n          const distance = item.distance || 0;\r\n          const decay = item.decay === 0 ? item.decay : item.decay || 1;\r\n          light = new PointLight(color, intensity, distance, decay);\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        } else if (type === \"directional\" || type === \"directionallight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new DirectionalLight(color, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n\r\n          if (item.target) {\r\n            light.target.copy(item.target);\r\n          }\r\n        } else if (type === \"hemisphere\" || type === \"hemispherelight\") {\r\n          const skyColor =\r\n            item.skyColor === 0x000000\r\n              ? item.skyColor\r\n              : item.skyColor || 0xffffff;\r\n          const groundColor =\r\n            item.groundColor === 0x000000\r\n              ? item.groundColor\r\n              : item.groundColor || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new HemisphereLight(skyColor, groundColor, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        }\r\n        if (light) {\r\n          this.allLights.push(light);\r\n          this.scene.add(light);\r\n        }\r\n      });\r\n    },\r\n    updateControls() {\r\n      if (this.controlsOptions) {\r\n        Object.assign(this.controls, this.controlsOptions);\r\n      }\r\n    },\r\n    loadModelSelect() {\r\n      // parallel load\r\n      if (this.parallelLoad && this.isMultipleModels) {\r\n        this.filePath.forEach((path, index) => {\r\n          this.load(index);\r\n        });\r\n      } else {\r\n        this.load();\r\n      }\r\n    },\r\n    load(fileIndex = null) {\r\n      if (!this.filePath) return;\r\n      let index = fileIndex ? fileIndex : this.loaderIndex;\r\n      // if multiple files\r\n      const _filePath = !this.isMultipleModels\r\n        ? this.filePath\r\n        : this.filePath[index];\r\n      const _fileType =\r\n        typeof this.fileType === \"string\"\r\n          ? this.fileType\r\n          : this.fileType\r\n          ? this.fileType[index]\r\n          : \"\";\r\n      const loaderObj = getLoader(\r\n        _filePath,\r\n        _fileType,\r\n        this.enableDraco,\r\n        this.dracoDir\r\n      ); // {loader, getObject, mtlLoader}\r\n      this.loader = loaderObj.loader;\r\n      const _getObject = loaderObj.getObject\r\n        ? loaderObj.getObject\r\n        : this.getObject;\r\n      if (this.object && index === 0) {\r\n        this.wrapper.remove(this.object);\r\n      }\r\n      if (this.requestHeader) {\r\n        this.loader.setRequestHeader(this.requestHeader);\r\n      }\r\n      if (this.crossOrigin) {\r\n        this.loader.setCrossOrigin(this.crossOrigin);\r\n      }\r\n      if (this.mtlPath) {\r\n        // load materials\r\n        const isMultipleMTL = typeof this.mtlPath === \"string\";\r\n        if (isMultipleMTL) {\r\n          // single material\r\n          this.loadMtl(_filePath, _getObject, index);\r\n        } else {\r\n          // load materials and model\r\n          if (!this.mtlPath[index]) {\r\n            this.loadFilePath(_filePath, _getObject, index);\r\n            return;\r\n          }\r\n          this.loadMtl(_filePath, _getObject, index);\r\n        }\r\n      } else {\r\n        // don't load materials\r\n        this.loadFilePath(_filePath, _getObject, index);\r\n      }\r\n    },\r\n    loadFilePath(filePath, getObject, index) {\r\n      this.loader.load(\r\n        filePath,\r\n        (...args) => {\r\n          const object = getObject(...args);\r\n          this.object = object;\r\n          this.addObject(object, filePath);\r\n          // set texture\r\n          if (this.textureImage) {\r\n            let _texture =\r\n              typeof this.textureImage === \"string\"\r\n                ? this.textureImage\r\n                : this.textureImage[index];\r\n            if (_texture) {\r\n              this.addTexture(object, _texture);\r\n            }\r\n          }\r\n          this.setLabel();\r\n          this.$emit(\"load\", this.wrapper);\r\n        },\r\n        (event) => {\r\n          if (!this.parallelLoad) {\r\n            this.onProcess(event);\r\n          }\r\n          let modelIndex = this.loaderIndex + 1;\r\n          this.$emit(\"process\", event, modelIndex);\r\n        },\r\n        (event) => {\r\n          this.$emit(\"error\", event);\r\n        }\r\n      );\r\n    },\r\n    loadMtl(filePath, getObject, index) {\r\n      const mtlLoader = getMTLLoader();\r\n      if (this.crossOrigin) {\r\n        mtlLoader.setCrossOrigin(this.crossOrigin);\r\n      }\r\n      if (this.requestHeader) {\r\n        mtlLoader.setRequestHeader(this.requestHeader);\r\n      }\r\n      const _mtl =\r\n        typeof this.mtlPath === \"string\" ? this.mtlPath : this.mtlPath[index];\r\n      const returnPathArray = /^(.*\\/)([^/]*)$/.exec(_mtl);\r\n      const path = returnPathArray[1];\r\n      const file = returnPathArray[2];\r\n      mtlLoader.setPath(path).load(file, (materials) => {\r\n        materials.preload();\r\n        this.loader.setMaterials(materials);\r\n        this.loadFilePath(filePath, getObject, index);\r\n      });\r\n    },\r\n    getObject(object) {\r\n      return object;\r\n    },\r\n    addObject(object, filePath) {\r\n      const center = getCenter(object);\r\n      // Multiple models set object position only once, prevent the position from changing every time multiple models objects is loaded\r\n      if (!this.objectPositionHasSet) {\r\n        this.wrapper.position.copy(center.negate());\r\n        this.objectPositionHasSet = true;\r\n      }\r\n      this.object = object;\r\n      // add the file name to object\r\n      let fileName = filePath.split(\"/\");\r\n      fileName = fileName[fileName.length - 1];\r\n      this.object.fileName = fileName;\r\n      this.wrapper.add(object);\r\n      if (object.isMesh) {\r\n        this.update();\r\n        return;\r\n      }\r\n      this.updateCamera();\r\n      this.updateModel();\r\n      this.playAnimations();\r\n    },\r\n    animate() {\r\n      this.requestAnimationId = requestAnimationFrame(this.animate);\r\n      this.updateStats();\r\n      const delta = this.clock.getDelta();\r\n      // update play animations\r\n      if (this.mixers && !this.mixers.length) {\r\n        this.mixers.update(delta);\r\n      }\r\n      if (this.mixers && this.mixers.length > 0) {\r\n        this.mixers.forEach((m) => {\r\n          m.update(delta);\r\n        });\r\n      }\r\n      this.render();\r\n    },\r\n    render() {\r\n      if (this.renderer) {\r\n        this.renderer.render(this.scene, this.camera);\r\n      }\r\n    },\r\n    updateStats() {\r\n      if (this.showFps) {\r\n        this.stats.update();\r\n      }\r\n    },\r\n    onProcess(xhr) {\r\n      let process = Math.floor((xhr.loaded / xhr.total) * 100);\r\n      const next = () => {\r\n        if (process === 100) {\r\n          if (\r\n            this.isMultipleModels &&\r\n            this.filePath.length > this.loaderIndex\r\n          ) {\r\n            // Load completed\r\n            this.$nextTick(() => {\r\n              this.loaderIndex++;\r\n              if (this.loaderIndex === this.filePath.length) {\r\n                this.loaderIndex = 0;\r\n                return;\r\n              }\r\n              this.load();\r\n            });\r\n          } else {\r\n            this.loaderIndex = 0;\r\n          }\r\n        }\r\n      };\r\n      // local webpack environment http response headers no content-length, the xhr.total is 0, so process === Infinity\r\n      if (process === Infinity) {\r\n        clearTimeout(this.timer);\r\n        this.timer = setTimeout(() => {\r\n          process = 100;\r\n          next();\r\n        }, 200);\r\n      }\r\n      next();\r\n    },\r\n    addTexture(object, texture) {\r\n      if (!this.textureLoader) {\r\n        this.textureLoader = new TextureLoader();\r\n      }\r\n      object.traverse((child) => {\r\n        if (child.isMesh) {\r\n          this.textureLoader.load(\r\n            texture,\r\n            (_texture) => {\r\n              child.material.map = _texture;\r\n              child.material.needsUpdate = true;\r\n            },\r\n            () => {},\r\n            (err) => {\r\n              this.$emit(\"error\", err);\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    clearSceneWrapper() {\r\n      this.wrapper.clear();\r\n    },\r\n    setObjectAttr(type, val) {\r\n      let obj = this.returnObject();\r\n      if (!obj) return;\r\n      if (this.isMultipleModels) {\r\n        obj.children.forEach((item) => {\r\n          const index = this.getObjectIndex(item);\r\n          if (val[index]) {\r\n            item[type].set(val[index].x, val[index].y, val[index].z);\r\n          } else {\r\n            const v = type == \"scale\" ? 1 : 0;\r\n            item[type].set(v, v, v);\r\n          }\r\n        });\r\n        return;\r\n      }\r\n      obj[type].set(val.x, val.y, val.z);\r\n    },\r\n    returnObject() {\r\n      return this.isMultipleModels ? this.wrapper : this.object;\r\n    },\r\n    setLabel() {\r\n      if (this.isMultipleModels) {\r\n        if (this.loaderIndex === this.filePath.length) {\r\n          this.setSpriteLabel();\r\n        }\r\n      } else {\r\n        this.setSpriteLabel();\r\n      }\r\n    },\r\n    setSpriteLabel() {\r\n      if (!this.labels) return;\r\n      let obj = this.isMultipleModels ? this.wrapper : this.object;\r\n      const spriteImageLabel = (image) => {\r\n        if (!this.textureLoader) {\r\n          this.textureLoader = new TextureLoader();\r\n        }\r\n        const imageTexture = this.textureLoader.load(image);\r\n        return imageTexture;\r\n      };\r\n\r\n      const spriteTextLabel = (text, style) => {\r\n        const canvas = this.generateCanvas(text, style);\r\n        const texture = new Texture(canvas);\r\n        texture.needsUpdate = true;\r\n        return texture;\r\n      };\r\n\r\n      this.labels.forEach((item) => {\r\n        const spriteMap = item.image\r\n          ? spriteImageLabel(item.image)\r\n          : spriteTextLabel(item.text, item.textStyle || {});\r\n        const spriteMaterial = new SpriteMaterial({\r\n          map: spriteMap,\r\n          color: item.spriteMaterialColor || 0xffffff,\r\n          // useScreenCoordinates: false\r\n          // alignment: spriteAlignment\r\n        });\r\n        const sprite = new Sprite(spriteMaterial);\r\n        if (item.scale) {\r\n          sprite.scale.set(\r\n            item.scale.x || 1,\r\n            item.scale.y || 1,\r\n            item.scale.z || 0\r\n          );\r\n        } else {\r\n          sprite.scale.set(1, 1, 0);\r\n        }\r\n        if (item.position) {\r\n          sprite.position.set(\r\n            item.position.x,\r\n            item.position.y,\r\n            item.position.z\r\n          );\r\n        }\r\n        if (item.sid) {\r\n          sprite.sid = item.sid;\r\n        }\r\n        obj.add(sprite);\r\n      });\r\n    },\r\n    clearSprite() {\r\n      this.wrapper.children.forEach((item) => {\r\n        if(item instanceof Group) {\r\n          const notSpriteItem = item.children.filter(i => !(i instanceof Sprite) ? i : null)\r\n          item.children = notSpriteItem\r\n        }\r\n      })\r\n    },\r\n    generateCanvas(text, style) {\r\n      if (style === undefined) style = {};\r\n      const roundRect = (ctx, x, y, w, h, r) => {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x + r, y);\r\n        ctx.lineTo(x + w - r, y);\r\n        ctx.quadraticCurveTo(x + w, y, x + w, y + r);\r\n        ctx.lineTo(x + w, y + h - r);\r\n        ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\r\n        ctx.lineTo(x + r, y + h);\r\n        ctx.quadraticCurveTo(x, y + h, x, y + h - r);\r\n        ctx.lineTo(x, y + r);\r\n        ctx.quadraticCurveTo(x, y, x + r, y);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      };\r\n      const fontFamily = style.fontFamily || \"Arial\";\r\n      const fontSize =\r\n        style.fontSize === 0 || style.fontSize ? style.fontSize : 18;\r\n      const fontColor = style.color || \"#ffffff\";\r\n      const fontWeight = style.fontWeight || \"normal\";\r\n      const borderWidth =\r\n        style.borderWidth === 0 || style.borderWidth ? style.borderWidth : 4;\r\n      const borderColor = style.borderColor || \"rgba(0,0,0,1)\";\r\n      const borderRadius =\r\n        style.borderRadius === 0 || style.borderRadius ? style.borderRadius : 4;\r\n      const backgroundColor = style.backgroundColor || \"rgba(255, 255, 255, 1)\";\r\n      const canvas = document.createElement(\"canvas\");\r\n      const context = canvas.getContext(\"2d\");\r\n      context.font = `${fontWeight} ${fontSize}px ${fontFamily}`;\r\n\r\n      // get size data (height depends only on font size)\r\n      const metrics = context.measureText(text);\r\n      const textWidth = metrics.width;\r\n\r\n      // background color\r\n      context.fillStyle = backgroundColor;\r\n      // border color\r\n      context.strokeStyle = borderColor;\r\n\r\n      context.lineWidth = borderWidth;\r\n      roundRect(\r\n        context,\r\n        borderWidth / 2,\r\n        borderWidth / 2,\r\n        textWidth + borderWidth,\r\n        fontSize * 1.4 + borderWidth,\r\n        borderRadius\r\n      );\r\n      // text color\r\n      context.fillStyle = fontColor;\r\n\r\n      context.fillText(text, borderWidth, fontSize + borderWidth);\r\n\r\n      return canvas;\r\n    },\r\n    playAnimations() {\r\n      if (this.isMultipleModels) {\r\n        this.playMultipleModels(this.wrapper);\r\n        return;\r\n      }\r\n      this.playSingleModel(this.object);\r\n    },\r\n    // play a single model animation\r\n    playSingleModel(item) {\r\n      this.mixers = new AnimationMixer(item);\r\n      if (item.animations && item.animations.length > 0) {\r\n        item.animations.forEach((clip) => {\r\n          if (clip) {\r\n            const action = this.mixers.clipAction(clip);\r\n            if (this.autoPlay) {\r\n              action.play();\r\n            } else {\r\n              action.stop();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // play multiple models animation\r\n    playMultipleModels(obj) {\r\n      this.mixers = [];\r\n      obj.children.forEach((item, index) => {\r\n        this.mixers.push(new AnimationMixer(item));\r\n        if (item.animations && item.animations.length > 0) {\r\n          item.animations.forEach((clip) => {\r\n            if (clip) {\r\n              const action = this.mixers[index].clipAction(clip);\r\n              if (this.autoPlay) {\r\n                action.play();\r\n              } else {\r\n                action.stop();\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.viewer-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0;\r\n}\r\n.viewer-container div {\r\n  position: absolute !important;\r\n  left: 0px !important;\r\n  opacity: 1 !important;\r\n}\r\n.viewer-canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-54.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-54.use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-54.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=style&index=0&id=e12d5c7c&prod&lang=css&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue3dLoader.vue?vue&type=template&id=e12d5c7c&\"\nimport script from \"./vue3dLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./vue3dLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vue3dLoader.vue?vue&type=style&index=0&id=e12d5c7c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport vue3dLoader from './3dLoader/vue3dLoader.vue'\r\nconst components = [vue3dLoader]\r\n\r\n// vue install function\r\nconst install = function (Vue) {\r\n  // Register components\r\n  components.map(component => {\r\n    Vue.component(component.name, component)\r\n  })\r\n}\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue)\r\n}\r\n\r\nexport default {\r\n  install,\r\n  ...components\r\n}\r\n\r\nexport { vue3dLoader }","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["render","_vm","_c","_self","ref","staticClass","staticRenderFns","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","NoColorSpace","SRGBColorSpace","LinearSRGBColorSpace","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","_SRGBAFormat","EventDispatcher","addEventListener","type","listener","_listeners","undefined","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","target","array","slice","i","l","length","call","_lut","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toLowerCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","denormalize$1","constructor","Float32Array","Uint16Array","Uint8Array","Int16Array","Int8Array","Error","normalize","round","MathUtils","Object","freeze","__proto__","denormalize","Vector2","prototype","isVector2","width","height","setScalar","scalar","setX","setY","setComponent","getComponent","clone","copy","v","add","w","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","Symbol","iterator","Matrix3","isMatrix3","arguments","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","f","g","h","invert","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","rotate","theta","translate","matrix","arrayNeedsUint32","TYPED_ARRAYS","Uint8ClampedArray","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","createElementNS","name","document","SRGBToLinear","LinearToSRGB","FN","ColorManagement","legacyMode","workingColorSpace","colorSpace","convert","color","sourceColorSpace","targetColorSpace","fn","fromWorkingColorSpace","toWorkingColorSpace","_colorKeywords","_rgb","_hslA","_hslB","hue2rgb","p","toComponents","source","Color","isColor","setRGB","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","components","parseInt","size","charAt","setColorName","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","toString","getHSL","hue","saturation","lightness","delta","getRGB","getStyle","offsetHSL","addColors","color1","color2","lerpColors","lerpHSL","getZ","normalized","toJSON","NAMES","_canvas","ImageUtils","getDataURL","image","test","src","HTMLCanvasElement","canvas","context","getContext","ImageData","putImageData","drawImage","toDataURL","sRGBToLinear","HTMLImageElement","ImageBitmap","imageData","getImageData","data","Source","isSource","version","needsUpdate","meta","isRootObject","images","output","url","Array","isArray","isDataTexture","serializeImage","from","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","isTexture","defineProperty","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","needsPMREMUpdate","updateMatrix","JSON","parse","stringify","textures","metadata","generator","wrap","dispose","transformUv","uv","Vector4","z","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","samples","setSize","assign","DataArrayTexture","isDataArrayTexture","wrapR","WebGLArrayRenderTarget","isWebGLArrayRenderTarget","Data3DTexture","isData3DTexture","WebGL3DRenderTarget","isWebGL3DRenderTarget","WebGLMultipleRenderTargets","count","isWebGLMultipleRenderTargets","il","Quaternion","isQuaternion","_x","_y","_z","_w","slerp","qa","qb","qm","slerpQuaternions","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","EPSILON","len","tDir","multiplyQuaternionsFlat","_onChangeCallback","quaternion","setFromEuler","euler","update","isEuler","_order","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","angleTo","rotateTowards","step","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","u1","sqrt1u1","sqrtu1","u2","u3","_onChange","callback","Vector3","isVector3","multiplyVectors","applyEuler","applyQuaternion","_quaternion$4","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector$c","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","randomDirection","u","Box3","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","expandByPoint","setFromCenterAndSize","halfSize","_vector$b","setFromObject","object","precise","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","vector","expandByScalar","updateWorldMatrix","geometry","attributes","position","boundingBox","computeBoundingBox","_box$3","union","children","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","distanceToPoint","clampedPoint","getBoundingSphere","intersect","_points","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","lookAt","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","QdN","Matrix4","isMatrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","setFromMatrix3","makeBasis","extractRotation","scaleX","_v1$5","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","yx","zx","zy","x2","y2","z2","wx","wy","wz","decompose","_m1$2","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","RotationOrders","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","isEnabled","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","isObject3D","parent","DefaultUp","onRotationChange","onQuaternionChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","isCamera","isLight","remove","removeFromParent","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","geometries","materials","shapes","skeletons","nodes","isInstancedMesh","instanceMatrix","instanceColor","serialize","library","element","isScene","background","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","setFromAttributeAndIndices","getArea","getMidpoint","getPlane","setFromCoplanarPoints","d4","vc","d5","d6","vb","va","materialId","Material","isMaterial","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","toneMapped","_alphaTest","alphaTest","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","flatShading","currentValue","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","iridescence","iridescenceIOR","iridescenceThicknessRange","iridescenceMap","iridescenceThicknessMap","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog","srcPlanes","dstPlanes","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2$1","BufferAttribute","itemSize","TypeError","isBufferAttribute","usage","updateRange","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZ","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","isBufferGeometry","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","start","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","hasAttribute","addGroup","materialIndex","clearGroups","setDrawRange","tangent","computeBoundingSphere","morphAttributesPosition","isGLBufferAttribute","morphAttribute","isNaN","jl","computeTangents","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","keys","hasMorphAttributes","attributeArray","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","end","checkBufferGeometryIntersection","faceIndex","face","checkIntersection","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","fromJSON","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","isShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","Camera","PerspectiveCamera","fov","aspect","isPerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentRenderTarget","getRenderTarget","currentToneMapping","toneMapping","currentXrEnabled","xr","setRenderTarget","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","delete","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","iridescence_fragment","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphcolor_vertex","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","iridescence_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","vertex$g","fragment$g","vertex$f","fragment$f","vertex$e","fragment$e","vertex$d","fragment$d","vertex$c","fragment$c","vertex$b","fragment$b","vertex$a","fragment$a","vertex$9","fragment$9","vertex$8","fragment$8","vertex$7","fragment$7","vertex$6","fragment$6","vertex$5","fragment$5","vertex$4","fragment$4","vertex$3","fragment$3","vertex$2","fragment$2","vertex$1","fragment$1","ShaderChunk","background_vert","background_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","ior","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","iridescenceThicknessMinimum","iridescenceThicknessMaximum","sheenColorMap","sheenRoughnessMap","transmissionSamplerSize","transmissionSamplerMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","forceUpdate","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","programAttributes","getAttributes","programAttribute","location","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","materialDefaultAttributeValues","isInstancedInterleavedBuffer","locationSize","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","onTextureDispose","OrthographicCamera","isOrthographicCamera","scaleW","scaleH","LOD_MIN","EXTRA_LOD_SIGMA","MAX_SAMPLES","_flatCamera","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_renderer","_pingPongRenderTarget","_lodMax","_cubeSize","_lodPlanes","_sizeLods","_sigmas","_blurMaterial","_cubemapMaterial","_equirectMaterial","_compileMaterial","fromScene","sigma","_setSize","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","_fromTexture","fromCubemap","compileCubemapShader","_getCubemapMaterial","compileEquirectangularShader","_getEquirectMaterial","_dispose","cubeSize","log2","outputTarget","_setViewport","_textureToCubeUV","params","_createRenderTarget","sizeLods","lodPlanes","sigmas","_createPlanes","_getBlurShader","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lodMax","lod","totalLods","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","isCubeTextureComplete","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","morph","WebGLMorphtargets","influencesList","morphTextures","workInfluences","objectInfluences","morphTargetsCount","entry","hasMorphPosition","hasMorphNormals","hasMorphColors","morphTargets","morphNormals","morphColors","vertexDataCount","vertexDataStride","morphTarget","morphNormal","morphColor","disposeTexture","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","influences","sort","MAX_SAFE_INTEGER","WebGLObjects","updateMap","buffergeometry","onInstancedMeshDispose","instancedMesh","emptyTexture","emptyArrayTexture","empty3dTexture","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","handleSource","errorLine","split","lines2","to","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","errors","getShaderInfoLog","trim","errorMatches","toUpperCase","getShaderSource","getTexelEncodingFunction","functionName","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUVHeight","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","generateCubeUVSize","imageHeight","maxMip","texelHeight","texelWidth","WebGLProgram","cacheKey","envMapCubeUVSize","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","decodeVideoTexture","physicallyCorrectLights","opaque","outputEncoding","useDepthPacking","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","shaderStage","code","getVertexShaderID","getFragmentShaderID","Set","stage","WebGLShaderStage","WebGLPrograms","cubeuvmaps","_programLayers","_customShaders","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getParameters","shadows","isMeshStandardMaterial","customVertexShaderID","customFragmentShaderID","useAlphaTest","useClearcoat","useIridescence","isXRRenderTarget","isVideoTexture","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","getProgramCacheKeyParameters","getProgramCacheKeyBooleans","morphAttributeCount","acquireProgram","pl","preexistingProgram","releaseProgram","pop","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","transmissive","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","scaleFactor","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vertex","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","isPointLightShadow","VSMPass","blurSamples","mapPass","renderBufferDirect","getDepthMaterial","result","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentBoundFramebuffers","currentDrawbuffers","defaultDrawbuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","scissorParam","viewportParam","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindFramebuffer","framebuffer","drawBuffersWEBGL","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texSubImage2D","texSubImage3D","compressedTexSubImage2D","texStorage2D","texStorage3D","texImage3D","WebGLTextures","_gl","utils","multisampledRTTExt","supportsInvalidateFramebuffer","navigator","userAgent","_videoTextures","_sources","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","getMipLevels","isFramebufferTexture","isCompressedTexture","filterFallback","deallocateTexture","onRenderTargetDispose","deallocateRenderTarget","textureProperties","__webglInit","webglTextures","__cacheKey","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","getTextureCacheKey","slot","updateVideoTexture","__version","complete","uploadTexture","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","forceUpload","textureCacheKey","__currentVersion","pixelStorei","verifyColorSpace","glInternalFormat","mipmap","useTexStorage","allocateMemory","levels","isDepthTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","useMultisampledRTT","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","__autoAllocateDepthBuffer","createRenderbuffer","rebindTextures","colorTexture","setupRenderTarget","isMultipleRenderTargets","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","invalidationArray","depthStyle","ignoreDepthValues","__ignoreDepthValues","invalidateFramebuffer","blitFramebuffer","__useRenderToTexture","WebGLUtils","HALF_FLOAT_OES","SRGB_ALPHA_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","cameras","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","getTargetRaySpace","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","inputjoint","jointPose","getJointPose","jointName","joint","transform","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","getPose","targetRaySpace","DepthTexture","WebXRManager","framebufferScaleFactor","referenceSpaceType","customReferenceSpace","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","controllerInputSources","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","controllerIndex","onSessionEnd","onInputSourcesChange","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setReferenceSpace","space","getBaseLayer","getBinding","getFrame","setSession","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","depthFormat","depthType","glDepthFormat","projectionlayerInit","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","setFoveation","requestReferenceSpace","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","getCamera","getFoveation","fixedFoveation","foveation","onAnimationFrameCallback","getViewerPose","views","setRenderTargetFramebuffer","cameraVRNeedsUpdate","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","refreshUniformsStandard","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDistance","isMeshNormalMaterial","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","isWebGLRenderer","_context","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","_alpha","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","gammaFactor","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","onContextCreationError","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","statusMessage","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","forEach","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","material2","getProgram","self","projectObject","camera2","renderScene","isLOD","opaqueObjects","transmissiveObjects","transparentObjects","renderTransmissionPass","renderObjects","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","boneTexture","computeBoneTexture","boneTextureSize","markUniformsLightsNeedsUpdate","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","isRenderTarget3D","framebufferBound","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","readPixels","copyFramebufferToTexture","level","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","compressedTexSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","addLevel","getCurrentLevel","getObjectForDistance","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","skinIndex","boneIndex","bones","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","getBoneByName","json","boneInverse","InstancedBufferAttribute","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getColorAt","getMatrixAt","raycastTimes","instanceId","setColorAt","setMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","computeLineDistances","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","FramebufferTexture","CompressedTexture","CanvasTexture","isCanvasTexture","Curve","arcLengthDivisions","getPoint","getPointAt","optionalTarget","getUtoTmapping","getPoints","divisions","getSpacedPoints","getLength","lengths","getLengths","cacheArcLengths","current","last","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","computeFrenetFrames","segments","closed","binormals","vec","mat","MAX_VALUE","tz","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","pts","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","concat","arc","absarc","absellipse","ellipse","firstPoint","lastPoint","LatheGeometry","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","base","CapsuleGeometry","capSegments","radialSegments","CircleGeometry","thetaStart","thetaLength","segment","CylinderGeometry","radiusTop","radiusBottom","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Shape","holes","getPointsHoles","holesPts","extractPoints","hole","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","isClockWise","triangulateShape","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","uvArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","shapePoints","reverse","hl","ahole","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","OctahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TorusGeometry","tube","tubularSegments","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","o","ol","isUniqueEdge","hash1","hash2","Geometries","BoxBufferGeometry","CapsuleBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","_sheen","_clearcoat","_iridescence","_transmission","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","copySampleValue_","t1global","mid","intervalChanged_","interpolate_","getSettings_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","Promise","resolve","reject","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","setTimeout","req","Request","headers","Headers","credentials","mimeType","responseType","fetch","then","response","ReadableStream","body","getReader","callbacks","reader","contentLength","total","lengthComputable","loaded","stream","readData","read","done","close","byteLength","ProgressEvent","enqueue","Response","statusText","arrayBuffer","blob","text","parser","DOMParser","parseFromString","re","label","decoder","TextDecoder","decode","catch","finally","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","getIrradianceAt","addScaledSH","getBasisAt","shBasis","LightProbe","MaterialLoader","getTexture","createMaterialFromType","shading","setTextures","materialLib","LoaderUtils","decodeText","fromCharCode","decodeURIComponent","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","loadImage","deserializeImage","imageArray","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","isInteger","objectAnimations","setTexturePath","ImageBitmapLoader","isImageBitmapLoader","createImageBitmap","setOptions","fetchOptions","res","colorSpaceConversion","imageBitmap","AudioContext","window","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","isHemisphereLightProbe","sky","ground","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","create","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","substring","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","_getValue_direct","targetObject","_getValue_array","resolvedProperty","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","dest","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","targetArray","sourceArray","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","paths","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","action","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_controlInterpolantsResultBuffer","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setType","setItemSize","setCount","Raycaster","setFromCamera","coords","intersectObject","ascSort","intersectObjects","Spherical","other","makeSafe","EPS","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","addLine","addPoint","colorFrustum","colorCone","colorUp","colorTarget","colorCross","setColors","colorAttribute","setPoint","_box","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","xAxisColor","yAxisColor","zAxisColor","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","tmpHoles","floatView","_floatView","uint32View","_uint32View","baseTable","_baseTable","shiftTable","_shiftTable","mantissaTable","_mantissaTable","exponentTable","_exponentTable","offsetTable","_offsetTable","_generateTables","toHalfFloat","val","fromHalfFloat","DataUtils","ParametricGeometry","TextGeometry","FontLoader","Font","ImmediateRenderObject","WebGLMultisampleRenderTarget","DataTexture2DArray","DataTexture3D","revision","__THREE__","_changeEvent","_startEvent","_endEvent","OrbitControls","touchAction","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","saveState","STATE","NONE","quat","quatInverse","lastPosition","lastQuaternion","twoPI","rotateLeft","getAutoRotationAngle","sphericalDelta","panOffset","zoomChanged","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","releasePointerCapture","mouseAction","button","ctrlKey","metaKey","shiftKey","trackPointer","pointer","passive","MapControls","Stats","createElement","cssText","showPanel","addPanel","panel","appendChild","dom","beginTime","fpsPanel","Panel","msPanel","memPanel","begin","usedJSHeapSize","jsHeapSizeLimit","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","ch2","durl","URL","createObjectURL","Blob","cwk","Worker","revokeObjectURL","encodeURI","wk","msg","transfer","onerror","onmessage","postMessage","u8","u16","u32","fleb","fdeb","clim","freb","eb","_a","fl","revfl","_b","fd","revfd","rev","hMap","cd","mb","le","co","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","bits16","shft","slc","inflt","dat","buf","st","noBuf","noSt","cbuf","bl","nbuf","final","pos","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","lms","dms","lpos","sym","dsym","wbits","wbits16","hTree","et","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","wfblk","out","wblk","syms","lf","li","dlt","mlb","ddt","mdb","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ftlen","dtlen","ll","dl","llm","lcts","it","clct","deo","dflt","lvl","plvl","pre","post","lst","opt","msk_1","head","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","nl","mmd","md","ti","pti","lin","din","crct","crc","cr","adler","dopt","mem","mrg","wcln","fnStr","td","ks","st_1","spInd","ch","cbfs","wrkr","fns","td_1","bInflt","inflateSync","pbf","gu8","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zlv","cbify","opts","terminate","consume","astrm","strm","ondata","ev","astrmify","b4","b8","filename","mtime","charCodeAt","flg","zs","lv","AsyncCmpStrm","Deflate","chunk","AsyncDeflate","deflate","Inflate","bts","AsyncInflate","inflate","Gzip","raw","AsyncGzip","gzip","gzipSync","Gunzip","AsyncGunzip","gunzip","gunzipSync","Zlib","AsyncZlib","zlib","zlibSync","Unzlib","AsyncUnzlib","unzlib","unzlibSync","compress","AsyncCompress","compressSync","Compress","Decompress","G","I","Z","_this_1","AsyncDecompress","decompress","decompressSync","fltn","TextEncoder","tds","dutf8","DecodeUTF8","np","EncodeUTF8","strToU8","str","latin1","ar_1","encode","ar","ai","strFromU8","ext","dbf","slzh","zh","fnl","es","z64e","sc","off","exfl","ex","wzh","extra","exl","os","flag","compression","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","attrs","exf","wzf","ZipPassThrough","process","ZipDeflate","AsyncZipDeflate","Zip","com","comment","header","chks","pAll","_i","chks_1","chk","ind","uf","nxt","dd","zip","tot","slft","term","tAll","cbf","oe","cdl","badd","loc","_loop_1","ms","cbl","zipSync","UnzipPassThrough","UnzipInflate","AsyncUnzipInflate","_","Unzip","onfile","toAdd","is","oc","_loop_2","sig","this_1","cmp_1","chks_2","sc_1","su_1","fn_1","d_1","file_1","ctr","chks_3","originalSize","state_1","register","unzip","_loop_3","c_1","no","infl","unzipSync","c_2","findSpan","U","calcBasisFunctions","span","saved","rv","temp","calcBSplinePoint","C","Nj","wNj","calcBasisFunctionDerivatives","zeroArr","ders","ndu","rk","pk","j1","j2","calcBSplineDerivatives","nd","du","CK","nders","Pw","calcKoverI","nom","calcRationalCurveDerivatives","Pders","Aders","wders","calcNURBSDerivatives","calcSurfacePoint","V","uspan","vspan","Nu","Nv","Sw","NURBSUtils","NURBSCurve","degree","knots","controlPoints","startKnot","endKnot","hpoint","fflate","fbxTree","connections","sceneGraph","FBXLoader","FBXBuffer","isFbxFormatBinary","BinaryParser","FBXText","convertArrayBufferToString","isFbxFormatASCII","getFbxVersion","TextParser","textureLoader","FBXTreeParser","parseConnections","deformers","parseDeformers","geometryMap","GeometryParser","parseScene","connectionMap","rawConnections","Connections","rawConnection","fromID","toID","relationship","parents","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","base64Content","parseImage","content","fileName","textureMap","textureNodes","parseTexture","textureNode","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","Scaling","Translation","FileName","materialMap","materialNodes","parseMaterial","materialNode","ShadingModel","parseParameters","BumpFactor","Diffuse","DiffuseColor","DisplacementFactor","Emissive","EmissiveColor","EmissiveFactor","Opacity","ReflectionFactor","Shininess","Specular","SpecularColor","LayeredTexture","DeformerNodes","Deformer","deformerNode","relationships","attrType","parseSkeleton","geometryID","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","transformLink","TransformLink","Indexes","Weights","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","modelMap","parseModels","modelNodes","Model","model","modelNode","setLookAtProperties","parentConnections","connection","bindSkeleton","createAmbientLight","transformData","parentMatrix","parentMatrixWorld","generateTransform","AnimationParser","buildSkeleton","createCamera","createLight","createMesh","createCurve","getTransformData","subBone","cameraAttribute","attr","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","innerWidth","innerHeight","AspectWidth","AspectHeight","FieldOfView","FocalLength","lightAttribute","LightType","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","OuterAngle","CastShadows","FBX_Deformer","reduce","geo","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","Lcl_Rotation","postRotation","PostRotation","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","bindMatrices","parsePoseNodes","geoRelationships","geoConnParent","BindPoseNode","Pose","NbPoseNodes","poseNodes","PoseNode","poseNode","Matrix","GlobalSettings","ambientColor","AmbientColor","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","genBuffers","weightsIndices","vertexWeights","mappingType","prevMaterialIndex","currentIndex","lastGroup","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","UV","parseUVs","weightTable","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","comparedWeight","comparedWeightIndex","comparedWeightArray","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","Order","KnotVector","pointsValues","Form","animationClips","rawClips","parseClips","rawClip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","rawCurves","animationCurve","KeyTime","convertFBXTimeToSeconds","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","deformerID","morpherID","morphName","rawStacks","AnimationStack","rawTracks","generateTracks","positionTrack","generateVectorTrack","R","rotationTrack","generateRotationTrack","S","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","quaternionValues","morphNum","lastValue","prevValue","xIndex","yIndex","zIndex","xValue","yValue","zValue","valuesSpan","absoluteSpan","numSubIntervals","nextValue","initialTime","timeSpan","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","FBXTree","matchComment","matchEmpty","matchBeginning","matchProperty","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","nodeAttrs","parseNodeAttr","currentNode","contentLine","propName","propValue","parentName","parseNodeSpecialProperty","connProps","rest","elem","append","parseNumberArray","props","prop","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","BinaryReader","skip","getUint32","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getInt16","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","reader2","littleEndian","dv","nullByte","CORRECT","cursor","versionRegExp","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lParentLX","lGlobalT","lLRM","lParentGRM","lParentTM","lParentGRSM","lParentGSM","lLSM","lGlobalRS","lParentLSM","lParentLSM_inv","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","TGALoader","tgaCheckHeader","image_type","TGA_TYPE_INDEXED","TGA_TYPE_RLE_INDEXED","colormap_length","colormap_size","colormap_type","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_TYPE_NO_DATA","pixel_size","tgaParse","use_rle","use_pal","pixel_data","palettes","pixel_total","tgaGetImageData8bits","y_start","y_step","y_end","x_start","x_step","x_end","colormap","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","getTgaRGBA","palette","flags","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_UL","TGA_ORIGIN_BL","TGA_ORIGIN_UR","TGA_ORIGIN_BR","use_grey","id_length","colormap_index","ColladaLoader","getElementsByTagName","xml","childNodes","parseStrings","parseFloats","parseInts","parseId","generateId","parseAsset","parseAssetUnit","upAxis","parseAssetUpAxis","textContent","parseLibrary","libraryName","buildLibrary","builder","build","getBuild","sources","samplers","channels","hasChildren","nodeType","parseSource","parseAnimationSampler","parseAnimationChannel","inputs","semantic","sid","arraySyntax","memberSyntax","member","sampler","buildAnimation","hasOwnProperty","inputId","INPUT","outputId","OUTPUT","outputSource","buildAnimationChannel","createKeyframeTracks","getAnimation","object3D","getNode","transforms","defaultMatrix","keyframes","prepareAnimationData","ascending","transformAnimationData","positionData","quaternionData","scaleData","keyframe","defaultValue","empty","createMissingKeyframes","getPrev","getNext","interpolate","parseAnimationClip","buildAnimationClip","animationTracks","getAnimationClip","parseController","skin","parseSkin","bindShapeMatrix","parseJoints","parseVertexWeights","vcount","buildController","buildSkin","skinIndices","skinWeights","BONE_LIMIT","jointOffset","JOINT","weightOffset","WEIGHT","jointSource","inverseSource","INV_BIND_MATRIX","jointCount","vertexSkinData","weightId","descending","init_from","buildImage","getImage","parseEffect","profile","parseEffectProfileCOMMON","effects","surfaces","parseEffectNewparam","technique","parseEffectTechnique","parseEffectExtra","parseEffectSurface","parseEffectSampler","parseEffectParameters","parseEffectParameter","parseEffectParameterTexture","parseEffectParameterTextureExtra","parseEffectParameterTextureExtraTechnique","parseEffectExtraTechniqueBump","parseEffectExtraTechnique","texcoord","buildEffect","getEffect","getTextureLoader","tgaLoader","buildMaterial","effect","textureObject","surface","wrapU","wrapV","offsetU","offsetV","repeatU","repeatV","parameter","float","transparency","techniques","parseCamera","optics","parseCameraOptics","parseCameraTechnique","parseCameraParameters","buildCamera","yfov","aspect_ratio","znear","zfar","ymag","xmag","aspectRatio","parseLight","parseLightTechnique","parseLightParameters","falloffAngle","buildLight","getLight","primitives","parseGeometryVertices","parseGeometryPrimitive","accessor","primitive","hasUV","inputname","groupPrimitives","checkUVCoordinates","uvsNeedsFix","buildGeometry","groupedPrimitives","primitiveType","buildGeometryType","materialKeys","input","prevLength","buildGeometryData","pushVector","sourceStride","tempColor","parseKinematicsModel","links","parseKinematicsTechniqueCommon","kinematicsModels","buildKinematicsModel","getKinematicsModel","parseKinematicsJoint","parseKinematicsLink","parseKinematicsJointParameter","limits","static","zeroPosition","middlePosition","attachments","parseKinematicsAttachment","parseKinematicsTransform","obj","parsePhysicsModel","rigidBodies","parsePhysicsRigidBody","physicsModels","parsePhysicsTechniqueCommon","inertia","mass","parseKinematicsScene","bindJointAxis","parseKinematicsBindJointAxis","kinematicsScenes","param","tmpJointIndex","jointIndex","buildKinematicsScene","getKinematicsScene","setupKinematics","kinematicsModelId","kinematicsSceneId","visualSceneId","visualScenes","kinematicsModel","kinematicsScene","visualScene","getVisualScene","jointMap","targetElement","collada","querySelector","parentVisualElement","parentElement","visualElement","visualElementName","buildTransformList","m0","kinematics","getJointValue","jointData","setJointValue","prepareNodes","instanceCameras","instanceControllers","instanceLights","instanceGeometries","instanceNodes","parseNodeInstance","hasNode","instances","instance","symbol","boneData","sortedBoneData","buildBoneHierarchy","hasVisualScene","processed","buildNode","instanceCamera","newObjects","buildObjects","instanceLight","fallbackMaterial","resolveMaterialBinding","instanceMaterials","parseVisualScene","buildVisualScene","setupAnimations","parserErrorToText","parserError","stack","TEXT_NODE","errorElement","errorText","asset","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsEmissiveStrengthExtension","GLTFMaterialsSpecularExtension","GLTFMaterialsIridescenceExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","plugins","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_IRIDESCENCE","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_MATERIALS_EMISSIVE_STRENGTH","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","extendMaterialParams","emissiveStrength","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","iridescenceFactor","iridescenceTexture","iridescenceIor","iridescenceThicknessTexture","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmissionTexture","thicknessFactor","thicknessTexture","colorArray","specularFactor","specularTexture","specularColorFactor","specularColorTexture","textureIndex","textureDef","loadTextureImage","isSupported","uri","handler","detectSupport","Image","onload","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","supported","ready","byteOffset","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","decodePrimitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","stride2","stride3","m1","_q","GLTFCubicSplineQuaternionInterpolant","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","targets","hasMorphNormal","hasMorphColor","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","getImageURIMimeType","search","associations","primitiveCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","isSafari","isFirefox","firefoxVersion","_invokeAll","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","meshes","skinLength","updateMappings","original","mappings","entries","_invokeOne","func","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","sourceIndex","sourceDef","promise","loadImageSource","webkitURL","sourceURI","isObjectURL","mapName","mapDef","gltfReference","assignFinalMaterial","useDerivativeTangents","useVertexColors","useFlatShading","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","loadGeometries","createDracoPrimitive","addPrimitiveAttributes","geometryPromise","meshIndex","toTrianglesDrawMode","cameraIndex","cameraDef","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","interpolantType","createNodeMesh","meshPromise","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","reduceAssociations","reducedAssociations","nodeId","parentObject","pendingJoints","jointNodes","jointNode","computeBounds","boxScale","maxDisplacement","assignAttributeAccessor","gltfAttributeName","drawMode","numberOfTriangles","newIndices","newGeometry","_object_pattern","_material_library_pattern","_material_use_pattern","_map_use_pattern","_face_vertex_data_separator_pattern","_ab","_cb","_color","ParserState","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","mtllib","groupEnd","cloned","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addColor","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","OBJLoader","setMaterials","trimStart","lineFirstChar","lineData","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","llen","pointData","hasPrimitives","hasVertexColors","createdMaterials","miLen","sourceMaterial","materialHash","materialLine","materialPoints","DDSLoader","loadMipmaps","dds","DDS_MAGIC","DDSD_MIPMAPCOUNT","DDSCAPS2_CUBEMAP","DDSCAPS2_CUBEMAP_POSITIVEX","DDSCAPS2_CUBEMAP_NEGATIVEX","DDSCAPS2_CUBEMAP_POSITIVEY","DDSCAPS2_CUBEMAP_NEGATIVEY","DDSCAPS2_CUBEMAP_POSITIVEZ","DDSCAPS2_CUBEMAP_NEGATIVEZ","fourCCToInt32","int32ToFourCC","loadARGBMip","dataOffset","dataLength","srcBuffer","byteArray","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","headerLengthInt","off_magic","off_size","off_flags","off_height","off_width","off_mipmapCount","off_pfFourCC","off_RGBBitCount","off_RBitMask","off_GBitMask","off_BBitMask","off_ABitMask","off_caps2","blockBytes","fourCC","isRGBAUncompressed","caps2","PLYLoader","propertyNameMapping","setPropertyNameMapping","parseHeader","patternHeader","headerText","headerLength","comments","objInfo","currentElement","make_ply_element_property","propertValues","countType","itemType","lineValues","lineType","parseASCIINumber","parseASCIIElement","parseASCII","faceVertexUvs","patternBody","currentElementCount","handleElement","postProcess","elementName","findAttrName","names","attrX","attrY","attrZ","attrNX","attrNY","attrNZ","attrS","attrT","attrR","attrG","attrB","vertex_indices","vertex_index","binaryRead","dataview","little_endian","getInt8","getUint16","binaryReadElement","parseBinary","STLLoader","isBinary","face_size","n_faces","expect","matchDataViewAt","query","hasColors","defaultR","defaultG","defaultB","normalX","normalY","normalZ","packedColor","vertexstart","componentIdx","patternSolid","patternFace","faceCounter","patternFloat","patternVertex","patternNormal","startVertex","endVertex","vertexCountPerFace","normalCountPerFace","ensureString","ensureBinary","array_buffer","binData","MTLLoader","setMaterialOptions","materialOptions","delimiter_pattern","materialsInfo","ss","materialCreator","MaterialCreator","setManager","baseUrl","materialsArray","nameLookup","converted","mn","covmat","save","lprop","normalizeRGB","ignoreZeroRGBs","materialName","getAsArray","createMaterial_","setMapForType","mapType","texParams","getTextureParams","invertTrProperty","matParams","items","_taskCache","DRACOLoader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","setDecoderPath","setDecoderConfig","config","setWorkerLimit","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","taskKey","cachedTask","worker","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","_createGeometry","_releaseTask","geometryData","_loadLibrary","_initDecoder","useJS","WebAssembly","librariesPending","jsContent","wasmBinary","DRACOWorker","_taskCosts","_taskLoad","onModuleLoaded","draco","DracoDecoderModule","module","Decoder","decoderBuffer","DecoderBuffer","Init","dracoGeometry","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","ptr","error_msg","attributeType","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","decodeAttribute","decodeIndex","numFaces","num_faces","numIndices","_malloc","GetTrianglesUInt32Array","HEAPF32","_free","numComponents","num_components","numPoints","num_points","numValues","dataType","getDracoDataType","GetAttributeDataArrayForAllPoints","DT_FLOAT32","DT_INT8","DT_INT16","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","pathSplit","getLoader","filePath","fileType","isDraco","dracoDir","fileExtension","getObject","enableDraco","getMTLLoader","mtlLoader","default","cameraRotation","cameraUp","cameraLookAt","backgroundColor","typeof","backgroundAlpha","controlsOptions","webGLRendererOptions","mtlPath","showFps","textureImage","clearScene","parallelLoad","labels","autoPlay","intersectRecursive","wrapper","controls","allLights","clock","requestAnimationId","mixers","css2DRenderer","loaderIndex","timer","objectPositionHasSet","isMultipleModels","mounted","beforeDestroy","watch","deep","methods","WEB_GL_OPTIONS","el","destroyScene","onResize","enableMousemoveEvent","onMouseUp","onClick","onDblclick","pick","mouse","updateModel","getObjectIndex","updateRenderer","updateLights","item","updateControls","loadModelSelect","_filePath","_fileType","loaderObj","loadFilePath","loadMtl","addObject","animate","updateStats","onProcess","clearTimeout","addTexture","_texture","clearSceneWrapper","setObjectAttr","returnObject","setLabel","setSpriteLabel","spriteImageLabel","spriteTextLabel","clearSprite","generateCanvas","ctx","roundRect","borderWidth","textWidth","fontSize","borderRadius","playAnimations","playSingleModel","playMultipleModels","vue3dLoader","install","Vue","component"],"sourceRoot":""}